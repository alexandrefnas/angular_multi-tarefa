"use strict";(self.webpackChunkangular_Multi_Tarefa=self.webpackChunkangular_Multi_Tarefa||[]).push([[792],{916:(Tx,s3,Bt)=>{var Km={};Bt.r(Km),Bt.d(Km,{HashMap:()=>X7,RADIAN_TO_DEGREE:()=>Z7,assert:()=>ts,bind:()=>jt,clone:()=>lt,concatArray:()=>Q7,createCanvas:()=>tRe,createHashMap:()=>rt,createObject:()=>Qv,curry:()=>Nn,defaults:()=>tn,disableUserSelect:()=>mk,each:()=>L,eqNaN:()=>Xv,extend:()=>oe,filter:()=>On,find:()=>nRe,guid:()=>dk,hasOwn:()=>tc,indexOf:()=>Mt,inherits:()=>hk,isArray:()=>me,isArrayLike:()=>gi,isBuiltInObject:()=>fk,isDom:()=>Zf,isFunction:()=>Xe,isGradientObject:()=>Kv,isImagePatternObject:()=>W7,isNumber:()=>$t,isObject:()=>Oe,isPrimitive:()=>tp,isRegExp:()=>iRe,isString:()=>we,isStringSafe:()=>DE,isTypedArray:()=>vi,keys:()=>yn,logError:()=>IE,map:()=>Fe,merge:()=>en,mergeAll:()=>eRe,mixin:()=>wa,noop:()=>_i,normalizeCssArray:()=>pk,reduce:()=>es,retrieve:()=>Jf,retrieve2:()=>qe,retrieve3:()=>ep,setAsPrimitive:()=>xE,slice:()=>SE,trim:()=>Ca});var Ix={};Bt.r(Ix),Bt.d(Ix,{add:()=>vk,applyTransform:()=>go,clone:()=>nY,copy:()=>cRe,create:()=>Qu,dist:()=>PE,distSquare:()=>Zu,distance:()=>RE,distanceSquare:()=>oY,div:()=>mRe,dot:()=>gRe,len:()=>_k,lenSquare:()=>yk,length:()=>hRe,lengthSquare:()=>fRe,lerp:()=>kE,max:()=>rc,min:()=>nc,mul:()=>pRe,negate:()=>vRe,normalize:()=>iY,scale:()=>ME,scaleAndAdd:()=>dRe,set:()=>uRe,sub:()=>rY});var Dx={};Bt.r(Dx),Bt.d(Dx,{clone:()=>ORe,copy:()=>Sk,create:()=>ic,identity:()=>Zv,invert:()=>Jv,mul:()=>oc,rotate:()=>NE,scale:()=>hY,translate:()=>OE});var Sx={};Bt.r(Sx),Bt.d(Sx,{fastLerp:()=>VY,fastMapToColor:()=>oPe,lerp:()=>BY,lift:()=>Lk,liftColor:()=>Vk,lum:()=>s_,mapToColor:()=>aPe,modifyAlpha:()=>lPe,modifyHSL:()=>sPe,parse:()=>_o,random:()=>cPe,stringify:()=>cc,toHex:()=>iPe});var xx={};Bt.r(xx),Bt.d(xx,{dispose:()=>HPe,disposeAll:()=>jPe,getElementSSRData:()=>GPe,getInstance:()=>$Pe,init:()=>lO,registerPainter:()=>aK,registerSSRDataGetter:()=>sK,version:()=>qPe});var Ax={};Bt.r(Ax),Bt.d(Ax,{Arc:()=>HT,BezierCurve:()=>NN,BoundingRect:()=>bt,Circle:()=>UT,CompoundPath:()=>mZ,Ellipse:()=>RN,Group:()=>Ia,Image:()=>vd,IncrementalDisplayable:()=>yZ,Line:()=>Tp,LinearGradient:()=>vZ,OrientedBoundingRect:()=>GT,Path:()=>rn,Point:()=>$e,Polygon:()=>ON,Polyline:()=>j_,RadialGradient:()=>_Z,Rect:()=>wi,Ring:()=>kN,Sector:()=>H_,Text:()=>Mr,applyTransform:()=>UN,clipPointsByRect:()=>SZ,clipRectByRect:()=>xZ,createIcon:()=>KT,extendPath:()=>wZ,extendShape:()=>bZ,getShapeClass:()=>CZ,getTransform:()=>IZ,groupTransition:()=>ILe,initProps:()=>pc,isElementRemoved:()=>fp,lineLineIntersect:()=>AZ,linePolygonIntersect:()=>DLe,makeImage:()=>LN,makePath:()=>YT,mergePath:()=>TZ,registerShape:()=>qo,removeElement:()=>wX,removeElementWithFadeOut:()=>EX,resizePath:()=>VN,setTooltipConfig:()=>XT,subPixelOptimize:()=>CLe,subPixelOptimizeLine:()=>BN,subPixelOptimizeRect:()=>wLe,transformDirection:()=>ELe,traverseElements:()=>RZ,updateProps:()=>us});var Mx={};Bt.r(Mx),Bt.d(Mx,{createDimensions:()=>w2e,createList:()=>mBe,createScale:()=>vBe,createSymbol:()=>tI,createTextStyle:()=>yBe,dataStack:()=>gBe,enableHoverEmphasis:()=>gT,getECData:()=>Dt,getLayoutRect:()=>Cd,mixinAxisModelCommonMethods:()=>_Be});var Rx={};Bt.r(Rx),Bt.d(Rx,{MAX_SAFE_INTEGER:()=>QPe,asc:()=>YPe,getPercentWithPrecision:()=>KPe,getPixelPrecision:()=>dK,getPrecision:()=>is,getPrecisionSafe:()=>uK,isNumeric:()=>pK,isRadianAroundZero:()=>f_,linearMap:()=>rT,nice:()=>hO,numericToNumber:()=>Ks,parseDate:()=>zo,quantile:()=>JPe,quantity:()=>fK,quantityExponent:()=>dO,reformIntervals:()=>eke,remRadian:()=>uO,round:()=>bo});var Px={};Bt.r(Px),Bt.d(Px,{format:()=>S_,parse:()=>zo});var kx={};Bt.r(kx),Bt.d(kx,{Arc:()=>HT,BezierCurve:()=>NN,BoundingRect:()=>bt,Circle:()=>UT,CompoundPath:()=>mZ,Ellipse:()=>RN,Group:()=>Ia,Image:()=>vd,IncrementalDisplayable:()=>yZ,Line:()=>Tp,LinearGradient:()=>vZ,Polygon:()=>ON,Polyline:()=>j_,RadialGradient:()=>_Z,Rect:()=>wi,Ring:()=>kN,Sector:()=>H_,Text:()=>Mr,clipPointsByRect:()=>SZ,clipRectByRect:()=>xZ,createIcon:()=>KT,extendPath:()=>wZ,extendShape:()=>bZ,getShapeClass:()=>CZ,getTransform:()=>IZ,initProps:()=>pc,makeImage:()=>LN,makePath:()=>YT,mergePath:()=>TZ,registerShape:()=>qo,resizePath:()=>VN,updateProps:()=>us});var Ox={};Bt.r(Ox),Bt.d(Ox,{addCommas:()=>nN,capitalFirst:()=>hNe,encodeHTML:()=>yi,formatTime:()=>dNe,formatTpl:()=>aN,getTextRect:()=>IBe,getTooltipMarker:()=>qX,normalizeCssArray:()=>A_,toCamelCase:()=>rN,truncateText:()=>Ske});var Nx={};Bt.r(Nx),Bt.d(Nx,{bind:()=>jt,clone:()=>lt,curry:()=>Nn,defaults:()=>tn,each:()=>L,extend:()=>oe,filter:()=>On,indexOf:()=>Mt,inherits:()=>hk,isArray:()=>me,isFunction:()=>Xe,isObject:()=>Oe,isString:()=>we,map:()=>Fe,merge:()=>en,reduce:()=>es});var Fx={};function l3(n,e,t,r,i,o,a){try{var s=n[o](a),l=s.value}catch(c){return void t(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function F(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(l){l3(o,r,i,a,s,"next",l)}function s(l){l3(o,r,i,a,s,"throw",l)}a(void 0)})}}function Lx(n,e){return Object.is(n,e)}Bt.r(Fx),Bt.d(Fx,{Axis:()=>FBe,ChartView:()=>il,ComponentModel:()=>un,ComponentView:()=>Aa,List:()=>bF,Model:()=>fr,PRIORITY:()=>bJ,SeriesModel:()=>gc,color:()=>Sx,connect:()=>ZVe,dataTool:()=>o2e,dependencies:()=>OVe,disConnect:()=>JVe,disconnect:()=>NJ,dispose:()=>e2e,env:()=>nt,extendChartView:()=>UBe,extendComponentModel:()=>LBe,extendComponentView:()=>VBe,extendSeriesModel:()=>BBe,format:()=>Ox,getCoordinateSystemDimensions:()=>n2e,getInstanceByDom:()=>dF,getInstanceById:()=>t2e,getMap:()=>i2e,graphic:()=>kx,helper:()=>Mx,init:()=>QVe,innerDrawElementOnCanvas:()=>KN,matrix:()=>Dx,number:()=>Rx,parseGeoJSON:()=>Eee,parseGeoJson:()=>Eee,registerAction:()=>Pd,registerCoordinateSystem:()=>VJ,registerLayout:()=>BJ,registerLoading:()=>gF,registerLocale:()=>QO,registerMap:()=>zJ,registerPostInit:()=>FJ,registerPostUpdate:()=>LJ,registerPreprocessor:()=>fF,registerProcessor:()=>pF,registerTheme:()=>hF,registerTransform:()=>HJ,registerUpdateLifecycle:()=>fI,registerVisual:()=>_c,setCanvasCreator:()=>r2e,setPlatformAPI:()=>j7,throttle:()=>jN,time:()=>Px,use:()=>ol,util:()=>Nx,vector:()=>Ix,version:()=>kVe,zrUtil:()=>Km,zrender:()=>xx});let or=null,Xm=!1,Vx=1;const Ir=Symbol("SIGNAL");function Ge(n){const e=or;return or=n,e}const xh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qm(n){if(Xm)throw new Error("");if(null===or)return;or.consumerOnSignalRead(n);const e=or.nextProducerIndex++;_0(or),e<or.producerNode.length&&or.producerNode[e]!==n&&eg(or)&&v0(or.producerNode[e],or.producerIndexOfThis[e]),or.producerNode[e]!==n&&(or.producerNode[e]=n,or.producerIndexOfThis[e]=eg(or)?d3(n,or,e):0),or.producerLastReadVersion[e]=n.version}function Zm(n){if((!eg(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Vx)){if(!n.producerMustRecompute(n)&&!m0(n))return void p0(n);n.producerRecomputeValue(n),p0(n)}}function c3(n){if(void 0===n.liveConsumerNode)return;const e=Xm;Xm=!0;try{for(const t of n.liveConsumerNode)t.dirty||zde(t)}finally{Xm=e}}function u3(){return!1!==or?.consumerAllowSignalWrites}function zde(n){n.dirty=!0,c3(n),n.consumerMarkedDirty?.(n)}function p0(n){n.dirty=!1,n.lastCleanEpoch=Vx}function Ah(n){return n&&(n.nextProducerIndex=0),Ge(n)}function Jm(n,e){if(Ge(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(eg(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)v0(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function m0(n){_0(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Zm(t),r!==t.version))return!0}return!1}function g0(n){if(_0(n),eg(n))for(let e=0;e<n.producerNode.length;e++)v0(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function d3(n,e,t){if(h3(n),0===n.liveConsumerNode.length&&f3(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=d3(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function v0(n,e){if(h3(n),1===n.liveConsumerNode.length&&f3(n))for(let r=0;r<n.producerNode.length;r++)v0(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];_0(i),i.producerIndexOfThis[r]=e}}function eg(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function _0(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function h3(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function f3(n){return void 0!==n.producerNode}const su=Symbol("UNSET"),Mh=Symbol("COMPUTING"),Rl=Symbol("ERRORED"),jde={...xh,value:su,dirty:!0,error:null,equal:Lx,kind:"computed",producerMustRecompute:n=>n.value===su||n.value===Mh,producerRecomputeValue(n){if(n.value===Mh)throw new Error("Detected cycle in computations.");const e=n.value;n.value=Mh;const t=Ah(n);let r,i=!1;try{r=n.computation(),Ge(null),i=e!==su&&e!==Rl&&r!==Rl&&n.equal(e,r)}catch(o){r=Rl,n.error=o}finally{Jm(n,t)}i?n.value=e:(n.value=r,n.version++)}};let p3=function $de(){throw new Error};function m3(n){p3(n)}function b0(n,e){u3()||m3(n),n.equal(n.value,e)||(n.value=e,function Wde(n){n.version++,function Ude(){Vx++}(),c3(n)}(n))}const Ux={...xh,equal:Lx,value:void 0,kind:"signal"};let zx;function w0(){return zx}function Pl(n){const e=zx;return zx=n,e}const Hx=Symbol("NotFound");function sn(n){return"function"==typeof n}function jx(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Error;const $x=jx(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function C0(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class St{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(sn(r))try{r()}catch(o){e=o instanceof $x?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{b3(o)}catch(a){e=e??[],a instanceof $x?e=[...e,...a.errors]:e.push(a)}}if(e)throw new $x(e)}}add(e){var t;if(e&&e!==this)if(this.closed)b3(e);else{if(e instanceof St){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&C0(t,e)}remove(e){const{_finalizers:t}=this;t&&C0(t,e),e instanceof St&&e._removeParent(this)}}St.EMPTY=(()=>{const n=new St;return n.closed=!0,n})();const _3=St.EMPTY;function y3(n){return n instanceof St||n&&"closed"in n&&sn(n.remove)&&sn(n.add)&&sn(n.unsubscribe)}function b3(n){sn(n)?n():n.unsubscribe()}const lu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},E0={setTimeout(n,e,...t){const{delegate:r}=E0;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=E0;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function w3(n){E0.setTimeout(()=>{const{onUnhandledError:e}=lu;if(!e)throw n;e(n)})}function Gx(){}const Jde=qx("C",void 0,void 0);function qx(n,e,t){return{kind:n,value:e,error:t}}let cu=null;function T0(n){if(lu.useDeprecatedSynchronousErrorHandling){const e=!cu;if(e&&(cu={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=cu;if(cu=null,t)throw r}}else n()}class Wx extends St{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,y3(e)&&e.add(this)):this.destination=ahe}static create(e,t,r){return new Kx(e,t,r)}next(e){this.isStopped?Xx(function the(n){return qx("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Xx(function ehe(n){return qx("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xx(Jde,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rhe=Function.prototype.bind;function Yx(n,e){return rhe.call(n,e)}class ihe{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){I0(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){I0(r)}else I0(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){I0(t)}}}class Kx extends Wx{constructor(e,t,r){let i;if(super(),sn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&lu.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yx(e.next,o),error:e.error&&Yx(e.error,o),complete:e.complete&&Yx(e.complete,o)}):i=e}this.destination=new ihe(i)}}function I0(n){lu.useDeprecatedSynchronousErrorHandling?function nhe(n){lu.useDeprecatedSynchronousErrorHandling&&cu&&(cu.errorThrown=!0,cu.error=n)}(n):w3(n)}function Xx(n,e){const{onStoppedNotification:t}=lu;t&&E0.setTimeout(()=>t(n,e))}const ahe={closed:!0,next:Gx,error:function ohe(n){throw n},complete:Gx},Qx="function"==typeof Symbol&&Symbol.observable||"@@observable";function kl(n){return n}function C3(n){return 0===n.length?kl:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Wt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function che(n){return n&&n instanceof Wx||function lhe(n){return n&&sn(n.next)&&sn(n.error)&&sn(n.complete)}(n)&&y3(n)}(t)?t:new Kx(t,r,i);return T0(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=E3(r))((i,o)=>{const a=new Kx({next:s=>{try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Qx](){return this}pipe(...t){return C3(t)(this)}toPromise(t){return new(t=E3(t))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return n.create=e=>new n(e),n})();function E3(n){var e;return null!==(e=n??lu.Promise)&&void 0!==e?e:Promise}const uhe=jx(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ot=(()=>{class n extends Wt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new T3(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new uhe}next(t){T0(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){T0(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){T0(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_3:(this.currentObservers=null,o.push(t),new St(()=>{this.currentObservers=null,C0(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Wt;return t.source=this,t}}return n.create=(e,t)=>new T3(e,t),n})();class T3 extends ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:_3}}class Oi extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const D3={};function Jx(n,e){n.__jsaction=e}const fhe=["mouseenter","mouseleave","pointerenter","pointerleave"],phe=["focus","blur","error","load","toggle"],x3=n=>phe.indexOf(n)>=0;function _he(n,e){n.removeEventListener?n.removeEventListener(e.eventType,e.handler,"boolean"==typeof e.passive?{capture:e.capture}:e.capture):n.detachEvent&&n.detachEvent(`on${e.eventType}`,e.handler)}let A3=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);const The=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent);class Ihe{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,t,r){The&&(this.element.style.cursor="pointer"),this.handlerInfos.push(function vhe(n,e,t,r){let i=!1;return x3(e)&&(i=!0),n.addEventListener(e,t,"boolean"==typeof r?{capture:i,passive:r}:i),{eventType:e,handler:t,capture:i,passive:r}}(this.element,e,t(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)_he(this.element,this.handlerInfos[e]);this.handlerInfos=[]}}function Ol(n){return n.eventType}function eA(n,e){n.eventType=e}function D0(n){return n.event}function M3(n,e){n.event=e}function R3(n){return n.targetElement}function P3(n,e){n.targetElement=e}function k3(n){return n.eic}function S0(n){return n.eia}function O3(n,e,t){n.eia=[e,t]}function tA(n){n.eia=void 0}function x0(n){return n[1]}function N3(n,e){n.eirp=e}function F3(n){return n.eir}function L3(n,e){n.eir=e}function V3(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}class nA{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Ol(this.eventInfo)}setEventType(e){eA(this.eventInfo,e)}getEvent(){return D0(this.eventInfo)}setEvent(e){M3(this.eventInfo,e)}getTargetElement(){return R3(this.eventInfo)}setTargetElement(e){P3(this.eventInfo,e)}getContainer(){return k3(this.eventInfo)}setContainer(e){!function She(n,e){n.eic=e}(this.eventInfo,e)}getTimestamp(){return function xhe(n){return n.timeStamp}(this.eventInfo)}setTimestamp(e){!function Ahe(n,e){n.timeStamp=e}(this.eventInfo,e)}getAction(){const e=S0(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){e?O3(this.eventInfo,e.name,e.element):tA(this.eventInfo)}getIsReplay(){return function Mhe(n){return n.eirp}(this.eventInfo)}setIsReplay(e){N3(this.eventInfo,e)}getResolved(){return F3(this.eventInfo)}setResolved(e){L3(this.eventInfo,e)}clone(){return new nA(V3(this.eventInfo))}}const Rhe={},Phe=/\s*;\s*/;class Ohe{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=t}resolveEventType(e){this.clickModSupport&&"click"===Ol(e)&&function whe(n){return A3&&n.metaKey||!A3&&n.ctrlKey||function bhe(n){return 2===n.which||null==n.which&&4===n.button}(n)||n.shiftKey}(D0(e))?eA(e,"clickmod"):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){F3(e)||(this.populateAction(e,R3(e)),L3(e,!0))}resolveParentAction(e){const t=S0(e),r=t&&x0(t);tA(e);const i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,t){let r=t;for(;r&&r!==k3(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!S0(e));)r=this.getParentNode(r);const i=S0(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&("mouseenter"===Ol(e)||"mouseleave"===Ol(e)||"pointerenter"===Ol(e)||"pointerleave"===Ol(e))))if(function Che(n,e,t){const r=n.relatedTarget;return("mouseover"===n.type&&"mouseenter"===e||"mouseout"===n.type&&"mouseleave"===e||"pointerover"===n.type&&"pointerenter"===e||"pointerout"===n.type&&"pointerleave"===e)&&(!r||r!==t&&!t.contains(r))}(D0(e),Ol(e),x0(i))){const o=function Ehe(n,e){const t={};for(const r in n){if("srcElement"===r||"target"===r)continue;const o=n[r];"function"!=typeof o&&(t[r]=o)}return t.type="mouseover"===n.type?"mouseenter":"mouseout"===n.type?"mouseleave":"pointerover"===n.type?"pointerenter":"pointerleave",t.target=t.srcElement=e,t.bubbles=!1,t._originalEvent=n,t}(D0(e),x0(i));M3(e,o),P3(e,x0(i))}else tA(e)}getParentNode(e){const t=e.__owner;if(t)return t;const r=e.parentNode;return"#document-fragment"===r?.nodeName?r?.host??null:r}populateActionOnElement(e,t){const r=this.parseActions(e),i=r[Ol(t)];void 0!==i&&O3(t,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,t,r)}parseActions(e){let t=function S3(n){return n.__jsaction}(e);if(!t){const r=e.getAttribute("jsaction");if(r){if(t=function dhe(n){return D3[n]}(r),!t){t={};const i=r.split(Phe);for(let o=0;o<i.length;o++){const a=i[o];if(!a)continue;const s=a.indexOf(":"),l=-1!==s,c=l?a.substr(0,s).trim():"click",u=l?a.substr(s+1).trim():a;t[c]=u}!function hhe(n,e){D3[n]=e}(r,t)}Jx(e,t)}else t=Rhe,Jx(e,t)}return t}addA11yClickSupport(e,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}}var U3=function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n}(U3||{});class Nhe{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=t,this.eventReplayer=r}dispatch(e){const t=new nA(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);const r=t.getAction();r&&function Fhe(n,e){return"A"===n.tagName&&("click"===e.getEventType()||"clickmod"===e.getEventType())}(r.element,t)&&function yhe(n){n.preventDefault?n.preventDefault():n.returnValue=!1}(t.getEvent()),this.eventReplayer&&t.getIsReplay()?this.scheduleEventInfoWrapperReplay(t):this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}}const z3=Symbol.for("propagationStopped");class Bhe{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,t=!0){this.dispatchDelegate=e,this.clickModSupport=t,this.actionResolver=new Ohe({clickModSupport:t}),this.dispatcher=new Nhe(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&function Hhe(n){const e=n.getEvent(),t=n.getTargetElement(),r=e.preventDefault.bind(e);uu(e,"target",t),uu(e,"eventPhase",101),uu(e,"preventDefault",()=>{throw r(),new Error("`preventDefault` called during event replay.")}),uu(e,"composedPath",()=>{throw new Error("`composedPath` called during event replay.")})}(e),function Uhe(n){const e=n.getEvent(),t=n.getEvent().stopPropagation.bind(e),r=()=>{e[z3]=!0,t()};uu(e,"stopPropagation",r),uu(e,"stopImmediatePropagation",r)}(e);e.getAction();){if(jhe(e),x3(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),e.getEvent()[z3]))return;this.actionResolver.resolveParentAction(e.eventInfo)}}}function jhe(n){const e=n.getEvent(),t=n.getAction()?.element;t&&uu(e,"currentTarget",t,{configurable:!0})}function uu(n,e,t,{configurable:r=!1}={}){Object.defineProperty(n,e,{value:t,configurable:r})}function G3(n,e,t,r){for(let i=0;i<e.length;i++)n.removeEventListener(e[i],t,r)}let Khe=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=!1;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){const o=function B3(n,e,t,r,i,o,a,s){return{eventType:n,event:e,targetElement:t,eic:r,timeStamp:i,eia:o,eirp:a,eiack:s}}(t,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(t){if(!this.dispatcher)return N3(t,!0),void this.queuedEventInfos?.push(t);this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&fhe.indexOf(t)>=0)return;const o=(s,l,c)=>{this.handleEvent(s,l,c)};this.eventHandlers[t]=o;const a=function ghe(n){return"mouseenter"===n?"mouseover":"mouseleave"===n?"mouseout":"pointerenter"===n?"pointerover":"pointerleave"===n?"pointerout":n}(r||t);if(a!==t){const s=this.browserEventTypeToExtraEventTypes[a]||[];s.push(t),this.browserEventTypeToExtraEventTypes[a]=s}this.containerManager.addEventListener(a,s=>l=>{o(t,l,s)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),function $3(n){n&&(G3(n.c,n.et,n.h),G3(n.c,n.etc,n.h,!0))}(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){const i=t[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let a=0;a<o.length;a++){const s=V3(i);eA(s,o[a]),this.handleEventInfo(s)}}}getEventTypesForBrowserEventType(t){const r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function q3(n,e=window){e._ejsas&&(e._ejsas[n]=void 0)}function W3(n){return sn(n?.lift)}function Hn(n){return e=>{if(W3(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ln(n,e,t,r,i){return new Qhe(n,e,t,r,i)}class Qhe extends Wx{constructor(e,t,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(l){e.error(l)}}:super._next,this._error=i?function(s){try{i(s)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(n,e){return Hn((t,r)=>{let i=0;t.subscribe(ln(r,o=>{r.next(n.call(e,o,i++))}))})}const Y3="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class K extends Error{code;constructor(e,t){super(function ia(n,e){return`${function Zhe(n){return`NG0${Math.abs(n)}`}(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const A0=Symbol("InputSignalNode#UNSET"),K3={...Ux,transformFn:void 0,applyValueToInputSignal(n,e){b0(n,e)}};function X3(n,e){const t=Object.create(K3);function r(){if(Qm(t),t.value===A0)throw new K(-950,null);return t.value}return t.value=n,t.transformFn=e?.transform,r[Ir]=t,r}function Is(n){return{toString:n}.toString()}const Ph="__parameters__";function Oh(n,e,t){return Is(()=>{const r=function rA(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return s.annotation=a,s;function s(l,c,u){const d=l.hasOwnProperty(Ph)?l[Ph]:Object.defineProperty(l,Ph,{value:[]})[Ph];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const xn=globalThis;function xt(n){for(let e in n)if(n[e]===xt)return e;throw Error("Could not find renamed property on target object.")}function Jhe(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ar(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(ar).join(", ")}]`;if(null==n)return""+n;const e=n.overriddenName||n.name;if(e)return`${e}`;const t=n.toString();if(null==t)return""+t;const r=t.indexOf("\n");return r>=0?t.slice(0,r):t}function iA(n,e){return n?e?`${n} ${e}`:n:e||""}const tfe=xt({__forward_ref__:xt});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return ar(this())},n}function Be(n){return M0(n)?n():n}function M0(n){return"function"==typeof n&&n.hasOwnProperty(tfe)&&n.__forward_ref__===_t}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function R0(n){return Z3(n,k0)||Z3(n,J3)}function Z3(n,e){return n.hasOwnProperty(e)?n[e]:null}function P0(n){return n&&(n.hasOwnProperty(oA)||n.hasOwnProperty(sfe))?n[oA]:null}const k0=xt({\u0275prov:xt}),oA=xt({\u0275inj:xt}),J3=xt({ngInjectableDef:xt}),sfe=xt({ngInjectorDef:xt});class W{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function lA(n){return n&&!!n.\u0275providers}const Nh=xt({\u0275cmp:xt}),cA=xt({\u0275dir:xt}),uA=xt({\u0275pipe:xt}),tj=xt({\u0275mod:xt}),Ds=xt({\u0275fac:xt}),tg=xt({__NG_ELEMENT_ID__:xt}),nj=xt({__NG_ENV_ID__:xt});function He(n){return"string"==typeof n?n:null==n?"":String(n)}function rj(n,e){throw new K(-200,n)}function dA(n,e){throw new K(-201,!1)}var Je=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Je||{});let hA;function ij(){return hA}function Fi(n){const e=hA;return hA=n,e}function oj(n,e,t){const r=R0(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Je.Optional?null:void 0!==e?e:void dA()}const hu={},fA="__NG_DI_FLAG__";class aj{injector;constructor(e){this.injector=e}retrieve(e,t){return this.injector.get(e,t.optional?Hx:hu,t)}}const F0="ngTempTokenPath",hfe=/\n/gm,sj="__source";function pfe(n,e=Je.Default){if(void 0===w0())throw new K(-203,!1);if(null===w0())return oj(n,void 0,e);{const t=w0();let r;return r=t instanceof aj?t.injector:t,r.get(n,e&Je.Optional?null:void 0,e)}}function _e(n,e=Je.Default){return(ij()||pfe)(Be(n),e)}function O(n,e=Je.Default){return _e(n,L0(e))}function L0(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pA(n){const e=[];for(let t=0;t<n.length;t++){const r=Be(n[t]);if(Array.isArray(r)){if(0===r.length)throw new K(900,!1);let i,o=Je.Default;for(let a=0;a<r.length;a++){const s=r[a],l=mfe(s);"number"==typeof l?-1===l?i=s.token:o|=l:i=s}e.push(_e(i,o))}else e.push(_e(r))}return e}function ng(n,e){return n[fA]=e,n.prototype[fA]=e,n}function mfe(n){return n[fA]}const Dr=ng(Oh("Optional"),8),Fh=ng(Oh("SkipSelf"),4);function fu(n,e){return n.hasOwnProperty(Ds)?n[Ds]:null}function Lh(n,e){n.forEach(t=>Array.isArray(t)?Lh(t,e):e(t))}function cj(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function V0(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ro(n,e,t){let r=rg(n,e);return r>=0?n[1|r]=t:(r=~r,function dj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function mA(n,e){const t=rg(n,e);if(t>=0)return n[1|t]}function rg(n,e){return function Cfe(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),a=n[o<<t];if(e===a)return o<<t;a>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const oa={},yt=[],io=new W(""),hj=new W("",-1),gA=new W("");class U0{get(e,t=hu){if(t===hu){const r=new Error(`NullInjectorError: No provider for ${ar(e)}!`);throw r.name="NullInjectorError",r}return t}}function oo(n,e){const t=n[tj]||null;if(!t&&!0===e)throw new Error(`Type ${ar(n)} does not have '\u0275mod' property.`);return t}function it(n){return n[Nh]||null}function Sr(n){return n[cA]||null}function ao(n){return n[uA]||null}function Ao(n){return{\u0275providers:n}}function Efe(...n){return{\u0275providers:vA(0,n),\u0275fromNgModule:!0}}function vA(n,...e){const t=[],r=new Set;let i;const o=a=>{t.push(a)};return Lh(e,a=>{const s=a;z0(s,o,[],r)&&(i||=[],i.push(s))}),void 0!==i&&fj(i,o),t}function fj(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];_A(i,o=>{e(o,r)})}}function z0(n,e,t,r){if(!(n=Be(n)))return!1;let i=null,o=P0(n);const a=!o&&it(n);if(o||a){if(a&&!a.standalone)return!1;i=n}else{const l=n.ngModule;if(o=P0(l),!o)return!1;i=l}const s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of l)z0(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let c;r.add(i);try{Lh(o.imports,u=>{z0(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&fj(c,e)}if(!s){const c=fu(i)||(()=>new i);e({provide:i,useFactory:c,deps:yt},i),e({provide:gA,useValue:i,multi:!0},i),e({provide:io,useValue:()=>_e(i),multi:!0},i)}const l=o.providers;if(null!=l&&!s){const c=n;_A(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function _A(n,e){for(let t of n)lA(t)&&(t=t.\u0275providers),Array.isArray(t)?_A(t,e):e(t)}const Tfe=xt({provide:String,useValue:xt});function yA(n){return null!==n&&"object"==typeof n&&Tfe in n}function mu(n){return"function"==typeof n}const bA=new W(""),H0={},gj={};let wA;function j0(){return void 0===wA&&(wA=new U0),wA}class vr{}class gu extends vr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,EA(e,a=>this.processProvider(a)),this.records.set(hj,Vh(void 0,this)),i.has("environment")&&this.records.set(vr,Vh(void 0,this));const o=this.records.get(bA);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gA,yt,Je.Self))}retrieve(e,t){return this.get(e,t.optional?Hx:hu,t)}destroy(){ig(this),this._destroyed=!0;const e=Ge(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(e)}}onDestroy(e){return ig(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ig(this);const t=Pl(this),r=Fi(void 0);try{return e()}finally{Pl(t),Fi(r)}}get(e,t=hu,r=Je.Default){if(ig(this),e.hasOwnProperty(nj))return e[nj](this);r=L0(r);const o=Pl(this),a=Fi(void 0);try{if(!(r&Je.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function Mfe(n){return"function"==typeof n||"object"==typeof n&&n instanceof W}(e)&&R0(e);l=c&&this.injectableDefInScope(c)?Vh(CA(e),H0):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l,r)}return(r&Je.Self?j0():this.parent).get(e,t=r&Je.Optional&&t===hu?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[F0]=s[F0]||[]).unshift(ar(e)),o)throw s;return function gfe(n,e,t,r){const i=n[F0];throw e[sj]&&i.unshift(e[sj]),n.message=function vfe(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ar(e);if(Array.isArray(e))i=e.map(ar).join(" -> ");else if("object"==typeof e){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):ar(s)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(hfe,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[F0]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Fi(a),Pl(o)}}resolveInjectorInitializers(){const e=Ge(null),t=Pl(this),r=Fi(void 0);try{const o=this.get(io,yt,Je.Self);for(const a of o)a()}finally{Pl(t),Fi(r),Ge(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ar(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let t=mu(e=Be(e))?e:Be(e&&e.provide);const r=function Sfe(n){return yA(n)?Vh(void 0,n.useValue):Vh(vj(n),H0)}(e);if(!mu(e)&&!0===e.multi){let i=this.records.get(t);i||(i=Vh(void 0,H0,!0),i.factory=()=>pA(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){const i=Ge(null);try{return t.value===gj?rj(ar(e)):t.value===H0&&(t.value=gj,t.value=t.factory(void 0,r)),"object"==typeof t.value&&t.value&&function Afe(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ge(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Be(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function CA(n){const e=R0(n),t=null!==e?e.factory:fu(n);if(null!==t)return t;if(n instanceof W)throw new K(204,!1);if(n instanceof Function)return function Dfe(n){if(n.length>0)throw new K(204,!1);const t=function afe(n){return n&&(n[k0]||n[J3])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new K(204,!1)}function vj(n,e,t){let r;if(mu(n)){const i=Be(n);return fu(i)||CA(i)}if(yA(n))r=()=>Be(n.useValue);else if(function mj(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...pA(n.deps||[]));else if(function pj(n){return!(!n||!n.useExisting)}(n))r=(i,o)=>_e(Be(n.useExisting),void 0!==o&&o&Je.Optional?Je.Optional:void 0);else{const i=Be(n&&(n.useClass||n.provide));if(!function xfe(n){return!!n.deps}(n))return fu(i)||CA(i);r=()=>new i(...pA(n.deps))}return r}function ig(n){if(n.destroyed)throw new K(205,!1)}function Vh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function EA(n,e){for(const t of n)Array.isArray(t)?EA(t,e):t&&lA(t)?EA(t.\u0275providers,e):e(t)}function Vi(n,e){let t;n instanceof gu?(ig(n),t=n):t=new aj(n);const i=Pl(t),o=Fi(void 0);try{return e()}finally{Pl(i),Fi(o)}}function _j(){return void 0!==ij()||null!=w0()}function vu(n){if(!_j())throw new K(-203,!1)}function An(n){return Array.isArray(n)&&"object"==typeof n[1]}function lr(n){return Array.isArray(n)&&!0===n[1]}function DA(n){return!!(4&n.flags)}function sa(n){return n.componentOffset>-1}function Y0(n){return!(1&~n.flags)}function lo(n){return!!n.template}function xs(n){return!!(512&n[2])}function As(n){return!(256&~n[2])}class Hfe{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dj(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}const vn=(()=>{const n=()=>Sj;return n.ngInherit=!0,n})();function Sj(n){return n.type.prototype.ngOnChanges&&(n.setInput=$fe),jfe}function jfe(){const n=Aj(this),e=n?.current;if(e){const t=n.previous;if(t===oa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function $fe(n,e,t,r,i){const o=this.declaredInputs[r],a=Aj(n)||function Gfe(n,e){return n[xj]=e}(n,{previous:oa,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new Hfe(c&&c.currentValue,t,l===oa),Dj(n,e,i,t)}const xj="__ngSimpleChanges__";function Aj(n){return n[xj]||null}function ft(n){for(;Array.isArray(n);)n=n[0];return n}function Gh(n,e){return ft(e[n])}function ai(n,e){return ft(e[n.index])}function wu(n,e){return n.data[e]}function Cu(n,e){return n[e]}function si(n,e){const t=e[n];return An(t)?t:t[0]}function AA(n){return!(128&~n[2])}function Mo(n,e){return null==e?null:n[e]}function Pj(n){n[17]=0}function MA(n){1024&n[2]||(n[2]|=1024,AA(n)&&qh(n))}function sg(n){return!!(9216&n[2]||n[24]?.dirty)}function RA(n){n[10].changeDetectionScheduler?.notify(8),64&n[2]&&(n[2]|=1024),sg(n)&&qh(n)}function qh(n){n[10].changeDetectionScheduler?.notify(0);let e=Ms(n);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,AA(e));)e=Ms(e)}function X0(n,e){if(As(n))throw new K(911,!1);null===n[21]&&(n[21]=[]),n[21].push(e)}function Ms(n){const e=n[3];return lr(e)?e[3]:e}function kA(n){return n[7]??=[]}function OA(n){return n.cleanup??=[]}const Ue={lFrame:Hj(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let FA=!1;function LA(){return Ue.bindingsEnabled}function Eu(){return null!==Ue.skipHydrationRootTNode}function $(){return Ue.lFrame.lView}function Ve(){return Ue.lFrame.tView}function Te(n){return Ue.lFrame.contextLView=n,n[8]}function Ie(n){return Ue.lFrame.contextLView=null,n}function tt(){let n=Oj();for(;null!==n&&64===n.type;)n=n.parent;return n}function Oj(){return Ue.lFrame.currentTNode}function la(n,e){const t=Ue.lFrame;t.currentTNode=n,t.isParent=e}function VA(){return Ue.lFrame.isParent}function BA(){Ue.lFrame.isParent=!1}function Lj(){return FA}function Z0(n){const e=FA;return FA=n,e}function li(){const n=Ue.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ro(){return Ue.lFrame.bindingIndex++}function Ps(n){const e=Ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ape(n,e){const t=Ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,UA(e)}function UA(n){Ue.lFrame.currentDirectiveIndex=n}function HA(){return Ue.lFrame.currentQueryIndex}function J0(n){Ue.lFrame.currentQueryIndex=n}function lpe(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[5]:null}function Uj(n,e,t){if(t&Je.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Je.Host||(i=lpe(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Ue.lFrame=zj();return r.currentTNode=e,r.lView=n,!0}function jA(n){const e=zj(),t=n[1];Ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zj(){const n=Ue.lFrame,e=null===n?null:n.child;return null===e?Hj(n):e}function Hj(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function jj(){const n=Ue.lFrame;return Ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $j=jj;function $A(){const n=jj();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xr(){return Ue.lFrame.selectedIndex}function Tu(n){Ue.lFrame.selectedIndex=n}function Ot(){const n=Ue.lFrame;return wu(n.tView,n.selectedIndex)}function cg(){Ue.lFrame.currentNamespace="svg"}function GA(){!function dpe(){Ue.lFrame.currentNamespace=null}()}function Gj(){return Ue.lFrame.currentNamespace}let qj=!0;function ug(){return qj}function Ua(n){qj=n}function qA(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(n.contentHooks??=[]).push(-t,a),s&&((n.contentHooks??=[]).push(t,s),(n.contentCheckHooks??=[]).push(t,s)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function ew(n,e,t){Wj(n,e,3,t)}function tw(n,e,t,r){(3&n[2])===t&&Wj(n,e,t,r)}function WA(n,e){let t=n[2];(3&t)===e&&(t&=16383,t+=1,n[2]=t)}function Wj(n,e,t,r){const o=r??-1,a=e.length-1;let s=0;for(let l=void 0!==r?65535&n[17]:0;l<a;l++)if("number"==typeof e[l+1]){if(s=e[l],null!=r&&s>=r)break}else e[l]<0&&(n[17]+=65536),(s<o||-1==o)&&(fpe(n,t,e,l),n[17]=(4294901760&n[17])+l+2),l++}function Yj(n,e){const t=Ge(null);try{e.call(n)}finally{Ge(t)}}function fpe(n,e,t,r){const i=t[r]<0,o=t[r+1],s=n[i?-t[r]:t[r]];i?n[2]>>14<n[17]>>16&&(3&n[2])===e&&(n[2]+=16384,Yj(s,o)):Yj(s,o)}class dg{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}}function Kj(n){return 3===n||4===n||6===n}function Xj(n){return 64===n.charCodeAt(0)}function Yh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Qj(n,t,i,0,-1===t||2===t?e[++r]:null)}}return n}function Qj(n,e,t,r,i){let o=0,a=n.length;if(-1===e)a=-1;else for(;o<n.length;){const s=n[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<n.length;){const s=n[o];if("number"==typeof s)break;if(s===t)return void(null!==i&&(n[o+1]=i));o++,null!==i&&o++}-1!==a&&(n.splice(a,0,e),o=a+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i)}function XA(n){return-1!==n}function hg(n){return 32767&n}function fg(n,e){let t=function _pe(n){return n>>16}(n),r=e;for(;t>0;)r=r[14],t--;return r}let QA=!0;function nw(n){const e=QA;return QA=n,e}let ype=0;const za={};function rw(n,e){const t=e4(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,ZA(r.data,n),ZA(e,null),ZA(r.blueprint,null));const i=iw(n,e),o=n.injectorIndex;if(XA(i)){const a=hg(i),s=fg(i,e),l=s[1].data;for(let c=0;c<8;c++)e[o+c]=s[a+c]|l[a+c]}return e[o+8]=i,o}function ZA(n,e){n.push(0,0,0,0,0,0,0,0,e)}function e4(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function iw(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=s4(i),null===r)return-1;if(t++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function JA(n,e,t){!function bpe(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(tg)&&(r=t[tg]),null==r&&(r=t[tg]=ype++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function t4(n,e,t){if(t&Je.Optional||void 0!==n)return n;dA()}function n4(n,e,t,r){if(t&Je.Optional&&void 0===r&&(r=null),!(t&(Je.Self|Je.Host))){const i=n[9],o=Fi(void 0);try{return i?i.get(e,r,t&Je.Optional):oj(e,r,t&Je.Optional)}finally{Fi(o)}}return t4(r,0,t)}function r4(n,e,t,r=Je.Default,i){if(null!==n){if(2048&e[2]&&!(r&Je.Self)){const a=function Ipe(n,e,t,r,i){let o=n,a=e;for(;null!==o&&null!==a&&2048&a[2]&&!xs(a);){const s=i4(o,a,t,r|Je.Self,za);if(s!==za)return s;let l=o.parent;if(!l){const c=a[20];if(c){const u=c.get(t,za,r);if(u!==za)return u}l=s4(a),a=a[14]}o=l}return i}(n,e,t,r,za);if(a!==za)return a}const o=i4(n,e,t,r,za);if(o!==za)return o}return n4(e,t,r,i)}function i4(n,e,t,r,i){const o=function Epe(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(tg)?n[tg]:void 0;return"number"==typeof e?e>=0?255&e:Tpe:e}(t);if("function"==typeof o){if(!Uj(e,n,r))return r&Je.Host?t4(i,0,r):n4(e,t,r,i);try{let a;if(a=o(r),null!=a||r&Je.Optional)return a;dA()}finally{$j()}}else if("number"==typeof o){let a=null,s=e4(n,e),l=-1,c=r&Je.Host?e[15][5]:null;for((-1===s||r&Je.SkipSelf)&&(l=-1===s?iw(n,e):e[s+8],-1!==l&&a4(r,!1)?(a=e[1],s=hg(l),e=fg(l,e)):s=-1);-1!==s;){const u=e[1];if(o4(o,s,u.data)){const d=Cpe(s,e,t,a,r,c);if(d!==za)return d}l=e[s+8],-1!==l&&a4(r,e[1].data[s+8]===c)&&o4(o,s,e)?(a=u,s=hg(l),e=fg(l,e)):s=-1}}return i}function Cpe(n,e,t,r,i,o){const a=e[1],s=a.data[n+8],u=ow(s,a,t,null==r?sa(s)&&QA:r!=a&&!!(3&s.type),i&Je.Host&&o===s);return null!==u?pg(e,a,u,s,i):za}function ow(n,e,t,r,i){const o=n.providerIndexes,a=e.data,s=1048575&o,l=n.directiveStart,u=o>>20,h=i?s+u:n.directiveEnd;for(let f=r?s:s+u;f<h;f++){const p=a[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=a[l];if(f&&lo(f)&&f.type===t)return l}return null}function pg(n,e,t,r,i){let o=n[t];const a=e.data;if(o instanceof dg){const s=o;s.resolving&&rj(function Ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(a[t]));const l=nw(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Fi(s.injectImpl):null;Uj(n,r,Je.Default);try{o=n[t]=s.factory(void 0,i,a,n,r),e.firstCreatePass&&t>=r.directiveStart&&function hpe(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const a=Sj(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,a[t],e)}finally{null!==u&&Fi(u),nw(l),s.resolving=!1,$j()}}return o}function o4(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function a4(n,e){return!(n&Je.Self||n&Je.Host&&e)}class Mn{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return r4(this._tNode,this._lView,e,L0(r),t)}}function Tpe(){return new Mn(tt(),$())}function Rn(n){return Is(()=>{const e=n.prototype.constructor,t=e[Ds]||eM(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ds]||eM(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function eM(n){return M0(n)?()=>{const e=eM(Be(n));return e&&e()}:fu(n)}function s4(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[5]:null}function mg(n){return function wpe(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Kj(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(tt(),n)}function h4(n,e=null,t=null,r){const i=f4(n,e,t,r);return i.resolveInjectorInitializers(),i}function f4(n,e=null,t=null,r,i=new Set){const o=[t||yt,Efe(n)];return r=r||("object"==typeof n?void 0:ar(n)),new gu(o,e||j0(),r||null,i)}class pt{static THROW_IF_NOT_FOUND=hu;static NULL=new U0;static create(e,t){if(Array.isArray(e))return h4({name:""},t,e,"");{const r=e.name??"";return h4({name:r},e.parent,e.providers,r)}}static \u0275prov=te({token:pt,providedIn:"any",factory:()=>_e(hj)});static __NG_ELEMENT_ID__=-1}class kpe{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>mg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}new W("").__NG_ELEMENT_ID__=n=>{const e=tt();if(null===e)throw new K(204,!1);if(2&e.type)return e.value;if(n&Je.Optional)return null;throw new K(204,!1)};const p4=!1;let ks=(()=>class n{static __NG_ELEMENT_ID__=Npe;static __NG_ENV_ID__=t=>t})();class m4 extends ks{_lView;constructor(e){super(),this._lView=e}onDestroy(e){const t=this._lView;return As(t)?(e(),()=>{}):(X0(t,e),()=>function PA(n,e){if(null===n[21])return;const t=n[21].indexOf(e);-1!==t&&n[21].splice(t,1)}(t,e))}}function Npe(){return new m4($())}class Os{}const Kh=new W("",{providedIn:"root",factory:()=>!1}),g4=new W(""),nM=new W("");let Du=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Oi(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),sw=(()=>{class n{internalPendingTasks=O(Du);scheduler=O(Os);add(){const t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){var r=this;return F(function*(){const i=r.add();try{return yield t()}finally{i()}})()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})();const fe=class Fpe extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_j()&&(this.destroyRef=O(ks,{optional:!0})??void 0,this.pendingTasks=O(Du,{optional:!0})??void 0)}emit(e){const t=Ge(null);try{super.next(e)}finally{Ge(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),a=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));const s=super.subscribe({next:i,error:o,complete:a});return e instanceof St&&e.add(s),s}wrapInTimeout(e){return t=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function gg(...n){}function v4(n){let e,t;function r(){n=gg;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function _4(n){return queueMicrotask(()=>n()),()=>{n=gg}}const rM="isAngularZone",lw=rM+"_ID";let Lpe=0;class De{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fe(!1);onMicrotaskEmpty=new fe(!1);onStable=new fe(!1);onError=new fe(!1);constructor(e){const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=p4}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,function Upe(n){const e=()=>{!function Bpe(n){function e(){v4(()=>{n.callbackScheduled=!1,oM(n),n.isCheckStableRunning=!0,iM(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),oM(n))}(n)},t=Lpe++;n._inner=n._inner.fork({name:"angular",properties:{[rM]:!0,[lw]:t,[lw+t]:!0},onInvokeTask:(r,i,o,a,s,l)=>{if(function zpe(n){return w4(n,"__ignore_ng_zone__")}(l))return r.invokeTask(o,a,s,l);try{return y4(n),r.invokeTask(o,a,s,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&e(),b4(n)}},onInvoke:(r,i,o,a,s,l,c)=>{try{return y4(n),r.invoke(o,a,s,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function Hpe(n){return w4(n,"__scheduler_tick__")}(l)&&e(),b4(n)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,oM(n),iM(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(rM)}static assertInAngularZone(){if(!De.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,Vpe,gg,gg);try{return o.runTask(a,t,r)}finally{o.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Vpe={};function iM(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function oM(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function y4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function b4(n){n._nesting--,iM(n)}class aM{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fe;onMicrotaskEmpty=new fe;onStable=new fe;onError=new fe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}function w4(n,e){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[e]}class ca{_console=console;handleError(e){this._console.error("ERROR",e)}}const $pe=new W("",{providedIn:"root",factory:()=>{const n=O(De),e=O(ca);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function E4(n,e){return X3(n,e)}const qpe=(E4.required=function Gpe(n){return X3(A0,n)},E4);function Wpe(){return Xh(tt(),$())}function Xh(n,e){return new cn(ai(n,e))}let cn=(()=>class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Wpe})();function T4(n){return n instanceof cn?n.nativeElement:n}function sM(n){return"function"==typeof n&&void 0!==n[Ir]}function Po(n,e){const t=function qde(n,e){const t=Object.create(Ux);t.value=n,void 0!==e&&(t.equal=e);const r=()=>(Qm(t),t.value);return r[Ir]=t,r}(n,e?.equal),r=t[Ir];return t.set=i=>b0(r,i),t.update=i=>function g3(n,e){u3()||m3(n),b0(n,e(n.value))}(r,i),t.asReadonly=cw.bind(t),t}function cw(){const n=this[Ir];if(void 0===n.readonlyFn){const e=()=>this();e[Ir]=n,n.readonlyFn=e}return n.readonlyFn}function I4(n){return sM(n)&&"function"==typeof n.set}function Ype(){return this._results[Symbol.iterator]()}class Kpe{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ot}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function Li(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function wfe(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ype}function lM(n){const e=n.mergedAttrs;if(null===e)return!1;for(let t=0;t<e.length;t+=2){const r=e[t];if("number"==typeof r)return!1;if("string"==typeof r&&"ngskiphydration"===r.toLowerCase())return!0}return!1}function D4(n){return n.hasAttribute("ngSkipHydration")}function _g(n){return!(128&~n.flags)}var uw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(uw||{});const dw=new Map;let Qpe=0;function cM(n){dw.delete(n[19])}const dM="__ngContext__";function Ui(n,e){An(e)?(n[dM]=e[19],function Jpe(n){dw.set(n[19],n)}(e)):n[dM]=e}function O4(n){return F4(n[12])}function N4(n){return F4(n[4])}function F4(n){for(;null!==n&&!lr(n);)n=n[4];return n}let fM;function Ha(){if(void 0!==fM)return fM;if(typeof document<"u")return document;throw new K(210,!1)}const ja=new W("",{providedIn:"root",factory:()=>_me}),_me="ng",pM=new W(""),Su=new W("",{providedIn:"platform",factory:()=>"unknown"}),fw=new W(""),mM=new W("",{providedIn:"root",factory:()=>Ha().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function wme(){const n=new Ll;return n.store=function Cme(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Ha(),O(ja)),n}let Ll=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:wme});store={};onSerializeCallbacks={};get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const Qh=new W(""),q4=new W("",{providedIn:"root",factory:()=>!1}),TM=new W(""),K4=new W(""),IM=new W("",{providedIn:"root",factory:()=>new Map});var DM=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(DM||{});const Zh=new W(""),X4=new Set;function ci(n){X4.has(n)||(X4.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}let _w=(()=>class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Eme})();function Eme(){return new _w($(),tt())}var Jh=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Jh||{});let SM=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})();const Q4=[Jh.EarlyRead,Jh.Write,Jh.MixedReadWrite,Jh.Read];let Z4=(()=>{class n{ngZone=O(De);scheduler=O(Os);errorHandler=O(ca,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(Zh,{optional:!0})}execute(){this.executing=!0;for(const r of Q4)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){const{view:r}=t;void 0!==r?((r[25]??=[]).push(t),qh(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(DM.AFTER_NEXT_RENDER,t):t()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})();class J4{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,a=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(t=>t!==this))}}function xu(n,e){!e?.injector&&vu();const t=e?.injector??O(pt);return ci("NgAfterNextRender"),e5(n,t,e,!0)}function e5(n,e,t,r){const i=e.get(SM);i.impl??=e.get(Z4);const o=e.get(Zh,null,{optional:!0}),a=t?.phase??Jh.MixedReadWrite,s=!0!==t?.manualCleanup?e.get(ks):null,l=e.get(_w,null,{optional:!0}),c=new J4(i.impl,function Tme(n,e){if(n instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[e]=n,t}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,a),l?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var jn=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(jn||{}),Nt=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(Nt||{}),n5=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(n5||{});function ww(n,e){const t=function i5(n){let e=4;return 1===n?e=5:2===n&&(e=9),e}(n),r=e[t];if(null!==r){for(const i of r)i();e[t]=null}}function Ig(n){return n+1}function ui(n,e){return n[Ig(e.index)]}function yr(n,e){const t=Ig(e.index);return n.data[t]}function AM(n,e){return e===Nt.Placeholder?n.placeholderBlockConfig?.[0]??null:e===Nt.Loading?n.loadingBlockConfig?.[0]??null:null}function a5(n,e){if(!n||0===n.length)return e;const t=new Set(n);for(const r of e)t.add(r);return n.length===t.size?n:Array.from(t)}const Dg="ngb",h5=n=>{n.removeAttribute("jsaction"),n.removeAttribute(Dg),n.__jsaction_fns=void 0},Lme=new W("",{providedIn:"root",factory:()=>({})});function f5(n,e){const t=e?.__jsaction_fns?.get(n.type);if(t&&e?.isConnected)for(const r of t)r(n)}const Fs=new W(""),NM="__nghData__";let p5=()=>null;function Ume(n,e,t=!1){let r=n.getAttribute("ngh");if(null==r)return null;const[i,o]=r.split("|");if(r=t?o:i,!r)return null;const s=t?i:o?`|${o}`:"";let l={};if(""!==r){const u=e.get(Ll,null,{optional:!0});null!==u&&(l=u.get(NM,[])[Number(r)])}const c={data:l,firstChild:n.firstChild??null};return t&&(c.firstChild=n,Dw(c,0,n.nextSibling)),s?n.setAttribute("ngh",s):n.removeAttribute("ngh"),c}function m5(n,e,t=!1){return p5(n,e,t)}function g5(n){let e=n._lView;return 2===e[1].type?null:(xs(e)&&(e=e[26]),e)}function Dw(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function LM(n,e){return n.segmentHeads?.[e]??null}function y5(n,e){return n.data.c?.[e]??null}function VM(n,e){const t=y5(n,e)??[];let r=0;for(let i of t)r+=i.r*(i.x??1);return r}function Au(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data.d;n.disconnectedNodes=t?new Set(t):null}return!!function b5(n){if(typeof n.disconnectedNodes>"u"){const e=n.data.d;n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}(n)?.has(e)}function UM(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&"nghm"===n.textContent?.trim()}function E5(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function T5(n,e){const t=n.contentQueries;if(null!==t){const r=Ge(null);try{for(let i=0;i<t.length;i+=2){const a=t[i+1];if(-1!==a){const s=n.data[a];J0(t[i]),s.contentQueries(2,e[a],a)}}}finally{Ge(r)}}}function zM(n,e,t){J0(0);const r=Ge(null);try{e(n,t)}finally{Ge(r)}}function HM(n,e,t){if(DA(e)){const r=Ge(null);try{const o=e.directiveEnd;for(let a=e.directiveStart;a<o;a++){const s=n.data[a];s.contentQueries&&s.contentQueries(1,t[a],a)}}finally{Ge(r)}}}var ko=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ko||{});let xw;function x5(n){return function jM(){if(void 0===xw&&(xw=null,xn.trustedTypes))try{xw=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xw}()?.createScriptURL(n)||n}class A5{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Y3})`}}function Bl(n){return n instanceof A5?n.changingThisBreaksApplicationSecurity:n}function Rg(n,e){const t=function dge(n){return n instanceof A5&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Y3})`)}return t===e}const mge=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var uf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(uf||{});function Mw(n){const e=kg();return e?e.sanitize(uf.URL,n)||"":Rg(n,"URL")?Bl(n):function $M(n){return(n=String(n)).match(mge)?n:"unsafe:"+n}(He(n))}function V5(n){const e=kg();if(e)return x5(e.sanitize(uf.RESOURCE_URL,n)||"");if(Rg(n,"ResourceURL"))return x5(Bl(n));throw new K(904,!1)}function kg(){const n=$();return n&&n[10].sanitizer}const Rge=/^>|^->|<!--|-->|--!>|<!-$/g,Pge=/(<|>)/g;function $5(n){return n.ownerDocument}function $a(n){return n instanceof Function?n():n}function jge(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const K5="ng-template";function $ge(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==jge(e[i+1].toLowerCase(),t,0))return!0}else if(XM(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===t)return!0}return!1}function XM(n){return 4===n.type&&n.value!==K5}function Gge(n,e,t){return e===(4!==n.type||t?n.value:K5)}function qge(n,e,t){let r=4;const i=n.attrs,o=null!==i?function Kge(n){for(let e=0;e<n.length;e++)if(Kj(n[e]))return e;return n.length}(i):0;let a=!1;for(let s=0;s<e.length;s++){const l=e[s];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&!Gge(n,l,t)||""===l&&1===e.length){if(ua(r))return!1;a=!0}}else if(8&r){if(null===i||!$ge(n,i,l,t)){if(ua(r))return!1;a=!0}}else{const c=e[++s],u=Wge(l,i,XM(n),t);if(-1===u){if(ua(r))return!1;a=!0;continue}if(""!==c){let d;if(d=u>o?"":i[u+1].toLowerCase(),2&r&&c!==d){if(ua(r))return!1;a=!0}}}}else{if(!a&&!ua(r)&&!ua(l))return!1;if(a&&ua(l))continue;a=!1,r=l|1&r}}return ua(r)||a}function ua(n){return!(1&n)}function Wge(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=e[++i];for(;"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function Xge(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function X5(n,e,t=!1){for(let r=0;r<e.length;r++)if(qge(n,e[r],t))return!0;return!1}function Qge(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Q5(n,e){return n?":not("+e.trim()+")":e}function Zge(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const s=n[++t];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!ua(a)&&(e+=Q5(o,i),i=""),r=a,o=o||!ua(r);t++}return""!==i&&(e+=Q5(o,i)),e}const je={};function QM(n,e){return n.createText(e)}function ZM(n,e){return n.createComment(function U5(n){return n.replace(Rge,e=>e.replace(Pge,"\u200b$1\u200b"))}(e))}function kw(n,e,t){return n.createElement(e,t)}function Mu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function J5(n,e,t){n.appendChild(e,t)}function e$(n,e,t,r,i){null!==r?Mu(n,e,t,r,i):J5(n,e,t)}function Og(n,e,t){n.removeChild(null,e,t)}function t$(n){n.textContent=""}function n$(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&function vpe(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],a=t[r++],s=t[r++];n.setAttribute(e,a,s,o)}else{const o=i,a=t[++r];Xj(o)?n.setProperty(e,o,a):n.setAttribute(e,o,a),r++}}}(n,e,r),null!==i&&function nve(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}(n,e,i),null!==o&&function tve(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function JM(n,e,t,r,i,o,a,s,l,c,u){const d=26+r,h=d+i,f=function rve(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:je);return t}(d,h),p="function"==typeof c?c():c;return f[1]={type:n,blueprint:f,template:t,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function Ow(n,e,t,r,i,o,a,s,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=1228|r,(null!==c||n&&2048&n[2])&&(d[2]|=2048),Pj(d),d[3]=d[14]=n,d[8]=t,d[10]=a||n&&n[10],d[11]=s||n&&n[11],d[9]=l||n&&n[9]||null,d[5]=o,d[19]=function Zpe(){return Qpe++}(),d[6]=u,d[20]=c,d[15]=2==e.type?n[15]:d,d}function e1(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Ng(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function t1(n,e){return n[12]?n[13][4]=e:n[12]=e,n[13]=e,e}function H(n=1){i$(Ve(),$(),xr()+n,!1)}function i$(n,e,t,r){if(!r)if(3&~e[2]){const o=n.preOrderHooks;null!==o&&tw(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&ew(e,o,t)}Tu(t)}var Nw=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Nw||{});function n1(n,e,t,r){const i=Ge(null);try{const[o,a,s]=n.inputs[t];let l=null;!!(a&Nw.SignalBased)&&(l=e[o][Ir]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==s&&(r=s.call(e,r)),null!==n.setInput?n.setInput(e,l,r,t,o):Dj(e,l,o,r)}finally{Ge(i)}}function o$(n,e,t,r,i){const o=xr(),a=2&r;try{Tu(-1),a&&e.length>26&&i$(n,e,26,!1),t(r,i)}finally{Tu(o)}}function Fw(n,e,t){(function dve(n,e,t){const r=t.directiveStart,i=t.directiveEnd;sa(t)&&function ive(n,e,t){const r=ai(e,n),i=function r$(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=JM(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}(t),o=n[10].rendererFactory,a=t1(n,Ow(n,i,null,e1(t),r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||rw(t,e);const o=t.initialInputs;for(let a=r;a<i;a++){const s=n.data[a],l=pg(e,n,a,t);Ui(l,e),null!==o&&pve(0,a-r,l,s,0,o),lo(s)&&(si(t.index,e)[8]=pg(e,n,a,t))}})(n,e,t),!(64&~t.flags)&&function hve(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function spe(){return Ue.lFrame.currentDirectiveIndex}();try{Tu(o);for(let s=r;s<i;s++){const l=n.data[s],c=e[s];UA(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&fve(l,c)}}finally{Tu(-1),UA(a)}}(n,e,t)}function r1(n,e,t=ai){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],s=-1===a?t(e,n):n[a];n[i++]=s}}}let a$=()=>null;function sve(n){D4(n)?t$(n):function jme(n){const e=Ha(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){const a=function Hme(n){return n.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===a||"ngtns"===a?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(n)}function zi(n,e,t,r,i,o,a,s){if(s||!s1(e,n,t,r,i)){if(3&e.type){const l=ai(e,t);r=function cve(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,o.setProperty(l,r,i)}}else sa(e)&&function uve(n,e){const t=si(e,n);16&t[2]||(t[2]|=64)}(t,e.index)}function fve(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function i1(n,e){const t=n.directiveRegistry;let r=null;if(t)for(let i=0;i<t.length;i++){const o=t[i];X5(e,o.selectors,!1)&&(r??=[],lo(o)?r.unshift(o):r.push(o))}return r}function Ga(n,e,t,r,i,o){const a=ai(n,e);!function o1(n,e,t,r,i,o,a){if(null==o)n.removeAttribute(e,i,t);else{const s=null==a?He(o):a(o,r||"",i);n.setAttribute(e,i,s,t)}}(e[11],a,o,n.value,t,r,i)}function pve(n,e,t,r,i,o){const a=o[e];if(null!==a)for(let s=0;s<a.length;s+=2)n1(r,t,a[s],a[s+1])}function a1(n,e){const t=n[9],r=t?t.get(ca,null):null;r&&r.handleError(e)}function s1(n,e,t,r,i){const o=n.inputs?.[r],a=n.hostDirectiveInputs?.[r];let s=!1;if(a)for(let l=0;l<a.length;l+=2){const c=a[l];n1(e.data[c],t[c],a[l+1],i),s=!0}if(o)for(const l of o)n1(e.data[l],t[l],r,i),s=!0;return s}function mve(n,e){const t=si(e,n),r=t[1];!function gve(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[0];null!==i&&null===t[6]&&(t[6]=m5(i,t[9])),Lw(r,t,t[8])}function Lw(n,e,t){jA(e);try{const r=n.viewQuery;null!==r&&zM(1,r,t);const i=n.template;null!==i&&o$(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[18]?.finishViewCreation(n),n.staticContentQueries&&T5(n,e),n.staticViewQueries&&zM(2,n.viewQuery,t);const o=n.components;null!==o&&function vve(n,e){for(let t=0;t<e.length;t++)mve(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,$A()}}function hf(n,e,t,r){const i=Ge(null);try{const o=e.tView,l=Ow(n,o,t,4096&n[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=n[e.index];const u=n[18];return null!==u&&(l[18]=u.createEmbeddedView(o)),Lw(o,l,t),l}finally{Ge(i)}}function Ru(n,e){return!e||null===e.firstChild||_g(n)}function c1(n,e){return undefined(n,e)}var Ul=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ul||{});function zl(n){return!(32&~n.flags)}function ff(n,e,t,r,i){if(null!=r){let o,a=!1;lr(r)?o=r:An(r)&&(a=!0,r=r[0]);const s=ft(r);0===n&&null!==t?null==i?J5(e,t,s):Mu(e,t,s,i||null,!0):1===n&&null!==t?Mu(e,t,s,i||null,!0):2===n?Og(e,s,a):3===n&&e.destroyNode(s),null!=o&&function Tve(n,e,t,r,i){const o=t[7];o!==ft(t)&&ff(e,n,r,o,i);for(let s=10;s<t.length;s++){const l=t[s];Bw(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function u$(n,e){e[10].changeDetectionScheduler?.notify(9),Bw(n,e,e[11],2,null,null)}function u1(n,e){const t=n[9],r=t.indexOf(e);t.splice(r,1)}function Fg(n,e){if(As(e))return;const t=e[11];t.destroyNode&&Bw(n,e,t,3,null,null),function bve(n){let e=n[12];if(!e)return d1(n[1],n);for(;e;){let t=null;if(An(e))t=e[12];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)An(e)&&d1(e[1],e),e=e[3];null===e&&(e=n),An(e)&&d1(e[1],e),t=e&&e[4]}e=t}}(e)}function d1(n,e){if(As(e))return;const t=Ge(null);try{e[2]&=-129,e[2]|=256,e[24]&&g0(e[24]),function Cve(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof dg)){const o=t[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=i[o[a]],l=o[a+1];try{l.call(s)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function wve(n,e){const t=n.cleanup,r=e[7];if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const s=t[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else t[a].call(r[t[a+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let a=0;a<i.length;a++)(0,i[a])()}const o=e[23];if(null!==o){e[23]=null;for(const a of o)a.destroy()}}(n,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&lr(e[3])){r!==e[3]&&u1(r,e);const i=e[18];null!==i&&i.detachView(n)}cM(e)}finally{Ge(t)}}function h1(n,e,t){return function d$(n,e,t){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return t[0];if(sa(r)){const{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ko.None||i===ko.Emulated)return null}return ai(r,t)}(n,e.parent,t)}function h$(n,e,t){return p$(n,e,t)}let p$=function f$(n,e,t){return 40&n.type?ai(n,t):null};function Vw(n,e,t,r){const i=h1(n,r,e),o=e[11],s=h$(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)e$(o,i,t[l],s,!1);else e$(o,i,t,s,!1)}function Pu(n,e){if(null!==e){const t=e.type;if(3&t)return ai(e,n);if(4&t)return p1(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Pu(n,r);{const i=n[e.index];return lr(i)?p1(-1,i):ft(i)}}if(128&t)return Pu(n,e.next);if(32&t)return c1(e,n)()||ft(n[e.index]);{const r=g$(n,e);return null!==r?Array.isArray(r)?r[0]:Pu(Ms(n[15]),r):Pu(n,e.next)}}return null}function g$(n,e){return null!==e?n[15][5].projection[e.projection]:null}function p1(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Pu(r,i)}return e[7]}function m1(n,e,t,r,i,o,a){for(;null!=t;){if(128===t.type){t=t.next;continue}const s=r[t.index],l=t.type;if(a&&0===e&&(s&&Ui(ft(s),r),t.flags|=2),!zl(t))if(8&l)m1(n,e,t.child,r,i,o,!1),ff(e,n,i,s,o);else if(32&l){const c=c1(t,r);let u;for(;u=c();)ff(e,n,i,u,o);ff(e,n,i,s,o)}else 16&l?v$(n,e,r,t,i,o):ff(e,n,i,s,o);t=a?t.projectionNext:t.next}}function Bw(n,e,t,r,i,o){m1(t,r,n.firstChild,e,i,o,!1)}function v$(n,e,t,r,i,o){const a=t[15],l=a[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ff(e,n,i,l[c],o);else{let c=l;const u=a[3];_g(r)&&(c.flags|=128),m1(n,e,c,u,i,o,!0)}}function pf(n,e,t,r,i=!1){for(;null!==t;){if(128===t.type){t=i?t.projectionNext:t.next;continue}const o=e[t.index];null!==o&&r.push(ft(o)),lr(o)&&g1(o,r);const a=t.type;if(8&a)pf(n,e,t.child,r);else if(32&a){const s=c1(t,e);let l;for(;l=s();)r.push(l)}else if(16&a){const s=g$(e,t);if(Array.isArray(s))r.push(...s);else{const l=Ms(e[15]);pf(l[1],l,s,r,!0)}}t=i?t.projectionNext:t.next}return r}function g1(n,e){for(let t=10;t<n.length;t++){const r=n[t],i=r[1].firstChild;null!==i&&pf(r[1],r,i,e)}n[7]!==n[0]&&e.push(n[7])}function _$(n){if(null!==n[25]){for(const e of n[25])e.impl.addSequence(e);n[25].length=0}}let y$=[];const Ave={...xh,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{qh(n.lView)},consumerOnSignalRead(){this.lView[24]=this}},Rve={...xh,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ms(n.lView);for(;e&&!b$(e[1]);)e=Ms(e);e&&MA(e)},consumerOnSignalRead(){this.lView[24]=this}};function b$(n){return 2!==n.type}function w$(n){if(null===n[23])return;let e=!0;for(;e;){let t=!1;for(const r of n[23])r.dirty&&(t=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(8192&n[2])}}function Uw(n,e=!0,t=0){const i=n[10].rendererFactory;i.begin?.();try{!function kve(n,e){const t=Lj();try{Z0(!0),v1(n,e);let r=0;for(;sg(n);){if(100===r)throw new K(103,!1);r++,v1(n,1)}}finally{Z0(t)}}(n,t)}catch(a){throw e&&a1(n,a),a}finally{i.end?.()}}function E$(n,e,t,r){if(As(e))return;const i=e[2];jA(e);let s=!0,l=null,c=null;b$(n)?(c=function Dve(n){return n[24]??function Sve(n){const e=y$.pop()??Object.create(Ave);return e.lView=n,e}(n)}(e),l=Ah(c)):null===function Bx(){return or}()?(s=!1,c=function Mve(n){const e=n[24]??Object.create(Rve);return e.lView=n,e}(e),l=Ah(c)):e[24]&&(g0(e[24]),e[24]=null);try{Pj(e),function Vj(n){return Ue.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&o$(n,e,t,2,r);const u=!(3&~i);if(u){const f=n.preOrderCheckHooks;null!==f&&ew(e,f,null)}else{const f=n.preOrderHooks;null!==f&&tw(e,f,0,null),WA(e,0)}if(function Ove(n){for(let e=O4(n);null!==e;e=N4(e)){if(!(2&e[2]))continue;const t=e[9];for(let r=0;r<t.length;r++)MA(t[r])}}(e),w$(e),T$(e,0),null!==n.contentQueries&&T5(n,e),u){const f=n.contentCheckHooks;null!==f&&ew(e,f)}else{const f=n.contentHooks;null!==f&&tw(e,f,1),WA(e,1)}!function Fve(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Tu(~i);else{const o=i,a=t[++r],s=t[++r];ape(a,o);const l=e[o];s(2,l)}}}finally{Tu(-1)}}(n,e);const d=n.components;null!==d&&D$(e,d,0);const h=n.viewQuery;if(null!==h&&zM(2,h,r),u){const f=n.viewCheckHooks;null!==f&&ew(e,f)}else{const f=n.viewHooks;null!==f&&tw(e,f,2),WA(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[22]){for(const f of e[22])f();e[22]=null}_$(e),e[2]&=-73}catch(u){throw qh(e),u}finally{null!==c&&(Jm(c,l),s&&function xve(n){n.lView[24]!==n&&(n.lView=null,y$.push(n))}(c)),$A()}}function T$(n,e){for(let t=O4(n);null!==t;t=N4(t))for(let r=10;r<t.length;r++)I$(t[r],e)}function Nve(n,e,t){const r=si(e,n);I$(r,t)}function I$(n,e){AA(n)&&v1(n,e)}function v1(n,e){const r=n[1],i=n[2],o=n[24];let a=!!(0===e&&16&i);if(a||=!!(64&i&&0===e),a||=!!(1024&i),a||=!(!o?.dirty||!m0(o)),a||=!1,o&&(o.dirty=!1),n[2]&=-9217,a)E$(r,n,r.template,n[8]);else if(8192&i){w$(n),T$(n,1);const s=r.components;null!==s&&D$(n,s,1),_$(n)}}function D$(n,e,t){for(let r=0;r<e.length;r++)Nve(n,e[r],t)}function Lg(n,e){const t=Lj()?64:1088;for(n[10].changeDetectionScheduler?.notify(e);n;){n[2]|=t;const r=Ms(n);if(xs(n)&&!r)return n;n=r}return null}function S$(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function x$(n,e){const t=10+e;if(t<n.length)return n[t]}function mf(n,e,t,r=!0){const i=e[1];if(function Lve(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],cj(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const a=e[16];null!==a&&t!==a&&A$(a,e);const s=e[18];null!==s&&s.insertView(n),RA(e),e[2]|=128}(i,e,n,t),r){const a=p1(t,n),s=e[11],l=s.parentNode(n[7]);null!==l&&function yve(n,e,t,r,i,o){r[0]=i,r[5]=e,Bw(n,r,t,1,i,o)}(i,n[5],s,e,l,a)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function _1(n,e){const t=Vg(n,e);return void 0!==t&&Fg(t[1],t),t}function Vg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[16];null!==i&&i!==n&&u1(i,r),e>0&&(n[t-1][4]=r[4]);const o=V0(n,10+e);!function c$(n,e){u$(n,e),e[0]=null,e[5]=null}(r[1],r);const a=o[18];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function A$(n,e){const t=n[9],r=e[3];(An(r)||e[15]!==r[3][15])&&(n[2]|=2),null===t?n[9]=[e]:t.push(e)}let Bg=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const e=this._lView,t=e[1];return pf(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return As(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(lr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Vg(e,r),V0(t,r))}this._attachedToViewContainer=!1}Fg(this._lView[1],this._lView)}onDestroy(e){X0(this._lView,e)}markForCheck(){Lg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){RA(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Uw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=xs(this._lView),t=this._lView[16];null!==t&&!e&&u1(t,this._lView),u$(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;const t=xs(this._lView),r=this._lView[16];null!==r&&!t&&A$(r,this._lView),RA(this._lView)}},Vs=(()=>class n{static __NG_ELEMENT_ID__=Uve})();const Vve=Vs,Bve=class extends Vve{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=hf(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Bg(i)}};function Uve(){return zw(tt(),$())}function zw(n,e){return 4&n.type?new Bve(e,n,Xh(n,e)):null}function gf(n,e,t,r,i){let o=n.data[e];if(null===o)o=function C1(n,e,t,r,i){const o=Oj(),a=VA(),l=n.data[e]=function Xve(n,e,t,r,i,o){let a=e?e.injectorIndex:-1,s=0;return Eu()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,t,e,r,i);return function Kve(n,e,t,r){null===n.firstChild&&(n.firstChild=e),null!==t&&(r?null==t.child&&null!==e.parent&&(t.child=e):null===t.next&&(t.next=e,e.prev=t))}(n,l,o,a),l}(n,e,t,r,i),function ope(){return Ue.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const a=function lg(){const n=Ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return la(o,!0),o}const a_e=new RegExp("^(\\d+)*(b|h)*(.*)");function T1(n){return n.index-26}function Gg(n,e,t,r){const i=T1(r);let o=function z$(n,e){const t=n.i18nNodes;if(t)return t.get(e)}(n,i);if(void 0===o){const a=n.data.n;if(a?.[i])o=function H$(n,e){const[t,...r]=function l_e(n){const e=n.match(a_e),[t,r,i,o]=e,a=r?parseInt(r,10):i,s=[];for(const[l,c,u]of o.matchAll(/(f|n)(\d*)/g)){const d=parseInt(u,10)||1;s.push(c,d)}return[a,...s]}(n);let i;i="h"===t?e[15][0]:"b"===t?function G5(n){return n.ownerDocument.body}(e[15][0]):ft(e[Number(t)+26]);return function d_e(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let a=0;a<o;a++)switch(i){case"f":t=t.firstChild;break;case"n":t=t.nextSibling}}return t}(i,r)}(a[i],t);else if(e.firstChild===r)o=n.firstChild;else{const s=null===r.prev,l=r.prev??r.parent;if(function c_e(n){return!n.prev&&8===n.parent?.type}(r))o=LM(n,T1(r.parent));else{let c=ai(l,t);if(s)o=c.firstChild;else{const u=T1(l),d=LM(n,u);o=2===l.type&&d?Gw(VM(n,u)+1,d):c.nextSibling}}}}return o}function Gw(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}let $$=!1;function M_e(n,e,t){for(const r of t.node.cases[t.case]){const i=e.get(r.index-26);i&&Og(n,i,!1)}}function Y$(n){const e=n[6]??[],r=n[3][11],i=[];for(const o of e)void 0!==o.data.di?i.push(o):K$(o,r);n[6]=i}function R_e(n){const{lContainer:e}=n,t=e[6];if(null===t)return;const i=e[3][11];for(const o of t)K$(o,i)}function K$(n,e){let t=0,r=n.firstChild;if(r){const i=n.data.r;for(;t<i;){const o=r.nextSibling;Og(e,r,!1),r=o,t++}}}function qw(n){Y$(n);const e=n[0];An(e)&&Ww(e);for(let t=10;t<n.length;t++)Ww(n[t])}function Ww(n){!function A_e(n){const e=n[6];if(e){const{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){const i=n[11];for(const o of r.values())M_e(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}(n);const e=n[1];for(let t=26;t<e.bindingStartIndex;t++)lr(n[t])?qw(n[t]):An(n[t])&&Ww(n[t])}function X$(n){const e=n._views;for(const t of e){const r=g5(t);null!==r&&null!==r[0]&&(An(r)?Ww(r):qw(r))}}let Q$=()=>null;function O_e(n,e){const t=n[6];return e&&null!==t&&0!==t.length?t[0].data.i===e?t.shift():(Y$(n),null):null}function _f(n,e){return Q$(n,e)}let F_e=class{},Z$=class{};class L_e{resolveComponentFactory(e){throw Error(`No component factory found for ${ar(e)}.`)}}let Yw=class{static NULL=new L_e};class da{}let Oo=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function V_e(){const n=$(),t=si(tt().index,n);return(An(t)?t:n)[11]}()})(),B_e=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>null})}return n})();const R1={};class yf{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=L0(r);const i=this.injector.get(e,R1,r);return i!==R1||t===R1?i:this.parentInjector.get(e,t,r)}}function P1(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const s=e[a];"number"==typeof s?o=s:1==o?i=iA(i,s):2==o&&(r=iA(r,s+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Y(n,e=Je.Default){const t=$();return null===t?_e(n,e):r4(tt(),t,Be(n),e)}function k1(){throw new Error("invalid")}function O1(n,e,t,r,i){const o=null===r?null:{"":-1},a=i(n,t);if(null!==a){let s,l=null,c=null;const u=function $_e(n){let e=null,t=!1;for(let a=0;a<n.length;a++){const s=n[a];if(0===a&&lo(s)&&(e=s),null!==s.findHostDirectiveDefs){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(const a of n)null!==a.findHostDirectiveDefs&&(r??=[],i??=new Map,o??=new Map,G_e(a,r,o,i)),a===e&&(r??=[],r.push(a));return null!==r?(r.push(...null===e?n:n.slice(1)),[r,i,o]):null}(a);null===u?s=a:[s,l,c]=u,function W_e(n,e,t,r,i,o,a){const s=r.length;let l=!1;for(let h=0;h<s;h++){const f=r[h];!l&&lo(f)&&(l=!0,q_e(n,t,h)),JA(rw(t,e),n,f.type)}!function J_e(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,s);for(let h=0;h<s;h++){const f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Ng(n,e,s,null);s>0&&(t.directiveToIndex=new Map);for(let h=0;h<s;h++){const f=r[h];if(t.mergedAttrs=Yh(t.mergedAttrs,f.hostAttrs),K_e(n,t,e,d,f),Z_e(d,f,i),null!==a&&a.has(f)){const[g,v]=a.get(f);t.directiveToIndex.set(f.type,[d,g+t.directiveStart,v+t.directiveStart])}else(null===o||!o.has(f))&&t.directiveToIndex.set(f.type,d);null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}!function Y_e(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=n.data[r];if(null!==t&&t.has(i)){const o=t.get(i);tG(0,e,o,r),tG(1,e,o,r),rG(e,r,!0)}else eG(0,e,i,r),eG(1,e,i,r),rG(e,r,!1)}}(n,t,o)}(n,e,t,s,o,l,c)}null!==o&&null!==r&&function j_e(n,e,t){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new K(-301,!1);r.push(e[i],o)}}(t,r,o)}function G_e(n,e,t,r){const i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function q_e(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function eG(n,e,t,r){const i=0===n?t.inputs:t.outputs;for(const o in i)if(i.hasOwnProperty(o)){let a;a=0===n?e.inputs??={}:e.outputs??={},a[o]??=[],a[o].push(r),nG(e,o)}}function tG(n,e,t,r){const i=0===n?t.inputs:t.outputs;for(const o in i)if(i.hasOwnProperty(o)){const a=i[o];let s;s=0===n?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),nG(e,a)}}function nG(n,e){"class"===e?n.flags|=8:"style"===e&&(n.flags|=16)}function rG(n,e,t){const{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(null===r||!t&&null===i||t&&null===o||XM(n))return n.initialInputs??=[],void n.initialInputs.push(null);let a=null,s=0;for(;s<r.length;){const l=r[s];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!t&&i.hasOwnProperty(l)){const c=i[l];for(const u of c)if(u===e){a??=[],a.push(l,r[s+1]);break}}else if(t&&o.hasOwnProperty(l)){const c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){a??=[],a.push(c[u+1],r[s+1]);break}}s+=2}else s+=2;else s+=4}n.initialInputs??=[],n.initialInputs.push(a)}function K_e(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=fu(i.type)),a=new dg(o,lo(i),Y);n.blueprint[r]=a,t[r]=a,function X_e(n,e,t,r,i){const o=i.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const s=~e.index;(function Q_e(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=s&&a.push(s),a.push(t,r,o)}}(n,e,r,Ng(n,t,i.hostVars,je),i)}function Z_e(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;lo(e)&&(t[""]=n)}}function iG(n,e,t,r,i,o,a,s){const l=e.consts,u=gf(e,n,2,r,Mo(l,a));return o&&O1(e,t,u,Mo(l,s),i),u.mergedAttrs=Yh(u.mergedAttrs,u.attrs),null!==u.attrs&&P1(u,u.attrs,!1),null!==u.mergedAttrs&&P1(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}function oG(n,e){qA(n,e),DA(e)&&n.queries.elementEnd(e)}class aG extends Yw{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=it(e);return new Kg(t,this.ngModule)}}class Kg extends Z${componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function eye(n){return Object.keys(n).map(e=>{const[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:!!(r&Nw.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function tye(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Jge(n){return n.map(Zge).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){const o=Ge(null);try{const a=this.componentDef,s=r?["ng-version","19.2.10"]:function eve(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ua(i))break;i=o}r++}return t.length&&e.push(1,...t),e}(this.componentDef.selectors[0]),l=JM(0,null,null,1,0,null,null,null,null,[s],null),c=function nye(n,e,t){let r=e instanceof vr?e:e?.injector;return r&&null!==n.getStandaloneInjector&&(r=n.getStandaloneInjector(r)||r),r?new yf(t,r):t}(a,i||this.ngModule,e),u=function rye(n){const e=n.get(da,null);if(null===e)throw new K(407,!1);return{rendererFactory:e,sanitizer:n.get(B_e,null),changeDetectionScheduler:n.get(Os,null)}}(c),d=u.rendererFactory.createRenderer(null,a),h=r?function ove(n,e,t,r){const o=r.get(q4,!1)||t===ko.ShadowDom,a=n.selectRootElement(e,o);return function ave(n){a$(n)}(a),a}(d,r,a.encapsulation,c):function iye(n,e){const t=(n.selectors[0][0]||"div").toLowerCase();return kw(e,t,"svg"===t?"svg":"math"===t?"math":null)}(a,d),f=Ow(null,l,null,512|e1(a),null,null,u,d,c,null,m5(h,c,!0));f[26]=h,jA(f);let p=null;try{const g=iG(26,l,f,"#host",()=>[this.componentDef],!0,0);h&&(n$(d,h,g),Ui(h,f)),Fw(l,f,g),HM(l,g,f),oG(l,g),void 0!==t&&function aye(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o&&o.length?Array.from(o):null)}}(g,this.ngContentSelectors,t),p=si(g.index,f),f[8]=p[8],Lw(l,f,null)}catch(g){throw null!==p&&cM(p),cM(f),g}finally{$A()}return new oye(this.componentType,f)}finally{Ge(o)}}}class oye extends F_e{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=wu(t[1],26),this.location=Xh(this._tNode,t),this.instance=si(this._tNode.index,t)[8],this.hostView=this.changeDetectorRef=new Bg(t,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const i=this._rootLView;s1(r,i[1],i,e,t),this.previousInputValues.set(e,t),Lg(si(r.index,i),1)}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let co=(()=>class n{static __NG_ELEMENT_ID__=sye})();function sye(){return cG(tt(),$())}const lye=co,sG=class extends lye{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Xh(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){const e=iw(this._hostTNode,this._hostLView);if(XA(e)){const t=fg(e,this._hostLView),r=hg(e);return new Mn(t[1].data[r+8],t)}return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=lG(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=_f(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(t||{},o,a);return this.insertImpl(s,i,Ru(this._hostTNode,a)),s}createComponent(e,t,r,i,o){const a=e&&!function og(n){return"function"==typeof n}(e);let s;if(a)s=t;else{const p=t||{};s=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const l=a?e:new Kg(it(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const g=(a?c:this.parentInjector).get(vr,null);g&&(o=g)}const u=it(l.componentType??{}),d=_f(this._lContainer,u?.id??null),f=l.create(c,i,d?.firstChild??null,o);return this.insertImpl(f.hostView,s,Ru(this._hostTNode,d)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function Kfe(n){return lr(n[3])}(i)){const s=this.indexOf(e);if(-1!==s)this.detach(s);else{const l=i[3],c=new sG(l,l[5],l[3]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return mf(a,i,o,r),e.attachToViewContainerRef(),cj(N1(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=lG(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);r&&(V0(N1(this._lContainer),t),Fg(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);return r&&null!=V0(N1(this._lContainer),t)?new Bg(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lG(n){return n[8]}function N1(n){return n[8]||(n[8]=[])}function cG(n,e){let t;const r=e[n.index];return lr(r)?t=r:(t=S$(r,e,null,n),e[n.index]=t,t1(e,t)),uG(t,e,n,r),new sG(t,n,e)}let uG=hG,F1=()=>!1;function hG(n,e,t,r){if(n[7])return;let i;i=8&t.type?ft(r):function cye(n,e){const t=n[11],r=t.createComment(""),i=ai(e,n),o=t.parentNode(i);return Mu(t,o,r,t.nextSibling(i),!1),r}(e,t),n[7]=i}function uye(n,e,t){if(n[7]&&n[6])return!0;const r=t[6],i=e.index-26;if(!r||function yg(n){if(_g(n))return!0;let e=n.parent;for(;e;){if(_g(n)||lM(e))return!0;e=e.parent}return!1}(e)||Au(r,i))return!1;const a=LM(r,i),s=r.data.c?.[i],[l,c]=function k_e(n,e){const t=[];for(const r of e)for(let i=0;i<(r.x??1);i++){const o={data:r,firstChild:null};r.r>0&&(o.firstChild=n,n=Gw(r.r,n)),t.push(o)}return[n,t]}(a,s);return n[7]=l,n[6]=c,!0}function dye(n,e,t,r){F1(n,t,e)||hG(n,e,t,r)}class L1{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new L1(this.queryList)}setDirty(){this.queryList.setDirty()}}class V1{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const a=t.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new V1(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==j1(e,t).matches&&this.queries[t].setDirty()}}class fG{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function vye(n){return n.split(",").map(e=>e.trim())}(e):e}}class B1{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new B1(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class U1{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new U1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,fye(t,o)),this.matchTNodeWithReadOption(e,t,ow(t,e,o,!1,!1))}else r===Vs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ow(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===cn||i===co||i===Vs&&4&t.type)this.addMatch(t.index,-2);else{const o=ow(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function fye(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function mye(n,e,t,r){return-1===t?function pye(n,e){return 11&n.type?Xh(n,e):4&n.type?zw(n,e):null}(e,n):-2===t?function gye(n,e,t){return t===cn?Xh(e,n):t===Vs?zw(e,n):t===co?cG(e,n):void 0}(n,e,r):pg(n,n[1],t,e)}function pG(n,e,t,r){const i=e[18].queries[r];if(null===i.matches){const o=n.data,a=t.matches,s=[];for(let l=0;null!==a&&l<a.length;l+=2){const c=a[l];s.push(c<0?null:mye(e,o[c],a[l+1],t.metadata.read))}i.matches=s}return i.matches}function z1(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const a=pG(n,e,i,t);for(let s=0;s<o.length;s+=2){const l=o[s];if(l>0)r.push(a[s/2]);else{const c=o[s+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[16]===h[3]&&z1(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];z1(f[1],f,c,r)}}}}}return r}function mG(n,e,t){const r=new Kpe(!(4&~t));return function Xfe(n,e,t,r){const i=kA(e);i.push(t),n.firstCreatePass&&OA(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[18]??=new V1).queries.push(new L1(r))-1}function _G(n,e,t){null===n.queries&&(n.queries=new B1),n.queries.track(new U1(e,t))}function j1(n,e){return n.queries.getByIndex(e)}function yG(n,e){const t=n[1],r=j1(t,e);return r.crossesNgTemplate?z1(t,n,e,[]):pG(t,n,r,e)}let Bs=class{},MG=class{};class q1 extends Bs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new aG(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;const o=oo(e);this._bootstrapComponents=$a(o.bootstrap),this._r3Injector=f4(e,t,[{provide:Bs,useValue:this},{provide:Yw,useValue:this.componentFactoryResolver},...r],ar(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class W1 extends MG{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new q1(this.moduleType,e,[])}}class RG extends Bs{injector;componentFactoryResolver=new aG(this);instance=null;constructor(e){super();const t=new gu([...e.providers,{provide:Bs,useValue:this},{provide:Yw,useValue:this.componentFactoryResolver}],e.parent||j0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Xw(n,e,t=null){return new RG({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Mye=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=vA(0,t.type),i=r.length>0?Xw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=te({token:n,providedIn:"environment",factory:()=>new n(_e(vr))})}return n})();function st(n){return Is(()=>{const e=PG(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===uw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Mye).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ko.Emulated,styles:n.styles||yt,_:null,schemas:n.schemas||null,tView:null,id:""};e.standalone&&ci("NgStandalone"),kG(t);const r=n.dependencies;return t.directiveDefs=Qw(r,!1),t.pipeDefs=Qw(r,!0),t.id=function Fye(n){let e=0;const r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function Rye(n){return it(n)||Sr(n)}function Pye(n){return null!==n}function Yt(n){return Is(()=>({type:n.type,bootstrap:n.bootstrap||yt,declarations:n.declarations||yt,imports:n.imports||yt,exports:n.exports||yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kye(n,e){if(null==n)return oa;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let o,a,s,l;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,l=i[3]||null):(o=i,a=i,s=Nw.None,l=null),t[o]=[r,s,l],e[o]=a}return t}function Oye(n){if(null==n)return oa;const e={};for(const t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function be(n){return Is(()=>{const e=PG(n);return kG(e),e})}function Hi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function PG(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||oa,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kye(n.inputs,e),outputs:Oye(n.outputs),debugInfo:null}}function kG(n){n.features?.forEach(e=>e(n))}function Qw(n,e){if(!n)return null;const t=e?ao:Rye;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Pye)}function mt(n){let e=function OG(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(lo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const a=n;a.inputs=Y1(n.inputs),a.declaredInputs=Y1(n.declaredInputs),a.outputs=Y1(n.outputs);const s=i.hostBindings;s&&zye(n,s);const l=i.viewQuery,c=i.contentQueries;if(l&&Bye(n,l),c&&Uye(n,c),Lye(n,i),Jhe(n.outputs,i.outputs),lo(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(n),s===mt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Vye(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Yh(i.hostAttrs,t=Yh(t,i.hostAttrs))}}(r)}function Lye(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Y1(n){return n===oa?{}:n===yt?[]:n}function Bye(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Uye(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function zye(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Zw(n){return!!X1(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function X1(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qa(n,e,t){return n[e]=t}function Pn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Nu(n,e,t,r){const i=Pn(n,e,t);return Pn(n,e+1,r)||i}function Zg(n,e,t,r,i,o,a,s,l,c){const u=t+26,d=e.firstCreatePass?function Xye(n,e,t,r,i,o,a,s,l){const c=e.consts,u=gf(e,n,4,a||null,s||null);LA()&&O1(e,t,u,Mo(c,l),i1),u.mergedAttrs=Yh(u.mergedAttrs,u.attrs),qA(e,u);const d=u.tView=JM(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,e,n,r,i,o,a,s,l):e.data[u];la(d,!1);const h=BG(e,n,d,t);ug()&&Vw(e,n,h,d),Ui(h,n);const f=S$(h,n,h,d);return n[u]=f,t1(n,f),function dG(n,e,t){return F1(n,e,t)}(f,d,n),Y0(d)&&Fw(e,n,d),null!=l&&r1(n,d,c),d}function et(n,e,t,r,i,o,a,s){const l=$(),c=Ve();return Zg(l,c,n,e,t,r,i,Mo(c.consts,o),a,s),et}let BG=UG;function UG(n,e,t,r){return Ua(!0),e[11].createComment("")}function Qye(n,e,t,r){const i=e[6],o=!i||Eu()||zl(t)||Au(i,r);if(Ua(o),o)return UG(0,e);const a=i.data.t?.[r]??null;null!==a&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=a);const s=Gg(i,n,e,t);return Dw(i,r,s),Gw(VM(i,r),s)}let rbe=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,o){if(!this.cachedInjectors.has(t)){const a=i.length>0?Xw(i,r,o):null;this.cachedInjectors.set(t,a)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=te({token:n,providedIn:"environment",factory:()=>new n})}return n})();const ibe=new W("");function Q1(n,e,t){return n.get(rbe).getOrCreateInjector(e,n,t,"")}function jl(n,e,t,r=!1){const i=t[3],o=i[1];if(As(i))return;const a=ui(i,e),l=a[7];if(!(null!==l&&n<l)&&$G(a[1],n)&&$G(a[0]??-1,n)){const c=yr(o,e),d=r||null===function o5(n){return n.loadingBlockConfig?.[1]??null}(c)&&null===AM(c,Nt.Loading)&&!AM(c,Nt.Placeholder)?HG:Z1;try{d(n,a,t,e,i)}catch(h){a1(i,h)}}}function HG(n,e,t,r,i){const o=function Rme(n,e,t){const i=yr(e[1],t);switch(n){case Nt.Complete:return i.primaryTmplIndex;case Nt.Loading:return i.loadingTmplIndex;case Nt.Error:return i.errorTmplIndex;case Nt.Placeholder:return i.placeholderTmplIndex;default:return null}}(n,i,r);if(null!==o){e[1]=n;const a=i[1],l=wu(a,o+26),c=0;let u;if(_1(t,c),n===Nt.Complete){const p=yr(a,r),g=p.providers;g&&g.length>0&&(u=function obe(n,e,t){if(n instanceof yf){const i=n.injector,a=Q1(n.parentInjector,e,t);return new yf(i,a)}const r=n.get(vr);if(r!==n){const i=Q1(r,e,t);return new yf(n,i)}return Q1(n,e,t)}(i[9],p,g))}const{dehydratedView:d,dehydratedViewIx:h}=function abe(n,e){const t=n[6]?.findIndex(i=>i.data.s===e[1])??-1;return{dehydratedView:t>-1?n[6][t]:null,dehydratedViewIx:t}}(t,e),f=hf(i,l,null,{injector:u,dehydratedView:d});if(mf(t,f,c,Ru(l,d)),Lg(f,2),h>-1&&t[6]?.splice(h,1),(n===Nt.Complete||n===Nt.Error)&&Array.isArray(e[8])){for(const p of e[8])p();e[8]=null}}}function $G(n,e){return n<e}function GG(n,e,t){n.loadingPromise.then(()=>{n.loadingState===jn.COMPLETE?jl(Nt.Complete,e,t):n.loadingState===jn.FAILED&&jl(Nt.Error,e,t)})}let Z1=null,rC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const JG=new W("");let e6=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>new Kbe})}return n})();class Kbe{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){const t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);const r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}function ev(n){return!!n&&"function"==typeof n.then}function t6(n){return!!n&&"function"==typeof n.subscribe}const n6=new W("");function r6(n){return Ao([{provide:n6,multi:!0,useValue:n}])}let i6=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(n6,{optional:!0})??[];injector=O(pt);constructor(){}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=Vi(this.injector,i);if(ev(o))t.push(o);else if(t6(o)){const a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});t.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fu=new W("");let Br=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O($pe);afterRenderManager=O(SM);zonelessEnabled=O(Kh);rootEffectScheduler=O(e6);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ot;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(Du).hasPendingTasks.pipe(Ye(t=>!t));constructor(){O(Zh,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(vr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=pt.NULL){const o=t instanceof Z$;if(!this._injector.get(i6).done)throw new K(405,"");let s;s=o?t:this._injector.get(Yw).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const l=function Xbe(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Bs),u=s.create(i,[],r||s.selector,l),d=u.location.nativeElement,h=u.injector.get(JG,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),oC(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(DM.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new K(101,!1);const t=Ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ge(t),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(da,null,{optional:!0}));let t=0;for(;0!==this.dirtyFlags&&t++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const t=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Zbe(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>sg(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;oC(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>oC(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Zbe(n,e,t,r){(t||sg(n))&&Uw(n,e,t&&!r?0:1)}function Lu(n,e,t){const r=e[1],i=e[t.index];if(!function u6(n,e){return e[9].get(ibe,null,{optional:!0})?.behavior!==n5.Manual}(0,e))return;const o=ui(e,t),a=yr(r,t);switch(function r5(n){ww(1,n),ww(0,n),ww(2,n)}(o),a.loadingState){case jn.NOT_STARTED:jl(Nt.Loading,t,i),function oR(n,e,t){const r=e[9],i=e[1];if(n.loadingState!==jn.NOT_STARTED)return n.loadingPromise??Promise.resolve();const o=ui(e,t),a=function Pme(n,e){return wu(n,e.primaryTmplIndex+26)}(i,n);n.loadingState=jn.IN_PROGRESS,ww(1,o);let s=n.dependencyResolverFn;const l=r.get(sw).add();return s?(n.loadingPromise=Promise.allSettled(s()).then(c=>{let u=!1;const d=[],h=[];for(const f of c){if("fulfilled"!==f.status){u=!0;break}{const p=f.value,g=it(p)||Sr(p);if(g)d.push(g);else{const v=ao(p);v&&h.push(v)}}}if(u){if(n.loadingState=jn.FAILED,null===n.errorTmplIndex){const p=new K(-750,!1);a1(e,p)}}else{n.loadingState=jn.COMPLETE;const f=a.tView;if(d.length>0){f.directiveRegistry=a5(f.directiveRegistry,d);const g=vA(!1,...d.map(v=>v.type));n.providers=g}h.length>0&&(f.pipeRegistry=a5(f.pipeRegistry,h))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,l()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=jn.COMPLETE,l()}),n.loadingPromise)}(a,e,t),a.loadingState===jn.IN_PROGRESS&&GG(a,t,i);break;case jn.IN_PROGRESS:jl(Nt.Loading,t,i),GG(a,t,i);break;case jn.COMPLETE:jl(Nt.Complete,t,i);break;case jn.FAILED:jl(Nt.Error,t,i)}}function aR(){return(aR=F(function*(n,e,t){const r=n.get(Fs);if(r.hydrating.has(e))return;const{parentBlockPromise:o,hydrationQueue:a}=function Yme(n,e){const t=e.get(Fs),i=e.get(Ll).get("__nghDeferData__",{});let o=!1,a=n,s=null;const l=[];for(;!o&&a;){o=t.has(a);const c=t.hydrating.get(a);if(null===s&&null!=c){s=c.promise;break}l.unshift(a),a=i[a].p}return{parentBlockPromise:s,hydrationQueue:l}}(e,n);if(0===a.length)return;null!==o&&a.shift(),function t0e(n,e){for(let t of e)n.hydrating.set(t,Promise.withResolvers())}(r,a),null!==o&&(yield o);const s=a[0];r.has(s)?yield d6(n,a,t):r.awaitParentBlock(s,F(function*(){return yield d6(n,a,t)}))})).apply(this,arguments)}function d6(n,e,t){return sR.apply(this,arguments)}function sR(){return(sR=F(function*(n,e,t){const r=n.get(Fs),i=r.hydrating,o=n.get(Du),a=o.add();for(let l=0;l<e.length;l++){const c=e[l],u=r.get(c);if(null==u){e0e(l,e,r),h6(e.slice(l),r);break}if(yield r0e(u),yield n0e(n),Jbe(u)){R_e(u),h6(e.slice(l),r);break}i.get(c).resolve()}const s=e[e.length-1];yield i.get(s)?.promise,o.remove(a),t&&t(e),function P_e(n,e,t,r){null!==n&&(t.cleanup(e),qw(n.lContainer),X$(r))}(r.get(s),e,r,n.get(Br))})).apply(this,arguments)}function Jbe(n){return ui(n.lView,n.tNode)[1]===Nt.Error}function e0e(n,e,t){const r=n-1,i=r>-1?t.get(e[r]):null;i&&qw(i.lContainer)}function h6(n,e){const t=e.hydrating;for(const r in n)t.get(r)?.reject();e.cleanup(n)}function n0e(n){return new Promise(e=>xu(e,{injector:n}))}function r0e(n){return lR.apply(this,arguments)}function lR(){return(lR=F(function*(n){const{tNode:e,lView:t}=n,r=ui(t,e);return new Promise(i=>{(function i0e(n,e){Array.isArray(n[8])||(n[8]=[]),n[8].push(e)})(r,i),Lu(0,t,e)})})).apply(this,arguments)}function Kt(n,e,t,r){const i=$();return Pn(i,Ro(),e)&&(Ve(),Ga(Ot(),i,n,e,t,r)),Kt}function If(n,e,t,r,i,o){const s=Nu(n,function Rs(){return Ue.lFrame.bindingIndex}(),t,i);return Ps(2),s?e+He(t)+r+He(i)+o:je}function aC(n,e){return n<<17|e<<2}function Vu(n){return n>>17&32767}function cR(n){return 2|n}function Pf(n){return(131068&n)>>2}function uR(n,e){return-131069&n|e<<2}function dR(n){return 1|n}function T6(n,e,t,r){const i=n[t+1],o=null===e;let a=r?Vu(i):Pf(i),s=!1;for(;0!==a&&(!1===s||o);){const c=n[a+1];V0e(n[a],e)&&(s=!0,n[a+1]=r?dR(c):cR(c)),a=r?Vu(c):Pf(c)}s&&(n[t+1]=r?cR(i):dR(i))}function V0e(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&rg(n,e)>=0}const cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function I6(n){return n.substring(cr.key,cr.keyEnd)}function D6(n,e){const t=cr.textEnd;return t===e?-1:(e=cr.keyEnd=function H0e(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,cr.key=e,t),kf(n,e,t))}function kf(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function X(n,e,t){const r=$();return Pn(r,Ro(),e)&&zi(Ve(),Ot(),r,n,e,r[11],t,!1),X}function hR(n,e,t,r,i){s1(e,n,t,i?"class":"style",r)}function nv(n,e,t){return ha(n,e,t,!1),nv}function Qn(n,e){return ha(n,e,null,!0),Qn}function rv(n){!function fa(n,e,t,r){const i=Ve(),o=Ps(2);i.firstUpdatePass&&P6(i,null,o,r);const a=$();if(t!==je&&Pn(a,o,t)){const s=i.data[xr()];if(F6(s,r)&&!R6(i,o)){let l=r?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(t=iA(l,t||"")),hR(i,s,a,t,r)}else!function Z0e(n,e,t,r,i,o,a,s){i===je&&(i=yt);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),null!==p&&O6(n,e,t,r,p,g,a,s),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function X0e(n,e,t){if(null==t||""===t)return yt;const r=[],i=Bl(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Q0e,Ya,n,!0)}function Ya(n,e){for(let t=function U0e(n){return function x6(n){cr.key=0,cr.keyEnd=0,cr.value=0,cr.valueEnd=0,cr.textEnd=n.length}(n),D6(n,kf(n,0,cr.textEnd))}(e);t>=0;t=D6(e,t))ro(n,I6(e),!0)}function ha(n,e,t,r){const i=$(),o=Ve(),a=Ps(2);o.firstUpdatePass&&P6(o,n,a,r),e!==je&&Pn(i,a,e)&&O6(o,o.data[xr()],i,i[11],n,i[a+1]=function J0e(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ar(Bl(n)))),n}(e,t),r,a)}function R6(n,e){return e>=n.expandoStartIndex}function P6(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[xr()],a=R6(n,t);F6(o,r)&&null===e&&!a&&(e=!1),e=function q0e(n,e,t,r){const i=function zA(n){const e=Ue.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=iv(t=fR(null,n,e,t,r),e.attrs,r),o=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=fR(i,n,e,t,r),null===o){let l=function W0e(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Pf(r))return n[Vu(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=fR(null,n,e,l[1],r),l=iv(l,e.attrs,r),function Y0e(n,e,t,r){n[Vu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function K0e(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=iv(r,n[o].hostAttrs,t);return iv(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function F0e(n,e,t,r,i,o){let a=o?e.classBindings:e.styleBindings,s=Vu(a),l=Pf(a);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||rg(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=Vu(n[s+1]);n[r+1]=aC(h,s),0!==h&&(n[h+1]=uR(n[h+1],r)),n[s+1]=function O0e(n,e){return 131071&n|e<<17}(n[s+1],r)}else n[r+1]=aC(s,0),0!==s&&(n[s+1]=uR(n[s+1],r)),s=r;else n[r+1]=aC(l,0),0===s?s=r:n[l+1]=uR(n[l+1],r),l=r;c&&(n[r+1]=cR(n[r+1])),T6(n,u,r,!0),T6(n,u,r,!1),function L0e(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&rg(o,e)>=0&&(t[r+1]=dR(t[r+1]))}(e,u,n,r,o),a=aC(s,l),o?e.classBindings=a:e.styleBindings=a}(i,o,e,t,a,r)}}function fR(n,e,t,r,i){let o=null;const a=t.directiveEnd;let s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<a&&(o=e[s],r=iv(r,o.hostAttrs,i),o!==n);)s++;return null!==n&&(t.directiveStylingLast=s),r}function iv(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ro(n,a,!!t||e[++o]))}return void 0===n?null:n}function Q0e(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&ro(n,r,t)}function O6(n,e,t,r,i,o,a,s){if(!(3&e.type))return;const l=n.data,c=l[s+1],u=function N0e(n){return!(1&~n)}(c)?N6(l,e,t,i,Pf(c),a):void 0;sC(u)||(sC(o)||function k0e(n){return!(2&~n)}(c)&&(o=N6(l,null,t,i,s,a)),function Ive(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Ul.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ul.Important),n.setStyle(t,r,i,o))}}(r,a,Gh(xr(),t),i,o))}function N6(n,e,t,r,i,o){const a=null===e;let s;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===je&&(h=d?yt:void 0);let f=d?mA(h,r):u===r?h:void 0;if(c&&!sC(f)&&(f=mA(l,r)),sC(f)&&(s=f,a))return s;const p=n[i+1];i=a?Vu(p):Pf(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(s=mA(l,r))}return s}function sC(n){return void 0!==n}function F6(n,e){return!!(n.flags&(e?8:16))}class uwe{destroy(e){}updateValue(e,t){}swap(e,t){const r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){const a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}}function pR(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function mR(n,e,t,r){return!(void 0===e||!e.has(r)||(n.attach(t,e.get(r)),e.delete(r),0))}function L6(n,e,t,r,i){if(mR(n,e,r,t(r,i)))n.updateValue(r,i);else{const o=n.create(r,i);n.attach(r,o)}}function V6(n,e,t,r){const i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}class B6{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}}function ov(n,e){ci("NgControlFlow");const t=$(),r=Ro(),i=t[r]!==je?t[r]:-1,o=-1!==i?uC(t,26+i):void 0;if(Pn(t,r,n)){const s=Ge(null);try{if(void 0!==o&&_1(o,0),-1!==n){const l=26+n,c=uC(t,l),u=gR(t[1],l),d=_f(c,u.tView.ssrId);mf(c,hf(t,u,e,{dehydratedView:d}),0,Ru(u,d))}}finally{Ge(s)}}else if(void 0!==o){const s=x$(o,0);void 0!==s&&(s[8]=e)}}class hwe{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-10}}class mwe{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}}function lC(n,e,t,r,i,o,a,s,l,c,u,d,h){ci("NgControlFlow");const f=$(),p=Ve(),g=void 0!==l,v=$(),_=s?a.bind(v[15][8]):a,y=new mwe(g,_);v[26+n]=y,Zg(f,p,n+1,e,t,r,i,Mo(p.consts,o)),g&&Zg(f,p,n+2,l,c,u,d,Mo(p.consts,h))}class gwe extends uwe{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-10}at(e){return this.getLView(e)[8].$implicit}attach(e,t){const r=t[6];this.needsIndexUpdate||=e!==this.length,mf(this.lContainer,t,e,Ru(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function vwe(n,e){return Vg(n,e)}(this.lContainer,e)}create(e,t){const r=_f(this.lContainer,this.templateTNode.tView.ssrId),i=hf(this.hostLView,this.templateTNode,new hwe(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Fg(e[1],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[8].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[8].$index=e}getLView(e){return function _we(n,e){return x$(n,e)}(this.lContainer,e)}}function cC(n){const e=Ge(null),t=xr();try{const r=$(),i=r[1],o=r[t],a=t+1,s=uC(r,a);if(void 0===o.liveCollection){const c=gR(i,a);o.liveCollection=new gwe(s,r,c)}else o.liveCollection.reset();const l=o.liveCollection;if(function dwe(n,e,t){let r,i,o=0,a=n.length-1;if(Array.isArray(e)){let l=e.length-1;for(;o<=a&&o<=l;){const c=n.at(o),u=e[o],d=pR(o,c,o,u,t);if(0!==d){d<0&&n.updateValue(o,u),o++;continue}const h=n.at(a),f=e[l],p=pR(a,h,l,f,t);if(0!==p){p<0&&n.updateValue(a,f),a--,l--;continue}const g=t(o,c),v=t(a,h),_=t(o,u);if(Object.is(_,v)){const y=t(l,f);Object.is(y,g)?(n.swap(o,a),n.updateValue(a,f),l--,a--):n.move(a,o),n.updateValue(o,u),o++}else if(r??=new B6,i??=V6(n,o,a,t),mR(n,r,o,_))n.updateValue(o,u),o++,a++;else if(i.has(_))r.set(g,n.detach(o)),a--;else{const y=n.create(o,e[o]);n.attach(o,y),o++,a++}}for(;o<=l;)L6(n,r,t,o,e[o]),o++}else if(null!=e){const l=e[Symbol.iterator]();let c=l.next();for(;!c.done&&o<=a;){const u=n.at(o),d=c.value,h=pR(o,u,o,d,t);if(0!==h)h<0&&n.updateValue(o,d),o++,c=l.next();else{r??=new B6,i??=V6(n,o,a,t);const f=t(o,d);if(mR(n,r,o,f))n.updateValue(o,d),o++,a++,c=l.next();else if(i.has(f)){const p=t(o,u);r.set(p,n.detach(o)),a--}else n.attach(o,n.create(o,d)),o++,a++,c=l.next()}}for(;!c.done;)L6(n,r,t,n.length,c.value),c=l.next()}for(;o<=a;)n.destroy(n.detach(a--));r?.forEach(l=>{n.destroy(l)})}(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){const c=Ro(),u=0===l.length;if(Pn(r,c,u)){const d=t+2,h=uC(r,d);if(u){const f=gR(i,d),p=_f(h,f.tView.ssrId);mf(h,hf(r,f,void 0,{dehydratedView:p}),0,Ru(f,p))}else _1(h,0)}}}finally{Ge(e)}}function uC(n,e){return n[e]}function gR(n,e){return wu(n,e)}function z(n,e,t,r){const i=$(),o=Ve(),a=26+n,s=i[11],l=o.firstCreatePass?iG(a,o,i,e,i1,LA(),t,r):o.data[a],c=U6(o,i,l,s,e,n);i[a]=c;const u=Y0(l);return la(l,!0),n$(s,c,l),!zl(l)&&ug()&&Vw(o,i,c,l),(0===function Qfe(){return Ue.lFrame.elementDepthCount}()||u)&&Ui(c,i),function Zfe(){Ue.lFrame.elementDepthCount++}(),u&&(Fw(o,i,l),HM(o,l,i)),null!==r&&r1(i,l),z}function V(){let n=tt();VA()?BA():(n=n.parent,la(n,!1));const e=n;(function epe(n){return Ue.skipHydrationRootTNode===n})(e)&&function ipe(){Ue.skipHydrationRootTNode=null}(),function Jfe(){Ue.lFrame.elementDepthCount--}();const t=Ve();return t.firstCreatePass&&oG(t,e),null!=e.classesWithoutHost&&function mpe(n){return!!(8&n.flags)}(e)&&hR(t,e,$(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gpe(n){return!!(16&n.flags)}(e)&&hR(t,e,$(),e.stylesWithoutHost,!1),V}function Ne(n,e,t,r){return z(n,e,t,r),V(),Ne}let U6=(n,e,t,r,i,o)=>(Ua(!0),kw(r,i,Gj()));function ywe(n,e,t,r,i,o){const a=e[6],s=!a||Eu()||zl(t)||Au(a,o);if(Ua(s),s)return kw(r,i,Gj());const l=Gg(a,n,e,t);return y5(a,o)&&Dw(a,o,l.nextSibling),a&&(lM(t)||D4(l))&&sa(t)&&(function npe(n){Ue.skipHydrationRootTNode=n}(t),t$(l)),l}function av(n,e,t){const r=$(),i=Ve(),o=n+26,a=i.firstCreatePass?function wwe(n,e,t,r,i){const o=e.consts,a=Mo(o,r),s=gf(e,n,8,"ng-container",a);null!==a&&P1(s,a,!0);const l=Mo(o,i);return LA()&&O1(e,t,s,l,i1),s.mergedAttrs=Yh(s.mergedAttrs,s.attrs),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,t):i.data[o];la(a,!0);const s=H6(i,r,a,n);return r[o]=s,ug()&&Vw(i,r,s,a),Ui(s,r),Y0(a)&&(Fw(i,r,a),HM(i,a,r)),null!=t&&r1(r,a),av}function sv(){let n=tt();const e=Ve();return VA()?BA():(n=n.parent,la(n,!1)),e.firstCreatePass&&(qA(e,n),DA(n)&&e.queries.elementEnd(n)),sv}let H6=(n,e,t,r)=>(Ua(!0),ZM(e[11],""));function Cwe(n,e,t,r){let i;const o=e[6],a=!o||Eu()||Au(o,r)||zl(t);if(Ua(a),a)return ZM(e[11],"");const s=Gg(o,n,e,t),l=function _5(n,e){const t=n.data;let r=t.e?.[e]??null;return null===r&&t.c?.[e]&&(r=VM(n,e)),r}(o,r);return Dw(o,r,s),i=Gw(l,s),i}function _n(){return $()}function dC(n,e,t){const r=$();return Pn(r,Ro(),e)&&zi(Ve(),Ot(),r,n,e,r[11],t,!0),dC}const hC="en-US";let q6=hC;function uq(n,e,t){return function r(i){if(i===Function)return t;Lg(sa(n)?si(n.index,e):e,5);const a=e[8];let s=dq(e,a,t,i),l=r.__ngNextListenerFn__;for(;l;)s=dq(e,a,l,i)&&s,l=l.__ngNextListenerFn__;return s}}function dq(n,e,t,r){const i=Ge(null);try{return!1!==t(r)}catch(o){return function pCe(n,e){const t=n[9],r=t?t.get(ca,null):null;r&&r.handleError(e)}(n,o),!1}finally{Ge(i)}}function hq(n,e,t,r,i,o){const s=e[1],u=e[t][s.data[t].outputs[r]],d=s.firstCreatePass?OA(s):null,h=kA(e),f=u.subscribe(o),p=h.length;h.push(o,f),d&&d.push(i,n.index,p,-(p+1))}const yR=new Map;function ce(n,e,t,r){const i=$(),o=Ve(),a=tt();return bR(o,i,i[11],a,n,e,r),ce}function bR(n,e,t,r,i,o,a){const s=Y0(r),c=n.firstCreatePass?OA(n):null,u=kA(e);let d=!0;if(3&r.type||a){const h=ai(r,e),f=a?a(h):h,p=u.length,g=a?_=>a(ft(_[r.index])):r.index;let v=null;if(!a&&s&&(v=function vCe(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===t&&i[o+1]===r){const s=e[7],l=i[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,d=!1;else{o=uq(r,e,o);const _=e[9].get(ja);yR.get(_)?.(f,i,o);const w=t.listen(f,i,o);u.push(o,w),c&&c.push(i,g,p,p+1)}}else o=uq(r,e,o);if(d){const h=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2)hq(r,e,f[p],f[p+1],i,o);if(h&&h.length)for(const p of h)hq(r,e,p,i,i,o)}}function ie(n=1){return function cpe(n){return(Ue.lFrame.contextLView=function kj(n,e){for(;n>0;)e=e[14],n--;return e}(n,Ue.lFrame.contextLView))[8]}(n)}function _Ce(n,e){let t=null;const r=function Yge(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?X5(n,o,!0):Qge(r,o))return i}else t=i}return t}function fv(n){const e=$()[15][5];if(!e.projection){const r=e.projection=function B0(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){if(128!==o.type){const a=n?_Ce(o,n):0;null!==a&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function Uu(n,e=0,t,r,i,o){const a=$(),s=Ve(),l=r?n+1:null;null!==l&&Zg(a,s,l,r,i,o,null,t);const c=gf(s,26+n,16,null,t||null);null===c.projection&&(c.projection=e),BA();const d=!a[6]||Eu();null===a[15][5].projection[c.projection]&&null!==l?function yCe(n,e,t){const r=26+t,i=e.data[r],o=n[r],a=_f(o,i.tView.ssrId);mf(o,hf(n,i,void 0,{dehydratedView:a}),0,Ru(i,a))}(a,s,l):d&&!zl(c)&&function Eve(n,e,t){v$(e[11],0,e,t,h1(n,t,e),h$(t.parent||e[5],t,e))}(s,a,c)}function CR(n,e,t,r){!function vG(n,e,t,r){const i=Ve();if(i.firstCreatePass){const o=tt();_G(i,new fG(e,t,r),o.index),function _ye(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return mG(i,$(),t)}(n,e,t,r)}function Us(n,e,t){!function gG(n,e,t){const r=Ve();return r.firstCreatePass&&(_G(r,new fG(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),mG(r,$(),e)}(n,e,t)}function pa(n){const e=$(),t=Ve(),r=HA();J0(r+1);const i=j1(t,r);if(n.dirty&&function Yfe(n){return!(4&~n[2])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const o=yG(e,r);n.reset(o,T4),n.notifyOnChanges()}return!0}return!1}function ma(){return function H1(n,e){return n[18].queries[e].queryList}($(),HA())}function Nf(n){return Cu(function Nj(){return Ue.lFrame.contextLView}(),26+n)}function xe(n,e=""){const t=$(),r=Ve(),i=n+26,o=r.firstCreatePass?gf(r,i,1,e,null):r.data[i],a=Pq(r,t,o,e,n);t[i]=a,ug()&&Vw(r,t,a,o),la(o,!1)}let Pq=(n,e,t,r,i)=>(Ua(!0),QM(e[11],r));function PCe(n,e,t,r,i){const o=e[6],a=!o||Eu()||zl(t)||Au(o,i);return Ua(a),a?QM(e[11],r):Gg(o,n,e,t)}function Zn(n){return ur("",n,""),Zn}function ur(n,e,t){const r=$(),i=function Tf(n,e,t,r){return Pn(n,Ro(),t)?e+He(t)+r:je}(r,n,e,t);return i!==je&&zs(r,xr(),i),ur}function gC(n,e,t,r,i){const o=$(),a=If(o,n,e,t,r,i);return a!==je&&zs(o,xr(),a),gC}function zs(n,e,t){const r=Gh(e,n);!function Z5(n,e,t){n.setValue(e,t)}(n[11],r,t)}function Ur(n,e,t){I4(e)&&(e=e());const r=$();return Pn(r,Ro(),e)&&zi(Ve(),Ot(),r,n,e,r[11],t,!1),Ur}function hi(n,e){const t=I4(n);return t&&n.set(e),t}function zr(n,e){const t=$(),r=Ve(),i=tt();return bR(r,t,t[11],i,n,e),zr}function TR(n,e,t,r,i){if(n=Be(n),Array.isArray(n))for(let o=0;o<n.length;o++)TR(n[o],e,t,r,i);else{const o=Ve(),a=$(),s=tt();let l=mu(n)?n:Be(n.provide);const c=vj(n),u=1048575&s.providerIndexes,d=s.directiveStart,h=s.providerIndexes>>20;if(mu(n)||!n.multi){const f=new dg(c,i,Y),p=DR(l,e,i?u:u+h,d);-1===p?(JA(rw(s,a),o,l),IR(o,n,e.length),e.push(l),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),t.push(f),a.push(f)):(t[p]=f,a[p]=f)}else{const f=DR(l,e,u+h,d),p=DR(l,e,u,u+h),v=p>=0&&t[p];if(i&&!v||!i&&!(f>=0&&t[f])){JA(rw(s,a),o,l);const _=function UCe(n,e,t,r,i){const o=new dg(n,t,Y);return o.multi=[],o.index=e,o.componentProviders=0,Hq(o,i,r&&!t),o}(i?BCe:VCe,t.length,i,r,c);!i&&v&&(t[p].providerFactory=_),IR(o,n,e.length,0),e.push(l),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),t.push(_),a.push(_)}else IR(o,n,f>-1?f:p,Hq(t[i?p:f],c,!i&&r));!i&&r&&v&&t[p].componentProviders++}}}function IR(n,e,t,r){const i=mu(e),o=function Ife(n){return!!n.useClass}(e);if(i||o){const l=(o?Be(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function Hq(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function DR(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function VCe(n,e,t,r,i){return SR(this.multi,[])}function BCe(n,e,t,r,i){const o=this.multi;let a;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=pg(r,r[1],this.providerFactory.index,i);a=l.slice(0,s),SR(o,a);for(let c=s;c<l.length;c++)a.push(l[c])}else a=[],SR(o,a);return a}function SR(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function vt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function LCe(n,e,t){const r=Ve();if(r.firstCreatePass){const i=lo(n);TR(t,r.data,r.blueprint,i,!0),TR(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}function _C(n,e,t){const r=li()+n,i=$();return i[r]===je?qa(i,r,t?e.call(t):e()):function Qg(n,e){return n[e]}(i,r)}function Gq(n,e,t,r,i){return function Wq(n,e,t,r,i,o,a){const s=e+t;return Nu(n,s,i,o)?qa(n,s+2,a?r.call(a,i,o):r(i,o)):pv(n,s+2)}($(),li(),n,e,t,r,i)}function pv(n,e){const t=n[e];return t===je?void 0:t}function qq(n,e,t,r,i,o){const a=e+t;return Pn(n,a,i)?qa(n,a+1,o?r.call(o,i):r(i)):pv(n,a+1)}function xR(n,e){return zw(n,e)}class Lf{full;major;minor;patch;constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const kR=new Lf("19.2.10");class xEe{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let AEe=(()=>{class n{compileModuleSync(t){return new W1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=$a(oo(t).declarations).reduce((a,s)=>{const l=it(s);return l&&a.push(new Kg(l)),a},[]);return new xEe(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PEe=(()=>{class n{zone=O(De);changeDetectionScheduler=O(Os);applicationRef=O(Br);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kEe=new W("",{factory:()=>!1});function OR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De({...NR(),scheduleInRootZone:t}),[{provide:De,useFactory:n},{provide:io,multi:!0,useFactory:()=>{const r=O(PEe,{optional:!0});return()=>r.initialize()}},{provide:io,multi:!0,useFactory:()=>{const r=O(NEe);return()=>{r.initialize()}}},!0===e?{provide:g4,useValue:!0}:[],{provide:nM,useValue:t??p4}]}function NR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let NEe=(()=>{class n{subscription=new St;initialized=!1;zone=O(De);pendingTasks=O(Du);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vv=(()=>{class n{appRef=O(Br);taskService=O(Du);ngZone=O(De);zonelessEnabled=O(Kh);tracing=O(Zh,{optional:!0});disableScheduling=O(g4,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new St;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lw):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(nM,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof aM||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;let r=!1;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?_4:v4;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lw+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_4(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hs=new W("",{providedIn:"root",factory:()=>O(Hs,Je.Optional|Je.SkipSelf)||function FEe(){return typeof $localize<"u"&&$localize.locale||hC}()}),wC=new W(""),HEe=new W("");function _v(n){return!n.moduleRef}let ql=null;function IW(){return!1}let uo=(()=>class n{static __NG_ELEMENT_ID__=YEe})();function YEe(n){return function KEe(n,e,t){if(sa(n)&&!t){const r=si(n.index,e);return new Bg(r,r)}return 175&n.type?new Bg(e[15],e):null}(tt(),$(),!(16&~n))}class MW{constructor(){}supports(e){return Zw(e)}create(e){return new eTe(e)}}const JEe=(n,e)=>e;class eTe{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||JEe}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const a=!r||t&&t.currentIndex<PW(r,i,o)?t:r,s=PW(a,i,o),l=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{o||(o=[]);const c=s-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[a.previousIndex]=u-c}}s!==l&&e(a,s,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Zw(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)o=e[s],a=this._trackByFn(s,o),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,o,a,s)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,s),r=!0),t=t._next}else i=0,function Yye(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,s=>{a=this._trackByFn(i,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,i)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new tTe(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new RW),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RW),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class tTe{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}}class nTe{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class RW{map=new Map;put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new nTe,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PW(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class kW{constructor(){}supports(e){return e instanceof Map||X1(e)}create(){return new rTe}}class rTe{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||X1(e)))throw new K(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}const r=new iTe(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class iTe{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}}function OW(){return new zR([new MW])}let zR=(()=>{class n{factories;static \u0275prov=te({token:n,providedIn:"root",factory:OW});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OW()),deps:[[n,new Fh,new Dr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new K(901,!1)}}return n})();function NW(){return new TC([new kW])}let TC=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:NW});factories;constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||NW()),deps:[[n,new Fh,new Dr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new K(901,!1)}}return n})();function sTe(n){try{const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function WEe(n=[]){if(ql)return ql;const e=function EW(n=[],e){return pt.create({name:e,providers:[{provide:bA,useValue:"platform"},{provide:wC,useValue:new Set([()=>ql=null])},...n]})}(n);return ql=e,function o6(){!function Gde(n){p3=n}(()=>{throw new K(600,!1)})}(),function TW(n){const e=n.get(pM,null);Vi(n,()=>{e?.forEach(t=>t())})}(e),e}(r),o=[OR({}),{provide:Os,useExisting:vv},...t||[]];return function bW(n){const e=_v(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{_v(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const r=e.get(ca,null);let i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),_v(n)){const o=()=>e.destroy(),a=n.platformInjector.get(wC);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{const o=()=>n.moduleRef.destroy(),a=n.platformInjector.get(wC);a.add(o),n.moduleRef.onDestroy(()=>{oC(n.allPlatformModules,n.moduleRef),i.unsubscribe(),a.delete(o)})}return function $Ee(n,e,t){try{const r=t();return ev(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(r,t,()=>{const o=e.get(i6);return o.runInitializers(),o.donePromise.then(()=>{if(function Mwe(n){"string"==typeof n&&(q6=n.toLowerCase().replace(/_/g,"-"))}(e.get(Hs,hC)||hC),!e.get(HEe,!0))return _v(n)?e.get(Br):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_v(n)){const l=e.get(Br);return void 0!==n.rootComponent&&l.bootstrap(n.rootComponent),l}return function jEe(n,e){const t=n.injector.get(Br);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new K(-403,!1);n.instance.ngDoBootstrap(t)}e.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({r3Injector:new RG({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}const IC=new WeakSet;let DC=[];function LW(n){return n.get(TM,!1)}function VW(){const n=[{provide:TM,useFactory:()=>{let e=!0;{const t=O(ja);e=!!window._ejsas?.[t]}return e&&ci("NgEventReplay"),e}}];return n.push({provide:io,useValue:()=>{const e=O(Br),{injector:t}=e;if(!IC.has(e)){const r=O(IM);LW(t)&&function mCe(n,e){yR.set(n,e)}(t.get(ja),(o,a,s)=>{o.nodeType===Node.ELEMENT_NODE&&(((n,e,t)=>{const r=n,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(t),i.set(e,o),r.__jsaction_fns=i})(o,a,s),((n,e)=>{const t=n;let r=t.getAttribute(Dg)??"";const i=e.get(r)??new Set;i.has(t)||i.add(t),e.set(r,i)})(o,r))})}},multi:!0},{provide:Fu,useFactory:()=>{const e=O(Br),{injector:t}=e;return()=>{!LW(t)||IC.has(e)||(IC.add(e),e.onDestroy(()=>{IC.delete(e);{const r=t.get(ja);q3(r),function gCe(n){yR.delete(n)}(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;const r=t.get(Lme);lTe(r,t);const i=t.get(IM);i.get("")?.forEach(h5),i.delete("");const o=r.instance;!function Mg(n){return n.get(K4,!1,{optional:!0})}(t)?o.cleanUp():e.onDestroy(()=>o.cleanUp())}))}},multi:!0}),n}const lTe=(n,e)=>{const t=e.get(ja),r=window._ejsas[t],i=n.instance=new Khe(new Ihe(r.c));for(const s of r.et)i.addEvent(s);for(const s of r.etc)i.addEvent(s);const o=function Xhe(n,e=window){return function qhe(n){return n?.q??[]}(e._ejsas?.[n])}(t);i.replayEarlyEventInfos(o),q3(t);const a=new Bhe(s=>{!function uTe(n,e,t){const r=(t&&t.getAttribute(Dg))??"";/d\d+/.test(r)?function dTe(n,e,t,r){DC.push({event:t,currentTarget:r}),function $l(n,e,t){return aR.apply(this,arguments)}(e,n,hTe)}(r,n,e,t):101===e.eventPhase&&f5(e,t)}(e,s,s.currentTarget)});!function $he(n,e){n.ecrd(t=>{e.dispatch(t)},U3.I_AM_THE_JSACTION_FRAMEWORK)}(i,a)};function hTe(n){const e=[...DC],t=new Set(n);DC=[];for(let{event:r,currentTarget:i}of e){const o=i.getAttribute(Dg);t.has(o)?f5(r,i):DC.push({event:r,currentTarget:i})}}let GW=!1;function xTe(){const n=[{provide:Qh,useFactory:()=>{let e=!0;return e=!!O(Ll,{optional:!0})?.get(NM,null),e&&ci("NgHydration"),e}},{provide:io,useValue:()=>{(function q$(n){$$=n})(!1),O(Qh)&&(function ige(n){for(const r of n.body.childNodes)if(UM(r))return;if(!UM(E5(n.body.previousSibling))&&!UM(E5(n.head.lastChild)))throw new K(-507,!1)}(Ha()),function ETe(){GW||(GW=!0,function zme(){p5=Ume}(),function bwe(){U6=ywe}(),function kCe(){Pq=PCe}(),function Ewe(){H6=Cwe}(),function Zye(){BG=Qye}(),function hye(){uG=dye,F1=uye}(),function N_e(){Q$=O_e}(),function lve(){a$=sve}())}())},multi:!0}];return n.push({provide:q4,useFactory:()=>O(Qh)},{provide:Fu,useFactory:()=>{if(O(Qh)){const e=O(Br);return()=>{(function DTe(n){return n.whenStable()})(e).then(()=>{e.destroyed||X$(e)})}}return()=>{}},multi:!0}),Ao(n)}function dr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function $n(n){return function Qde(n){const e=Ge(null);try{return n()}finally{Ge(e)}}(n)}function Ka(n,e){return function Hde(n,e){const t=Object.create(jde);t.computation=n,void 0!==e&&(t.equal=e);const r=()=>{if(Zm(t),Qm(t),t.value===Rl)throw t.error;return t.value};return r[Ir]=t,r}(n,e?.equal)}class kTe{[Ir];constructor(e){this[Ir]=e}destroy(){this[Ir].destroy()}}const XW={...xh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:gg,run(){if(this.dirty=!1,this.hasRun&&!m0(this))return;this.hasRun=!0;const n=r=>(this.cleanupFns??=[]).push(r),e=Ah(this),t=Z0(!1);try{this.maybeCleanup(),this.fn(n)}finally{Z0(t),Jm(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},OTe={...XW,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){g0(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},NTe={...XW,consumerMarkedDirty(){this.view[2]|=8192,qh(this.view),this.notifier.notify(13)},destroy(){g0(this),this.onDestroyFn(),this.maybeCleanup(),this.view[23]?.delete(this)}};function t8(n,e){const t=it(n),r=e.elementInjector||j0();return new Kg(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}const Zt=new W("");let n8=null;function Wl(){return n8}class XTe{}let qR=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>O(ZTe),providedIn:"platform"})}return n})();const QTe=new W("");let ZTe=(()=>{class n extends qR{_location;_history;_doc=O(Zt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wl().getBaseHref(this._doc)}onPopState(t){const r=Wl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Wl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function WR(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function r8(n){const e=n.search(/#|\?|$/);return"/"===n[e-1]?n.slice(0,e-1)+n.slice(e):n}function js(n){return n&&"?"!==n[0]?`?${n}`:n}let Hu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>O(o8),providedIn:"root"})}return n})();const i8=new W("");let o8=(()=>{class n extends Hu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WR(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+js(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const a=this.prepareExternalUrl(i+js(o));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){const a=this.prepareExternalUrl(i+js(o));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(_e(qR),_e(i8,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vf=(()=>{class n{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function tIe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(r8(a8(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+js(r))}normalize(t){return n.stripTrailingSlash(function eIe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,a8(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+js(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+js(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=js;static joinWithSlash=WR;static stripTrailingSlash=r8;static \u0275fac=function(r){return new(r||n)(_e(Hu))};static \u0275prov=te({token:n,factory:()=>function JTe(){return new Vf(_e(Hu))}(),providedIn:"root"})}return n})();function a8(n){return n.replace(/\/index.html$/,"")}const s8="browser";function l8(n){return n===s8}function c8(n){return"server"===n}const YR=new W("");let u8=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(_e(YR),_e(De))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();class d8{_doc;constructor(e){this._doc=e}manager}const AC="ng-app-id";function h8(n){for(const e of n)e.remove()}function f8(n,e){const t=e.createElement("style");return t.textContent=n,t}function KR(n,e){const t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}let p8=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=c8(o),function oIe(n,e,t,r){const i=n.head?.querySelectorAll(`style[${AC}="${e}"],link[${AC}="${e}"]`);if(i)for(const o of i)o.removeAttribute(AC),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(const i of t)this.addUsage(i,this.inline,f8);r?.forEach(i=>this.addUsage(i,this.external,KR))}removeStyles(t,r){for(const i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){const o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(t,this.doc)))})}removeUsage(t,r){const i=r.get(t);i&&(i.usage--,i.usage<=0&&(h8(i.elements),r.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])h8(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(t,f8(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(t,KR(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(AC,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(_e(Zt),_e(ja),_e(mM,8),_e(Su))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const XR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},QR=/%COMP%/g,dIe=new W("",{providedIn:"root",factory:()=>!0});function g8(n,e){return e.map(t=>t.replace(QR,n))}let v8=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,a,s,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=c8(s),this.defaultRenderer=new ZR(t,a,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ko.ShadowDom&&(r={...r,encapsulation:ko.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof y8?i.applyToHost(t):i instanceof JR&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case ko.Emulated:o=new y8(l,c,r,this.appId,u,a,s,d,h);break;case ko.ShadowDom:return new mIe(l,c,t,r,a,s,this.nonce,d,h);default:o=new JR(l,c,r,u,a,s,d,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(_e(u8),_e(p8),_e(ja),_e(dIe),_e(Zt),_e(Su),_e(De),_e(mM),_e(Zh,8))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();class ZR{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(XR[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_8(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_8(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=XR[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=XR[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ul.DashCase|Ul.Important)?e.style.setProperty(t,r,i&Ul.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ul.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if("string"==typeof e&&!(e=Wl().getGlobalEventTarget(this.doc,e)))throw new K(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function _8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mIe extends ZR{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,a,s,l,c){super(e,o,a,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=g8(i.id,u);for(const h of u){const f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=h,this.shadowRoot.appendChild(f)}const d=i.getExternalStyles?.();if(d)for(const h of d){const f=KR(h,o);s&&f.setAttribute("nonce",s),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class JR extends ZR{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,a,s,l,c){super(e,o,a,s,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?g8(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class y8 extends JR{contentAttr;hostAttr;constructor(e,t,r,i,o,a,s,l,c){const u=i+"-"+r.id;super(e,t,r,o,a,s,l,c,u),this.contentAttr=function hIe(n){return"_ngcontent-%COMP%".replace(QR,n)}(u),this.hostAttr=function fIe(n){return"_nghost-%COMP%".replace(QR,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class eP extends XTe{supportsDOMEvents=!0;static makeCurrent(){!function KTe(n){n8??=n}(new eP)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function gIe(){return wv=wv||document.querySelector("base"),wv?wv.getAttribute("href"):null}();return null==t?null:function vIe(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){wv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function nIe(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let wv=null,yIe=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),bIe=(()=>{class n extends d8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(_e(Zt))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const b8=["alt","control","meta","shift"],wIe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CIe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let EIe=(()=>{class n extends d8{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i,o){const a=n.parseEventName(r),s=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wl().onAndCancel(t,a.domEventName,s,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),b8.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),a+=c+".")}),a+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(t,r){let i=wIe[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),b8.forEach(a=>{a!==i&&(0,CIe[a])(t)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(r){return new(r||n)(_e(Zt))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function w8(n){return{appProviders:[...MIe,...n?.providers??[]],platformProviders:xIe}}const xIe=[{provide:Su,useValue:s8},{provide:pM,useValue:function IIe(){eP.makeCurrent()},multi:!0},{provide:Zt,useFactory:function SIe(){return function vme(n){fM=n}(document),document}}],MIe=[{provide:bA,useValue:"root"},{provide:ca,useFactory:function DIe(){return new ca}},{provide:YR,useClass:bIe,multi:!0,deps:[Zt]},{provide:YR,useClass:EIe,multi:!0,deps:[Zt]},v8,p8,u8,{provide:da,useExisting:v8},{provide:class iIe{},useClass:yIe},[]];let RIe=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>new PIe(O(Zt),window)})}return n})();class PIe{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function kIe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}let sDe=(()=>{class n extends Hu{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=WR(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){const a=this.prepareExternalUrl(i+js(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){const a=this.prepareExternalUrl(i+js(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(_e(qR),_e(i8,8))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const fP=/\s+/,U8=[];let pP=(()=>{class n{_ngEl;_renderer;initialClasses=U8;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=null!=t?t.trim().split(fP):U8}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(fP):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(fP).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Y(cn),Y(Oo))};static \u0275dir=be({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();class qDe{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dv=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qDe(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===o?void 0:o);else if(null!==o){const s=r.get(o);r.move(s,a),H8(s,i)}});for(let i=0,o=r.length;i<o;i++){const s=r.get(i).context;s.index=i,s.count=o,s.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{H8(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(co),Y(Vs),Y(zR))};static \u0275dir=be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function H8(n,e){n.context.$implicit=e.item}let $i=(()=>{class n{_viewContainer;_context=new WDe;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j8(t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j8(t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(co),Y(Vs))};static \u0275dir=be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})();class WDe{$implicit=null;ngIf=null}function j8(n,e){if(n&&!n.createEmbeddedView)throw new K(2020,!1)}let G8=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),a=-1===i.indexOf("-")?void 0:Ul.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,i,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(Y(cn),Y(TC),Y(Oo))};static \u0275dir=be({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();const rSe=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let q8=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function va(n,e){return new K(2100,!1)}();return t.replace(rSe,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Hi({name:"titlecase",type:n,pure:!0})}return n})(),ju=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({})}return n})();function $C(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Yl(n){return this instanceof Yl?(this.v=n,this):new Yl(n)}function Q8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function CP(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(a){return new Promise(function(s,l){!function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}(s,l,(a=n[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Z8=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function J8(n){return sn(n?.then)}function e9(n){return sn(n[Qx])}function t9(n){return Symbol.asyncIterator&&sn(n?.[Symbol.asyncIterator])}function n9(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const r9=function $Se(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function i9(n){return sn(n?.[r9])}function o9(n){return function X8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function a(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function s(f,p){r[f]&&(i[f]=function(g){return new Promise(function(v,_){o.push([f,g,v,_])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{!function c(f){f.value instanceof Yl?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}(r[f](p))}catch(g){h(o[0][3],g)}}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Yl(t.read());if(i)return yield Yl(void 0);yield yield Yl(r)}}finally{t.releaseLock()}})}function a9(n){return sn(n?.getReader)}function fo(n){if(n instanceof Wt)return n;if(null!=n){if(e9(n))return function GSe(n){return new Wt(e=>{const t=n[Qx]();if(sn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Z8(n))return function qSe(n){return new Wt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(J8(n))return function WSe(n){return new Wt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,w3)})}(n);if(t9(n))return s9(n);if(i9(n))return function YSe(n){return new Wt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(a9(n))return function KSe(n){return s9(o9(n))}(n)}throw n9(n)}function s9(n){return new Wt(e=>{(function XSe(n,e){var t,r,i,o;return function Y8(n,e,t,r){return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(a){a(o)})}(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Q8(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Gs(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function GC(n,e=0){return Hn((t,r)=>{t.subscribe(ln(r,i=>Gs(r,n,()=>r.next(i),e),()=>Gs(r,n,()=>r.complete(),e),i=>Gs(r,n,()=>r.error(i),e)))})}function qC(n,e=0){return Hn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function l9(n,e){if(!n)throw new Error("Iterable cannot be null");return new Wt(t=>{Gs(t,e,()=>{const r=n[Symbol.asyncIterator]();Gs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function hr(n,e){return e?function nxe(n,e){if(null!=n){if(e9(n))return function QSe(n,e){return fo(n).pipe(qC(e),GC(e))}(n,e);if(Z8(n))return function JSe(n,e){return new Wt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(J8(n))return function ZSe(n,e){return fo(n).pipe(qC(e),GC(e))}(n,e);if(t9(n))return l9(n,e);if(i9(n))return function exe(n,e){return new Wt(t=>{let r;return Gs(t,e,()=>{r=n[r9](),Gs(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void t.error(a)}o?t.complete():t.next(i)},0,!0)}),()=>sn(r?.return)&&r.return()})}(n,e);if(a9(n))return function txe(n,e){return l9(o9(n),e)}(n,e)}throw n9(n)}(n,e):fo(n)}function c9(n){return n&&sn(n.schedule)}function TP(n){return n[n.length-1]}function u9(n){return sn(TP(n))?n.pop():void 0}function Sv(n){return c9(TP(n))?n.pop():void 0}function Se(...n){return hr(n,Sv(n))}const{isArray:ixe}=Array,{getPrototypeOf:oxe,prototype:axe,keys:sxe}=Object;function d9(n){if(1===n.length){const e=n[0];if(ixe(e))return{args:e,keys:null};if(function lxe(n){return n&&"object"==typeof n&&oxe(n)===axe}(e)){const t=sxe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:cxe}=Array;function h9(n){return Ye(e=>function uxe(n,e){return cxe(e)?n(...e):n(e)}(n,e))}function f9(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function WC(...n){const e=Sv(n),t=u9(n),{args:r,keys:i}=d9(n);if(0===r.length)return hr([],e);const o=new Wt(function dxe(n,e,t=kl){return r=>{p9(e,()=>{const{length:i}=n,o=new Array(i);let a=i,s=i;for(let l=0;l<i;l++)p9(e,()=>{const c=hr(n[l],e);let u=!1;c.subscribe(ln(r,d=>{o[l]=d,u||(u=!0,s--),s||r.next(t(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>f9(i,a):kl));return t?o.pipe(h9(t)):o}function p9(n,e,t){n?Gs(t,n,e):e()}const YC=jx(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Hr(n,e,t=1/0){return sn(e)?Hr((r,i)=>Ye((o,a)=>e(r,o,i,a))(fo(n(r,i))),t):("number"==typeof e&&(t=e),Hn((r,i)=>function hxe(n,e,t,r,i,o,a,s){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let v=!1;fo(t(g,u++)).subscribe(ln(e,_=>{i?.(_),o?f(_):e.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){const _=l.shift();a?Gs(e,a,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(ln(e,f,()=>{d=!0,h()})),()=>{s?.()}}(r,i,n,t)))}function Uf(n=1/0){return Hr(kl,n)}function KC(...n){return function fxe(){return Uf(1)}()(hr(n,Sv(n)))}function m9(n){return new Wt(e=>{fo(n()).subscribe(e)})}function XC(n,e){const t=sn(n)?n:()=>n,r=i=>i.error(t());return new Wt(e?i=>e.schedule(r,0,i):r)}const po=new Wt(n=>n.complete());function IP(){return Hn((n,e)=>{let t=null;n._refCount++;const r=ln(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class g9 extends Wt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,W3(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new St;const t=this.getSubject();e.add(this.source.subscribe(ln(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=St.EMPTY)}return e}refCount(){return IP()(this)}}function _a(n,e){return Hn((t,r)=>{let i=null,o=0,a=!1;const s=()=>a&&!i&&r.complete();t.subscribe(ln(r,l=>{i?.unsubscribe();let c=0;const u=o++;fo(n(l,u)).subscribe(i=ln(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function Kl(n){return n<=0?()=>po:Hn((e,t)=>{let r=0;e.subscribe(ln(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xv(...n){const e=Sv(n);return Hn((t,r)=>{(e?KC(n,t,e):KC(n,t)).subscribe(r)})}function Gi(n,e){return Hn((t,r)=>{let i=0;t.subscribe(ln(r,o=>n.call(e,o,i++)&&r.next(o)))})}function QC(n){return Hn((e,t)=>{let r=!1;e.subscribe(ln(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function v9(n=mxe){return Hn((e,t)=>{let r=!1;e.subscribe(ln(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function mxe(){return new YC}function $u(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gi((i,o)=>n(i,o,r)):kl,Kl(1),t?QC(e):v9(()=>new YC))}function zf(n,e){return sn(e)?Hr(n,e,1):Hr(n,1)}function jr(n,e,t){const r=sn(n)||e||t?{next:n,error:e,complete:t}:n;return r?Hn((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let s=!0;i.subscribe(ln(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;s=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;s=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;s&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):kl}function Hf(n){return Hn((e,t)=>{let o,r=null,i=!1;r=e.subscribe(ln(t,void 0,void 0,a=>{o=fo(n(a,Hf(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function DP(n){return n<=0?()=>po:Hn((e,t)=>{let r=[];e.subscribe(ln(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function SP(n){return Hn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ZC(n){return Hn((e,t)=>{fo(n).subscribe(ln(t,()=>t.complete(),Gx)),!t.closed&&e.subscribe(t)})}class qs{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof qs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new qs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let a=this.headers.get(t);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(e,t){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}var Mv=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mv||{});class MP{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new qs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Rv extends MP{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=Mv.Response;clone(e={}){return new Rv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}const kxe=new W(""),Yxe=new W(""),Kxe="b",Xxe="h",Qxe="s",Zxe="st",Jxe="u",eAe="rt",OP=new W(""),tAe=["GET","HEAD"];function nAe(n,e){const{isCacheActive:t,...r}=O(OP),{transferCache:i,method:o}=n;if(!t||!1===i||"POST"===o&&!r.includePostRequests&&!i||"POST"!==o&&!tAe.includes(o)||!r.includeRequestsWithAuthHeaders&&function rAe(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}(n)||!1===r.filter?.(n))return e(n);const a=O(Ll);if(O(Yxe,{optional:!0}))throw new K(2803,!1);const c=function iAe(n,e){const{params:t,method:r,responseType:i}=n,o=k9(t);let a=n.serializeBody();a instanceof URLSearchParams?a=k9(a):"string"!=typeof a&&(a="");const l=function oAe(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([r,i,e,a,o].join("|"));return l}(n,n.url),u=a.get(c,null);let d=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(d=i.includeHeaders),u){const{[Kxe]:h,[eAe]:f,[Xxe]:p,[Qxe]:g,[Zxe]:v,[Jxe]:_}=u;let y=h;switch(f){case"arraybuffer":y=(new TextEncoder).encode(h).buffer;break;case"blob":y=new Blob([h])}let w=new qs(p);return Se(new Rv({body:y,headers:w,status:g,statusText:v,url:_}))}return e(n).pipe(jr(h=>{}))}function k9(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function aAe(n){return[{provide:OP,useFactory:()=>(ci("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:kxe,useValue:nAe,multi:!0},{provide:Fu,multi:!0,useFactory:()=>{const e=O(Br),t=O(OP);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}let sAe=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(_e(Zt))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zl=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(Zl||{});const Ke="primary",kv=Symbol("RouteTitle");class fAe{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function jf(n){return new fAe(n)}function pAe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],s=n[o];if(":"===a[0])i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xa(n,e){const t=n?NP(n):void 0,r=e?NP(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!F9(n[i],e[i]))return!1;return!0}function NP(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function F9(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function L9(n){return n.length>0?n[n.length-1]:null}function Jl(n){return function _Se(n){return!!n&&(n instanceof Wt||sn(n.lift)&&sn(n.subscribe))}(n)?n:ev(n)?hr(Promise.resolve(n)):Se(n)}const gAe={exact:function U9(n,e,t){if(!Wu(n.segments,e.segments)||!tE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!U9(n.children[r],e.children[r],t))return!1;return!0},subset:z9},V9={exact:function vAe(n,e){return Xa(n,e)},subset:function _Ae(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>F9(n[t],e[t]))},ignored:()=>!0};function B9(n,e,t){return gAe[t.paths](n.root,e.root,t.matrixParams)&&V9[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function z9(n,e,t){return H9(n,e,e.segments,t)}function H9(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wu(i,t)||e.hasChildren()||!tE(i,t,r))}if(n.segments.length===t.length){if(!Wu(n.segments,t)||!tE(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!z9(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Wu(n.segments,i)&&tE(n.segments,i,r)&&n.children[Ke])&&H9(n.children[Ke],e,o,r)}}function tE(n,e,t){return e.every((r,i)=>V9[t](n[i].parameters,r.parameters))}class qu{root;queryParams;fragment;_queryParamMap;constructor(e=new Ft([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=jf(this.queryParams),this._queryParamMap}toString(){return wAe.serialize(this)}}class Ft{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rE(this)}}class Ov{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=jf(this.parameters),this._parameterMap}toString(){return G9(this)}}function Wu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Nv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>new nE,providedIn:"root"})}return n})();class nE{parse(e){const t=new PAe(e);return new qu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fv(e.root,!0)}`,r=function TAe(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${iE(t)}=${iE(i)}`).join("&"):`${iE(t)}=${iE(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function CAe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const wAe=new nE;function rE(n){return n.segments.map(e=>G9(e)).join("/")}function Fv(n,e){if(!n.hasChildren())return rE(n);if(e){const t=n.children[Ke]?Fv(n.children[Ke],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ke&&r.push(`${i}:${Fv(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bAe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ke&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ke&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ke?[Fv(n.children[Ke],!1)]:[`${i}:${Fv(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ke]?`${rE(n)}/${t[0]}`:`${rE(n)}/(${t.join("//")})`}}function j9(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iE(n){return j9(n).replace(/%3B/gi,";")}function FP(n){return j9(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oE(n){return decodeURIComponent(n)}function $9(n){return oE(n.replace(/\+/g,"%20"))}function G9(n){return`${FP(n.path)}${function EAe(n){return Object.entries(n).map(([e,t])=>`;${FP(e)}=${FP(t)}`).join("")}(n.parameters)}`}const IAe=/^[^\/()?;#]+/;function LP(n){const e=n.match(IAe);return e?e[0]:""}const DAe=/^[^\/()?;=#]+/,xAe=/^[^=?&#]+/,MAe=/^[^&#]+/;class PAe{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ke]=new Ft(e,t)),r}parseSegment(){const e=LP(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Ov(oE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function SAe(n){const e=n.match(DAe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=LP(this.remaining);i&&(r=i,this.capture(r))}e[oE(t)]=oE(r)}parseQueryParam(e){const t=function AAe(n){const e=n.match(xAe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function RAe(n){const e=n.match(MAe);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=$9(t),o=$9(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=LP(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ke);const a=this.parseChildren();t[o]=1===Object.keys(a).length?a[Ke]:new Ft([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}}function q9(n){return n.segments.length>0?new Ft([],{[Ke]:n}):n}function W9(n){const e={};for(const[r,i]of Object.entries(n.children)){const o=W9(i);if(r===Ke&&0===o.segments.length&&o.hasChildren())for(const[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function kAe(n){if(1===n.numberOfChildren&&n.children[Ke]){const e=n.children[Ke];return new Ft(n.segments.concat(e.segments),e.children)}return n}(new Ft(n.segments,e))}function Yu(n){return n instanceof qu}function Y9(n){let e;const r=function t(o){const a={};for(const l of o.children){const c=t(l);a[l.outlet]=c}const s=new Ft(o.url,a);return o===n&&(e=s),s}(n.root),i=q9(r);return e??i}function K9(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return VP(i,i,i,t,r);const o=function NAe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Q9(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?t=!0:".."===s?e++:""!=s&&i.push(s))}),i):[...i,o]},[]);return new Q9(t,e,r)}(e);if(o.toRoot())return VP(i,i,new Ft([],{}),t,r);const a=function FAe(n,e,t){if(n.isAbsolute)return new sE(e,!0,0);if(!t)return new sE(e,!1,NaN);if(null===t.parent)return new sE(t,!0,0);const r=aE(n.commands[0])?0:1;return function LAe(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new sE(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),s=a.processChildren?Vv(a.segmentGroup,a.index,o.commands):Z9(a.segmentGroup,a.index,o.commands);return VP(i,a.segmentGroup,s,t,r)}function aE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lv(n){return"object"==typeof n&&null!=n&&n.outlets}function VP(n,e,t,r,i){let a,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),a=n===e?t:X9(n,e,t);const s=q9(W9(a));return new qu(s,o,i)}function X9(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:X9(o,e,t)}),new Ft(n.segments,r)}class Q9{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&aE(r[0]))throw new K(4003,!1);const i=r.find(Lv);if(i&&i!==L9(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sE{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Z9(n,e,t){if(n??=new Ft([],{}),0===n.segments.length&&n.hasChildren())return Vv(n,e,t);const r=function BAe(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const a=n.segments[i],s=t[r];if(Lv(s))break;const l=`${s}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!e7(l,c,a))return o;r+=2}else{if(!e7(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Ft(n.segments.slice(0,r.pathIndex),{});return o.children[Ke]=new Ft(n.segments.slice(r.pathIndex),n.children),Vv(o,0,i)}return r.match&&0===i.length?new Ft(n.segments,{}):r.match&&!n.hasChildren()?BP(n,e,t):r.match?Vv(n,0,i):BP(n,e,t)}function Vv(n,e,t){if(0===t.length)return new Ft(n.segments,{});{const r=function VAe(n){return Lv(n[0])?n[0].outlets:{[Ke]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Ke)&&n.children[Ke]&&1===n.numberOfChildren&&0===n.children[Ke].segments.length){const o=Vv(n.children[Ke],e,t);return new Ft(n.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=Z9(n.children[o],e,a))}),Object.entries(n.children).forEach(([o,a])=>{void 0===r[o]&&(i[o]=a)}),new Ft(n.segments,i)}}function BP(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Lv(o)){const l=UAe(o.outlets);return new Ft(r,l)}if(0===i&&aE(t[0])){r.push(new Ov(n.segments[e].path,J9(t[0]))),i++;continue}const a=Lv(o)?o.outlets[Ke]:`${o}`,s=i<t.length-1?t[i+1]:null;a&&s&&aE(s)?(r.push(new Ov(a,J9(s))),i+=2):(r.push(new Ov(a,{})),i++)}return new Ft(r,{})}function UAe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=BP(new Ft([],{}),0,r))}),e}function J9(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function e7(n,e,t){return n==t.path&&Xa(e,t.parameters)}const lE="imperative";var ht=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ht||{});class Qa{id;url;constructor(e,t){this.id=e,this.url=t}}class cE extends Qa{type=ht.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Za extends Qa{urlAfterRedirects;type=ht.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var mo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(mo||{}),uE=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(uE||{});class Ku extends Qa{reason;code;type=ht.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $f extends Qa{reason;code;type=ht.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}}class UP extends Qa{error;target;type=ht.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t7 extends Qa{urlAfterRedirects;state;type=ht.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zAe extends Qa{urlAfterRedirects;state;type=ht.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HAe extends Qa{urlAfterRedirects;state;shouldActivate;type=ht.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jAe extends Qa{urlAfterRedirects;state;type=ht.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Ae extends Qa{urlAfterRedirects;state;type=ht.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GAe{route;type=ht.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qAe{route;type=ht.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WAe{snapshot;type=ht.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YAe{snapshot;type=ht.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KAe{snapshot;type=ht.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XAe{snapshot;type=ht.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n7{routerEvent;position;anchor;type=ht.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zP{}class dE{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}}function ya(n){return n.outlet||Ke}function Bv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nMe{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bv(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Uv(this.rootInjector)}}let Uv=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nMe(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(_e(vr))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class r7{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=HP(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=HP(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jP(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jP(e,this._root).map(t=>t.value)}}function HP(n,e){if(n===e.value)return e;for(const t of e.children){const r=HP(n,t);if(r)return r}return null}function jP(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jP(n,t);if(r.length)return r.unshift(e),r}return[]}class ba{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class i7 extends r7{snapshot;constructor(e,t){super(e),this.snapshot=t,$P(this,e)}toString(){return this.snapshot.toString()}}function o7(n){const e=function rMe(n){const o=new fE([],{},{},"",{},Ke,n,null,{});return new a7("",new ba(o,[]))}(n),t=new Oi([new Ov("",{})]),r=new Oi({}),i=new Oi({}),o=new Oi({}),a=new Oi(""),s=new qf(t,r,o,a,i,Ke,n,e.root);return s.snapshot=e.root,new i7(new ba(s,[]),e)}class qf{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,a,s,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ye(c=>c[kv]))??Se(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ye(e=>jf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ye(e=>jf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hE(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&l7(i)&&(r.resolve[kv]=i.title),r}class fE{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kv]}constructor(e,t,r,i,o,a,s,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jf(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class a7 extends r7{url;constructor(e,t){super(t),this.url=e,$P(this,t)}toString(){return s7(this._root)}}function $P(n,e){e.value._routerState=n,e.children.forEach(t=>$P(n,t))}function s7(n){const e=n.children.length>0?` { ${n.children.map(s7).join(", ")} } `:"";return`${n.value}${e}`}function GP(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xa(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Xa(e.params,t.params)||n.paramsSubject.next(t.params),function mAe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Xa(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function qP(n,e){const t=Xa(n.params,e.params)&&function yAe(n,e){return Wu(n,e)&&n.every((t,r)=>Xa(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||qP(n.parent,e.parent))}function l7(n){return"string"==typeof n.title||null===n.title}const iMe=new W("");let WP=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ke;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=qpe(void 0);parentContexts=O(Uv);location=O(co);changeDetector=O(uo);inputBinder=O(pE,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;const i=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new oMe(t,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vn]})}return n})();class oMe{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===qf?this.route:e===Uv?this.childContexts:e===iMe?this.outletData:this.parent.get(e,t)}}const pE=new W("");let c7=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=WC([r.queryParams,r.params,r.data]).pipe(_a(([o,a,s],l)=>(s={...o,...a,...s},0===l?Se(s):Promise.resolve(s)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const a=function YTe(n){const e=it(n);if(!e)return null;const t=new Kg(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(a)for(const{templateName:s}of a.inputs)t.activatedComponentRef.setInput(s,o[s]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function zv(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function sMe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zv(n,r,i);return zv(n,r)})}(n,e,t);return new ba(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>zv(n,s)),a}}const r=function lMe(n){return new qf(new Oi(n.url),new Oi(n.params),new Oi(n.queryParams),new Oi(n.fragment),new Oi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>zv(n,o));return new ba(r,i)}}class YP{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}}const u7="ngNavigationCancelingError";function mE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Yu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=d7(!1,mo.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function d7(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[u7]=!0,t.cancellationCode=e,t}function h7(n){return!!n&&n[u7]}class dMe{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),GP(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Gf(t);e.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Gf(e);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){const a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Gf(e);for(const a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Gf(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new XAe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new YAe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(GP(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),GP(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}}class f7{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gE{component;route;constructor(e,t){this.component=e,this.route=t}}function hMe(n,e,t){const r=n._root;return Hv(r,e?e._root:null,t,[r.value])}function Wf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function ofe(n){return null!==R0(n)}(n)?e.get(n):n:r}function Hv(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gf(e);return n.children.forEach(a=>{(function pMe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=e?e.value:null,s=t?t.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function mMe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wu(n.url,e.url)||!Xa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qP(n,e)||!Xa(n.queryParams,e.queryParams);default:return!qP(n,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new f7(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Hv(n,e,o.component?s?s.children:null:t,r,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new gE(s.outlet.component,a))}else a&&jv(e,s,i),i.canActivateChecks.push(new f7(r)),Hv(n,null,o.component?s?s.children:null:t,r,i)})(a,o[a.value.outlet],t,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>jv(s,t.getContext(a),i)),i}function jv(n,e,t){const r=Gf(n),i=n.value;Object.entries(r).forEach(([o,a])=>{jv(a,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new gE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $v(n){return"function"==typeof n}function p7(n){return n instanceof YC||"EmptyError"===n?.name}const vE=Symbol("INITIAL_VALUE");function Yf(){return _a(n=>WC(n.map(e=>e.pipe(Kl(1),xv(vE)))).pipe(Ye(e=>{for(const t of e)if(!0!==t){if(t===vE)return vE;if(!1===t||CMe(t))return t}return!0}),Gi(e=>e!==vE),Kl(1)))}function CMe(n){return Yu(n)||n instanceof YP}function m7(n){return function she(...n){return C3(n)}(jr(e=>{if("boolean"!=typeof e)throw mE(0,e)}),Ye(e=>!0===e))}class KP{segmentGroup;constructor(e){this.segmentGroup=e||null}}class XP extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function Kf(n){return XC(new KP(n))}class NMe{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Se(r);if(i.numberOfChildren>1||!i.children[Ke])return XC(new K(4e3,!1));i=i.children[Ke]}}applyRedirectCommands(e,t,r,i,o){if("string"!=typeof t){const s=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:g}=i,v=Vi(o,()=>s({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:g}));if(v instanceof qu)throw new XP(v);t=v}const a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if("/"===t[0])throw new XP(a);return a}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new qu(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const s=o.substring(1);r[i]=t[s]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let a={};return Object.entries(t.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(e,l,r,i)}),new Ft(o,a)}createSegments(e,t,r,i){return t.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const QP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FMe(n,e,t,r,i){const o=g7(n,e,t);return o.matched?(r=function QAe(n,e){return n.providers&&!n._injector&&(n._injector=Xw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function PMe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Se(i.map(a=>{const s=Wf(a,n);return Jl(function wMe(n){return n&&$v(n.canMatch)}(s)?s.canMatch(e,t):Vi(n,()=>s(e,t)))})).pipe(Yf(),m7()):Se(!0)}(r,e,t).pipe(Ye(a=>!0===a?o:{...QP}))):Se(o)}function g7(n,e,t){if("**"===e.path)return function LMe(n){return{matched:!0,parameters:n.length>0?L9(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...QP}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||pAe)(t,n,e);if(!i)return{...QP};const o={};Object.entries(i.posParams??{}).forEach(([s,l])=>{o[s]=l.path});const a=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function v7(n,e,t,r){return t.length>0&&function UMe(n,e,t){return t.some(r=>_E(n,e,r)&&ya(r)!==Ke)}(n,t,r)?{segmentGroup:new Ft(e,BMe(r,new Ft(t,n.children))),slicedSegments:[]}:0===t.length&&function zMe(n,e,t){return t.some(r=>_E(n,e,r))}(n,t,r)?{segmentGroup:new Ft(n.segments,VMe(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ft(n.segments,n.children),slicedSegments:t}}function VMe(n,e,t,r){const i={};for(const o of t)if(_E(n,e,o)&&!r[ya(o)]){const a=new Ft([],{});i[ya(o)]=a}return{...r,...i}}function BMe(n,e){const t={};t[Ke]=e;for(const r of n)if(""===r.path&&ya(r)!==Ke){const i=new Ft([],{});t[ya(r)]=i}return t}function _E(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class jMe{}class qMe{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,a,s){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new NMe(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){const e=v7(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ye(({children:t,rootSnapshot:r})=>{const i=new ba(r,t),o=new a7("",i),a=function OAe(n,e,t=null,r=null){return K9(Y9(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){const t=new fE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ke,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ke,t).pipe(Ye(r=>({children:r,rootSnapshot:t})),Hf(r=>{if(r instanceof XP)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof KP?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Ye(a=>a instanceof ba?[a]:[]))}processChildren(e,t,r,i){const o=[];for(const a of Object.keys(r.children))"primary"===a?o.unshift(a):o.push(a);return hr(o).pipe(zf(a=>{const s=r.children[a],l=function tMe(n,e){const t=n.filter(r=>ya(r)===e);return t.push(...n.filter(r=>ya(r)!==e)),t}(t,a);return this.processSegmentGroup(e,l,s,a,i)}),function vxe(n,e){return Hn(function gxe(n,e,t,r,i){return(o,a)=>{let s=t,l=e,c=0;o.subscribe(ln(a,u=>{const d=c++;l=s?n(l,u,d):(s=!0,u),r&&a.next(l)},i&&(()=>{s&&a.next(l),a.complete()})))}}(n,e,arguments.length>=2,!0))}((a,s)=>(a.push(...s),a)),QC(null),function _xe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gi((i,o)=>n(i,o,r)):kl,DP(1),t?QC(e):v9(()=>new YC))}(),Hr(a=>{if(null===a)return Kf(r);const s=_7(a);return function WMe(n){n.sort((e,t)=>e.value.outlet===Ke?-1:t.value.outlet===Ke?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Se(s)}))}processSegment(e,t,r,i,o,a,s){return hr(t).pipe(zf(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,a,s).pipe(Hf(c=>{if(c instanceof KP)return Se(null);throw c}))),$u(l=>!!l),Hf(l=>{if(p7(l))return function HMe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?Se(new jMe):Kf(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,a,s,l){return ya(r)===a||a!==Ke&&_E(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,a,l):Kf(i):Kf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,a,s){const{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=g7(t,i,o);if(!l)return Kf(t);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=new fE(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y7(i),ya(i),i.component??i._loadedComponent??null,i,b7(i)),p=hE(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);const g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,g).pipe(Hr(v=>this.processSegment(e,r,t,v.concat(h),a,!1,s)))}matchSegmentAgainstRoute(e,t,r,i,o,a){const s=FMe(t,r,i,e);return"**"===r.path&&(t.children={}),s.pipe(_a(l=>l.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(_a(({routes:c})=>{const u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new fE(h,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y7(r),ya(r),r.component??r._loadedComponent??null,r,b7(r)),g=hE(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);const{segmentGroup:v,slicedSegments:_}=v7(t,h,f,c);if(0===_.length&&v.hasChildren())return this.processChildren(u,c,v,p).pipe(Ye(w=>new ba(p,w)));if(0===c.length&&0===_.length)return Se(new ba(p,[]));const y=ya(r)===o;return this.processSegment(u,c,v,_,y?Ke:o,!0,p).pipe(Ye(w=>new ba(p,w instanceof ba?[w]:[])))})):Kf(t)))}getChildConfig(e,t,r){return t.children?Se({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Se({routes:t._loadedRoutes,injector:t._loadedInjector}):function RMe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Se(!0):Se(i.map(a=>{const s=Wf(a,n);return Jl(function vMe(n){return n&&$v(n.canLoad)}(s)?s.canLoad(e,t):Vi(n,()=>s(e,t)))})).pipe(Yf(),m7())}(e,t,r).pipe(Hr(i=>i?this.configLoader.loadChildren(e,t).pipe(jr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function OMe(){return XC(d7(!1,mo.GuardRejected))}())):Se({routes:[],injector:e})}}function YMe(n){const e=n.value.routeConfig;return e&&""===e.path}function _7(n){const e=[],t=new Set;for(const r of n){if(!YMe(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_7(r.children);e.push(new ba(r.value,i))}return e.filter(r=>!t.has(r))}function y7(n){return n.data||{}}function b7(n){return n.resolve||{}}function w7(n){const e=n.children.map(t=>w7(t)).flat();return[n,...e]}function ZP(n){return _a(e=>{const t=n(e);return t?hr(t).pipe(Ye(()=>e)):Se(e)})}let C7=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ke);return r}getResolvedTitleForRoute(t){return t.data[kv]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>O(e1e),providedIn:"root"})}return n})(),e1e=(()=>{class n extends C7{title;constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(_e(sAe))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Gv=new W("",{providedIn:"root",factory:()=>({})});let E7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&Ne(0,"router-outlet")},dependencies:[WP],encapsulation:2})}return n})();function JP(n){const e=n.children&&n.children.map(JP),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ke&&(t.component=E7),t}const qv=new W("");let ek=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(AEe);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Se(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Jl(t.loadComponent()).pipe(Ye(T7),jr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),SP(()=>{this.componentLoaders.delete(t)})),i=new g9(r,()=>new ot).pipe(IP());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function t1e(n,e,t,r){return Jl(n.loadChildren()).pipe(Ye(T7),Hr(i=>i instanceof MG||Array.isArray(i)?Se(i):hr(e.compileModuleAsync(i))),Ye(i=>{r&&r(n);let o,a,s=!1;return Array.isArray(i)?(a=i,!0):(o=i.create(t).injector,a=o.get(qv,[],{optional:!0,self:!0}).flat()),{routes:a.map(JP),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(SP(()=>{this.childrenLoaders.delete(r)})),a=new g9(o,()=>new ot).pipe(IP());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T7(n){return function n1e(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let tk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>O(r1e),providedIn:"root"})}return n})(),r1e=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const I7=new W(""),D7=new W("");function i1e(n,e,t){const r=n.get(D7),i=n.get(Zt);return n.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o;const a=new Promise(c=>{o=c}),s=i.startViewTransition(()=>(o(),function o1e(n){return new Promise(e=>{xu({read:()=>setTimeout(e)},{injector:n})})}(n))),{onViewTransitionCreated:l}=r;return l&&Vi(n,()=>l({transition:s,from:e,to:t})),a})}const S7=new W("");let nk=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortSubject=new ot;configLoader=O(ek);environmentInjector=O(vr);destroyRef=O(ks);urlSerializer=O(Nv);rootContexts=O(Uv);location=O(Vf);inputBindingEnabled=null!==O(pE,{optional:!0});titleStrategy=O(C7);options=O(Gv,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(tk);createViewTransition=O(I7,{optional:!0});navigationErrorHandler=O(S7,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>Se(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new qAe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new GAe(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...t,extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})}setupNavigations(t){return this.transitions=new Oi(null),this.transitions.pipe(Gi(r=>null!==r),_a(r=>{let i=!1,o=!1;return Se(r).pipe(_a(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",mo.SupersededByNewNavigation),po;this.currentTransition=r,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:"string"==typeof a.extras.browserUrl?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const c="";return this.events.next(new $f(a.id,this.urlSerializer.serialize(a.rawUrl),c,uE.IgnoredSameUrlNavigation)),a.resolve(!1),po}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Se(a).pipe(_a(c=>(this.events.next(new cE(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?po:Promise.resolve(c))),function KMe(n,e,t,r,i,o){return Hr(a=>function $Me(n,e,t,r,i,o,a="emptyOnly"){return new qMe(n,e,t,r,i,a,o).recognize()}(n,e,t,r,a.extractedUrl,i,o).pipe(Ye(({state:s,tree:l})=>({...a,targetSnapshot:s,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),jr(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects};const u=new t7(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){const{id:c,extractedUrl:u,source:d,restoredState:h,extras:f}=a,p=new cE(c,this.urlSerializer.serialize(u),d,h);this.events.next(p);const g=o7(this.rootComponentType).snapshot;return this.currentTransition=r={...a,targetSnapshot:g,urlAfterRedirects:u,extras:{...f,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=u,Se(r)}{const c="";return this.events.next(new $f(a.id,this.urlSerializer.serialize(a.extractedUrl),c,uE.IgnoredByUrlHandlingStrategy)),a.resolve(!1),po}}),jr(a=>{const s=new zAe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),Ye(a=>(this.currentTransition=r={...a,guards:hMe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)},r)),function EMe(n,e){return Hr(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return 0===a.length&&0===o.length?Se({...t,guardsResult:!0}):function TMe(n,e,t,r){return hr(n).pipe(Hr(i=>function MMe(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Se(o.map(s=>{const l=Bv(e)??i,c=Wf(s,l);return Jl(function bMe(n){return n&&$v(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):Vi(l,()=>c(n,e,t,r))).pipe($u())})).pipe(Yf()):Se(!0)}(i.component,i.route,t,e,r)),$u(i=>!0!==i,!0))}(a,r,i,n).pipe(Hr(s=>s&&function gMe(n){return"boolean"==typeof n}(s)?function IMe(n,e,t,r){return hr(e).pipe(zf(i=>KC(function SMe(n,e){return null!==n&&e&&e(new WAe(n)),Se(!0)}(i.route.parent,r),function DMe(n,e){return null!==n&&e&&e(new KAe(n)),Se(!0)}(i.route,r),function AMe(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>function fMe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>m9(()=>Se(a.guards.map(l=>{const c=Bv(a.node)??t,u=Wf(l,c);return Jl(function yMe(n){return n&&$v(n.canActivateChild)}(u)?u.canActivateChild(r,n):Vi(c,()=>u(r,n))).pipe($u())})).pipe(Yf())));return Se(o).pipe(Yf())}(n,i.path,t),function xMe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Se(!0);const i=r.map(o=>m9(()=>{const a=Bv(e)??t,s=Wf(o,a);return Jl(function _Me(n){return n&&$v(n.canActivate)}(s)?s.canActivate(e,n):Vi(a,()=>s(e,n))).pipe($u())}));return Se(i).pipe(Yf())}(n,i.route,t))),$u(i=>!0!==i,!0))}(r,o,n,e):Se(s)),Ye(s=>({...t,guardsResult:s})))})}(this.environmentInjector,a=>this.events.next(a)),jr(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&"boolean"!=typeof a.guardsResult)throw mE(0,a.guardsResult);const s=new HAe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Gi(a=>!!a.guardsResult||(this.cancelNavigationTransition(a,"",mo.GuardRejected),!1)),ZP(a=>{if(0!==a.guards.canActivateChecks.length)return Se(a).pipe(jr(s=>{const l=new jAe(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),_a(s=>{let l=!1;return Se(s).pipe(function XMe(n,e){return Hr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Se(t);const o=new Set(i.map(l=>l.route)),a=new Set;for(const l of o)if(!a.has(l))for(const c of w7(l))a.add(c);let s=0;return hr(a).pipe(zf(l=>o.has(l)?function QMe(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!l7(i)&&(o[kv]=i.title),function ZMe(n,e,t,r){const i=NP(n);if(0===i.length)return Se({});const o={};return hr(i).pipe(Hr(a=>function JMe(n,e,t,r){const i=Bv(e)??r,o=Wf(n,i);return Jl(o.resolve?o.resolve(e,t):Vi(i,()=>o(e,t)))}(n[a],e,t,r).pipe($u(),jr(s=>{if(s instanceof YP)throw mE(new nE,s);o[a]=s}))),DP(1),Ye(()=>o),Hf(a=>p7(a)?po:XC(a)))}(o,n,e,r).pipe(Ye(a=>(n._resolvedData=a,n.data=hE(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=hE(l,l.parent,n).resolve,Se(void 0))),jr(()=>s++),DP(1),Hr(l=>s===a.size?Se(t):po))})}(this.paramsInheritanceStrategy,this.environmentInjector),jr({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(s,"",mo.NoDataFromResolver)}}))}),jr(s=>{const l=new $Ae(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),ZP(a=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(jr(u=>{l.component=u}),Ye(()=>{})));for(const u of l.children)c.push(...s(u));return c};return WC(s(a.targetSnapshot.root)).pipe(QC(null),Kl(1))}),ZP(()=>this.afterPreactivation()),_a(()=>{const{currentSnapshot:a,targetSnapshot:s}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return l?hr(l).pipe(Ye(()=>r)):Se(r)}),Ye(a=>{const s=function aMe(n,e,t){const r=zv(n,e._root,t?t._root:void 0);return new i7(r,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r={...a,targetRouterState:s},this.currentNavigation.targetRouterState=s,r}),jr(()=>{this.events.next(new zP)}),((n,e,t,r)=>Ye(i=>(new dMe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Kl(1),jr({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Za(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),ZC(this.transitionAbortSubject.pipe(jr(a=>{throw a}))),SP(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",mo.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hf(a=>{if(this.destroyed)return r.resolve(!1),po;if(o=!0,h7(a))this.events.next(new Ku(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),function cMe(n){return h7(n)&&Yu(n.url)}(a)?this.events.next(new dE(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{const s=new UP(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{const l=Vi(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(l instanceof YP))throw this.events.next(s),a;{const{message:c,cancellationCode:u}=mE(0,l);this.events.next(new Ku(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new dE(l.redirectTo,l.navigationBehaviorOptions))}}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return po}))}))}cancelNavigationTransition(t,r,i){const o=new Ku(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function a1e(n){return n!==lE}let s1e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>O(c1e),providedIn:"root"})}return n})();class l1e{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let c1e=(()=>{class n extends l1e{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x7=(()=>{class n{urlSerializer=O(Nv);options=O(Gv,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Vf);urlHandlingStrategy=O(tk);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new qu;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==t?this.urlHandlingStrategy.merge(t,r):r,a=i??o;return a instanceof qu?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=o7(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:()=>O(u1e),providedIn:"root"})}return n})(),u1e=(()=>{class n extends x7{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof cE?this.updateStateMemento():t instanceof $f?this.commitTransition(r):t instanceof t7?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zP?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ku&&(t.code===mo.GuardRejected||t.code===mo.NoDataFromResolver)?this.restoreHistory(r):t instanceof UP?this.restoreHistory(r,!0):t instanceof Za&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){const{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||o){const s=this.browserPageId,l={...a,...this.generateNgRouterState(i,s)};this.location.replaceState(t,"",l)}else{const s={...a,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(t,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&0===o&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A7(n,e){n.events.pipe(Gi(t=>t instanceof Za||t instanceof Ku||t instanceof UP||t instanceof $f),Ye(t=>t instanceof Za||t instanceof $f?0:t instanceof Ku&&(t.code===mo.Redirect||t.code===mo.SupersededByNewNavigation)?2:1),Gi(t=>2!==t),Kl(1)).subscribe(()=>{e()})}const d1e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h1e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(rC);stateManager=O(x7);options=O(Gv,{optional:!0})||{};pendingTasks=O(Du);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(nk);urlSerializer=O(Nv);location=O(Vf);urlHandlingStrategy=O(tk);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(s1e);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(qv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(pE,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new St;subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Ku&&r.code!==mo.Redirect&&r.code!==mo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Za)this.navigated=!0;else if(r instanceof dE){const a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||a1e(i.source),...a};this.scheduleNavigation(s,lE,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function p1e(n){return!(n instanceof zP||n instanceof dE)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lE,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const s=this.parseUrl(t);this.scheduleNavigation(s,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(JP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:a;let d,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=Y9(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),d=this.currentUrlTree.root}return K9(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Yu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,lE,null,r)}navigate(t,r={skipLocationChange:!1}){return function f1e(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new K(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...d1e}:!1===r?{...h1e}:r,Yu(t))return B9(this.currentUrlTree,t,i);const o=this.parseUrl(t);return B9(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,h)=>{s=d,l=h});const u=this.pendingTasks.add();return A7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wv=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ot;constructor(t,r,i,o,a,s){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Za&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Yu(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,a){const s=this.urlTree;return!!(null===s||this.isAnchorElement&&(0!==t||r||i||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(s,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function B5(n,e,t){return function Mge(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?V5:Mw}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.routerLinkInput?null:Yu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Y(mi),Y(qf),mg("tabindex"),Y(Oo),Y(cn),Y(Hu))};static \u0275dir=be({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ce("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&r&&Kt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",dr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",dr],replaceUrl:[2,"replaceUrl","replaceUrl",dr],routerLink:"routerLink"},features:[vn]})}return n})();class M7{}let v1e=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Gi(t=>t instanceof Za),zf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Xw(o.providers,t,`Route: ${o.path}`));const a=o._injector??t,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(s,o.children??o._loadedRoutes))}return hr(i).pipe(Uf())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Se(null);const o=i.pipe(Hr(a=>null===a?Se(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return r.loadComponent&&!r._loadedComponent?hr([o,this.loader.loadComponent(r)]).pipe(Uf()):o})}static \u0275fac=function(r){return new(r||n)(_e(mi),_e(vr),_e(M7),_e(ek))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rk=new W("");let R7=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Za?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof $f&&t.code===uE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof n7&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new n7(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){k1()};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function P7(n){return n.routerState.root}function Ja(n,e){return{\u0275kind:n,\u0275providers:e}}function k7(){const n=O(pt);return e=>{const t=n.get(Br);if(e!==t.components[0])return;const r=n.get(mi),i=n.get(O7);1===n.get(ik)&&r.initialNavigation(),n.get(N7,null,Je.Optional)?.setUpPreloading(),n.get(rk,null,Je.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const O7=new W("",{factory:()=>new ot}),ik=new W("",{providedIn:"root",factory:()=>1}),N7=new W("");function C1e(n){return Ja(0,[{provide:N7,useExisting:v1e},{provide:M7,useExisting:n}])}function T1e(n){return ci("NgRouterViewTransitions"),Ja(9,[{provide:I7,useValue:i1e},{provide:D7,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const I1e=[Vf,{provide:Nv,useClass:nE},mi,Uv,{provide:qf,useFactory:P7,deps:[mi]},ek,[]];let ok=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[I1e,[],{provide:qv,multi:!0,useValue:t},[],r?.errorHandler?{provide:S7,useValue:r.errorHandler}:[],{provide:Gv,useValue:r||{}},r?.useHash?{provide:Hu,useClass:sDe}:{provide:Hu,useClass:o8},{provide:rk,useFactory:()=>{const n=O(RIe),e=O(De),t=O(Gv),r=O(nk),i=O(Nv);return t.scrollOffset&&n.setOffset(t.scrollOffset),new R7(i,r,n,e,t)}},r?.preloadingStrategy?C1e(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?A1e(r):[],r?.bindToComponentInputs?Ja(8,[c7,{provide:pE,useExisting:c7}]).\u0275providers:[],r?.enableViewTransitions?T1e().\u0275providers:[],[{provide:F7,useFactory:k7},{provide:Fu,multi:!0,useExisting:F7}]]}}static forChild(t){return{ngModule:n,providers:[{provide:qv,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({})}return n})();function A1e(n){return["disabled"===n.initialNavigation?Ja(3,[r6(()=>{O(mi).setUpLocationChangeListener()}),{provide:ik,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ja(2,[{provide:ik,useValue:0},r6(()=>{const e=O(pt);return e.get(QTe,Promise.resolve()).then(()=>new Promise(r=>{const i=e.get(mi),o=e.get(O7);A7(i,()=>{r(!0)}),e.get(nk).afterPreactivation=()=>(r(!0),o.closed?Se(void 0):o),i.initialNavigation()}))})]).\u0275providers:[]]}const F7=new W(""),ak={now:()=>(ak.delegate||Date).now(),delegate:void 0};class L7 extends ot{constructor(e=1/0,t=1/0,r=ak){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;t||(r.push(e),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!e.closed;a+=r?1:2)e.next(o[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const a=t.now();let s=0;for(let l=1;l<r.length&&r[l]<=a;l+=2)s=l;s&&r.splice(0,s+1)}}}class R1e extends St{constructor(e,t){super()}schedule(e,t=0){return this}}const yE={setInterval(n,e,...t){const{delegate:r}=yE;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=yE;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class bE extends R1e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return yE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&yE.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,C0(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class Yv{constructor(e,t=Yv.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Yv.now=ak.now;class wE extends Yv{constructor(e,t=Yv.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Xf=new wE(bE),P1e=Xf;function V7(n=0,e,t=P1e){let r=-1;return null!=e&&(c9(e)?t=e:r=e),new Wt(i=>{let o=function O1e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}class F1e{constructor(){this.subject=new L7(1),this.subscriptions=new St}doFilter(e){this.subject.next(e)}dispose(){this.subscriptions.unsubscribe()}notEmpty(e,t){this.subscriptions.add(this.subject.subscribe(r=>{if(r[e]){const i=r[e].currentValue;null!=i&&t(i)}}))}has(e,t){this.subscriptions.add(this.subject.subscribe(r=>{r[e]&&t(r[e].currentValue)}))}notFirst(e,t){this.subscriptions.add(this.subject.subscribe(r=>{r[e]&&!r[e].isFirstChange()&&t(r[e].currentValue)}))}notFirstAndEmpty(e,t){this.subscriptions.add(this.subject.subscribe(r=>{if(r[e]&&!r[e].isFirstChange()){const i=r[e].currentValue;null!=i&&t(i)}}))}}const B7=new W("NGX_ECHARTS_CONFIG");let L1e=(()=>{class n{constructor(t,r,i){this.el=r,this.ngZone=i,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new fe,this.optionsError=new fe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new L7(1),this.resize$=new ot,this.changeFilter=new F1e,this.resizeObFired=!1,this.echarts=t.echarts,this.theme=t.theme||null}ngOnChanges(t){this.changeFilter.doFilter(t)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(function N1e(n,e=Xf,t){const r=V7(n,e);return function k1e(n,e){return Hn((t,r)=>{const{leading:i=!0,trailing:o=!1}=e??{};let a=!1,s=null,l=null,c=!1;const u=()=>{l?.unsubscribe(),l=null,o&&(f(),c&&r.complete())},d=()=>{l=null,c&&r.complete()},h=p=>l=fo(n(p)).subscribe(ln(r,u,d)),f=()=>{if(a){a=!1;const p=s;s=null,r.next(p),!c&&h(p)}};t.subscribe(ln(r,p=>{a=!0,s=p,(!l||l.closed)&&(i?f():h(p))},()=>{c=!0,(!(o&&a&&l)||l.closed)&&r.complete()}))})}(()=>r,t)}(100,Xf,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(t=>{for(const r of t)r.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",t=>this.onOptionsChange(t)),this.changeFilter.notFirstAndEmpty("merge",t=>this.setOption(t)),this.changeFilter.has("loading",t=>this.toggleLoading(!!t)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart?t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(r=>t?r.showLoading(this.loadingType,this.loadingOpts):r.hideLoading())}setOption(t,r){if(this.chart)try{this.chart.setOption(t,r)}catch(i){console.error(i),this.optionsError.emit(i)}}refreshChart(){var t=this;return F(function*(){t.dispose(),yield t.initChart()})()}createChart(){const t=this.el.nativeElement;if(window&&window.getComputedStyle){const r=window.getComputedStyle(t,null).getPropertyValue("height");(!r||"0px"===r)&&(!t.style.height||"0px"===t.style.height)&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:i})=>i(t,this.theme,this.initOpts)))}initChart(){var t=this;return F(function*(){yield t.onOptionsChange(t.options),t.merge&&t.chart&&t.setOption(t.merge)})()}onOptionsChange(t){var r=this;return F(function*(){t&&(r.chart||(r.chart=yield r.createChart(),r.chart$.next(r.chart),r.chartInit.emit(r.chart)),r.setOption(r.options,!0))})()}createLazyEvent(t){return this.chartInit.pipe(_a(r=>new Wt(i=>(r.on(t,o=>this.ngZone.run(()=>i.next(o))),()=>{this.chart&&(this.chart.isDisposed()||r.off(t))}))))}static{this.\u0275fac=function(r){return new(r||n)(Y(B7),Y(cn),Y(De))}}static{this.\u0275dir=be({type:n,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[vn]})}}return n})();const V1e=n=>({provide:B7,useValue:n});var sk=function(n,e){return(sk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(n,e)};function Lt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}sk(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var z1e=function(){return function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}}(),ec=new(function(){return function n(){this.browser=new z1e,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}}());"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(ec.wxa=!0,ec.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?ec.worker=!0:!ec.hasGlobalWindow||"Deno"in window?(ec.node=!0,ec.svgSupported=!0):function j1e(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),a&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,ec);const nt=ec;var Xu="12px sans-serif",K1e=function Y1e(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-20)/100;e[r]=i}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),Ws={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,r){if(!n){var i=Ws.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||Xu),n.measureText(t);t=t||"";var o=/((?:\d+)?\.?\d*)px/.exec(r=r||Xu),a=o&&+o[1]||12,s=0;if(r.indexOf("mono")>=0)s=a*t.length;else for(var l=0;l<t.length;l++){var c=K1e[t[l]];s+=null==c?a:c*a}return{width:s}}}(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}};function j7(n){for(var e in Ws)n[e]&&(Ws[e]=n[e])}var $7=es(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),G7=es(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),Qf=Object.prototype.toString,EE=Array.prototype,X1e=EE.forEach,Q1e=EE.filter,ck=EE.slice,Z1e=EE.map,q7=function(){}.constructor,TE=q7?q7.prototype:null,uk="__proto__",J1e=2311;function dk(){return J1e++}function IE(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function lt(n){if(null==n||"object"!=typeof n)return n;var e=n,t=Qf.call(n);if("[object Array]"===t){if(!tp(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=lt(n[r])}}else if(G7[t]){if(!tp(n)){var o=n.constructor;if(o.from)e=o.from(n);else for(e=new o(n.length),r=0,i=n.length;r<i;r++)e[r]=n[r]}}else if(!$7[t]&&!tp(n)&&!Zf(n))for(var a in e={},n)n.hasOwnProperty(a)&&a!==uk&&(e[a]=lt(n[a]));return e}function en(n,e,t){if(!Oe(e)||!Oe(n))return t?lt(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==uk){var i=n[r],o=e[r];!Oe(o)||!Oe(i)||me(o)||me(i)||Zf(o)||Zf(i)||fk(o)||fk(i)||tp(o)||tp(i)?(t||!(r in n))&&(n[r]=lt(e[r])):en(i,o,t)}return n}function eRe(n,e){for(var t=n[0],r=1,i=n.length;r<i;r++)t=en(t,n[r],e);return t}function oe(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==uk&&(n[t]=e[t]);return n}function tn(n,e,t){for(var r=yn(e),i=0,o=r.length;i<o;i++){var a=r[i];(t?null!=e[a]:null==n[a])&&(n[a]=e[a])}return n}var tRe=Ws.createCanvas;function Mt(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function hk(n,e){var t=n.prototype;function r(){}for(var i in r.prototype=e.prototype,n.prototype=new r,t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function wa(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i];"constructor"!==o&&(t?null!=e[o]:null==n[o])&&(n[o]=e[o])}else tn(n,e,t)}function gi(n){return!(!n||"string"==typeof n)&&"number"==typeof n.length}function L(n,e,t){if(n&&e)if(n.forEach&&n.forEach===X1e)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var o in n)n.hasOwnProperty(o)&&e.call(t,n[o],o,n)}function Fe(n,e,t){if(!n)return[];if(!e)return SE(n);if(n.map&&n.map===Z1e)return n.map(e,t);for(var r=[],i=0,o=n.length;i<o;i++)r.push(e.call(t,n[i],i,n));return r}function es(n,e,t,r){if(n&&e){for(var i=0,o=n.length;i<o;i++)t=e.call(r,t,n[i],i,n);return t}}function On(n,e,t){if(!n)return[];if(!e)return SE(n);if(n.filter&&n.filter===Q1e)return n.filter(e,t);for(var r=[],i=0,o=n.length;i<o;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function nRe(n,e,t){if(n&&e)for(var r=0,i=n.length;r<i;r++)if(e.call(t,n[r],r,n))return n[r]}function yn(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}var jt=TE&&Xe(TE.bind)?TE.call.bind(TE.bind):function rRe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(ck.call(arguments)))}};function Nn(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(ck.call(arguments)))}}function me(n){return Array.isArray?Array.isArray(n):"[object Array]"===Qf.call(n)}function Xe(n){return"function"==typeof n}function we(n){return"string"==typeof n}function DE(n){return"[object String]"===Qf.call(n)}function $t(n){return"number"==typeof n}function Oe(n){var e=typeof n;return"function"===e||!!n&&"object"===e}function fk(n){return!!$7[Qf.call(n)]}function vi(n){return!!G7[Qf.call(n)]}function Zf(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function Kv(n){return null!=n.colorStops}function W7(n){return null!=n.image}function iRe(n){return"[object RegExp]"===Qf.call(n)}function Xv(n){return n!=n}function Jf(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(null!=n[t])return n[t]}function qe(n,e){return n??e}function ep(n,e,t){return n??e??t}function SE(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return ck.apply(n,e)}function pk(n){if("number"==typeof n)return[n,n,n,n];var e=n.length;return 2===e?[n[0],n[1],n[0],n[1]]:3===e?[n[0],n[1],n[2],n[1]]:n}function ts(n,e){if(!n)throw new Error(e)}function Ca(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Y7="__ec_primitive__";function xE(n){n[Y7]=!0}function tp(n){return n[Y7]}var oRe=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return yn(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n}(),K7="function"==typeof Map,X7=function(){function n(e){var t=me(e);this.data=function aRe(){return K7?new Map:new oRe}();var r=this;function i(o,a){t?r.set(o,a):r.set(a,o)}e instanceof n?e.each(i):e&&L(e,i)}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return K7?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function rt(n){return new X7(n)}function Q7(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];var i=n.length;for(r=0;r<e.length;r++)t[r+i]=e[r];return t}function Qv(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&oe(t,e),t}function mk(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function tc(n,e){return n.hasOwnProperty(e)}function _i(){}var Z7=180/Math.PI,gk=function(n,e){return(gk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(n,e)};function Vt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}gk(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}function Qu(n,e){return null==n&&(n=0),null==e&&(e=0),[n,e]}function cRe(n,e){return n[0]=e[0],n[1]=e[1],n}function nY(n){return[n[0],n[1]]}function uRe(n,e,t){return n[0]=e,n[1]=t,n}function vk(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function dRe(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n}function rY(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function _k(n){return Math.sqrt(yk(n))}var hRe=_k;function yk(n){return n[0]*n[0]+n[1]*n[1]}var fRe=yk;function pRe(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function mRe(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function gRe(n,e){return n[0]*e[0]+n[1]*e[1]}function ME(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function iY(n,e){var t=_k(e);return 0===t?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function RE(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var PE=RE;function oY(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var Zu=oY;function vRe(n,e){return n[0]=-e[0],n[1]=-e[1],n}function kE(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function go(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function nc(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function rc(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var np=function(){return function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}}(),_Re=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new np(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,o=r-this._x,a=i-this._y;this._x=r,this._y=i,t.drift(o,a,e),this.handler.dispatchToElement(new np(t,e),"drag",e.event);var s=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new np(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new np(s,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new np(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new np(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const yRe=_Re;var bRe=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof t&&(i=r,r=t,t=null),!r||!e)return this;var a=this._$eventProcessor;null!=t&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},c=o[e].length-1,u=o[e][c];return u&&u.callAtLast?o[e].splice(c,0,l):o[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],o=0,a=r[e].length;o<a;o++)r[e][o].h!==t&&i.push(r[e][o]);r[e]=i}r[e]&&0===r[e].length&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var a=t.length,s=i.length,l=0;l<s;l++){var c=i[l];if(!o||!o.filter||null==c.query||o.filter(e,c.query))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var a=t.length,s=t[a-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!o||!o.filter||null==u.query||o.filter(e,u.query))switch(a){case 0:u.h.call(s);break;case 1:u.h.call(s,t[0]);break;case 2:u.h.call(s,t[0],t[1]);break;default:u.h.apply(s,t.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n}();const ns=bRe;var wRe=Math.log(2);function bk(n,e,t,r,i,o){var a=r+"-"+i,s=n.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~i)/wRe);return n[t][l]}for(var c=r|1<<t,u=t+1;r&1<<u;)u++;for(var d=0,h=0,f=0;h<s;h++){var p=1<<h;p&i||(d+=(f%2?-1:1)*n[t][h]*bk(n,e-1,u,c,i|p,o),f++)}return o[a]=d,d}function aY(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=bk(t,8,0,0,0,r);if(0!==i){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*bk(t,7,0===a?1:0,1<<a,1<<s,r)/i*e[a];return function(l,c,u){var d=c*o[6]+u*o[7]+1;l[0]=(c*o[0]+u*o[1]+o[2])/d,l[1]=(c*o[3]+u*o[4]+o[5])/d}}}var sY="___zrEVENTSAVED",wk=[];function Ck(n,e,t,r,i){if(e.getBoundingClientRect&&nt.domSupported&&!lY(e)){var o=e[sY]||(e[sY]={}),a=function ERe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),l=o%2,c=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[c]+":0",r[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),n.appendChild(a),t.push(a)}return t}(e,o),s=function TRe(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],o=e.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,h=u.left,f=u.top;a.push(h,f),l=l&&o&&h===o[d]&&f===o[d+1],s.push(n[c].offsetLeft,n[c].offsetTop)}return l&&i?i:(e.srcCoords=a,e[r]=t?aY(s,a):aY(a,s))}(a,o,i);if(s)return s(n,t,r),!0}return!1}function lY(n){return"CANVAS"===n.nodeName.toUpperCase()}var IRe=/([&<>"'])/g,DRe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yi(n){return null==n?"":(n+"").replace(IRe,function(e,t){return DRe[t]})}var SRe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ek=[],xRe=nt.browser.firefox&&+nt.browser.version.split(".")[0]<39;function Tk(n,e,t,r){return t=t||{},r?cY(n,e,t):xRe&&null!=e.layerX&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):null!=e.offsetX?(t.zrX=e.offsetX,t.zrY=e.offsetY):cY(n,e,t),t}function cY(n,e,t){if(nt.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(lY(n)){var o=n.getBoundingClientRect();return t.zrX=r-o.left,void(t.zrY=i-o.top)}if(Ck(Ek,n,r,i))return t.zrX=Ek[0],void(t.zrY=Ek[1])}t.zrX=t.zrY=0}function Ik(n){return n||window.event}function Vo(n,e,t){if(null!=(e=Ik(e)).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var a="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];a&&Tk(n,a,e,t)}else{Tk(n,e,e,t);var o=function ARe(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;return null==t||null==r?e:3*Math.abs(0!==r?r:t)*(r>0?-1:r<0?1:t>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&SRe.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function RRe(n,e,t,r){n.removeEventListener(e,t,r)}var uY=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0},PRe=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var o={points:[],touches:[],target:t,event:e},a=0,s=i.length;a<s;a++){var l=i[a],c=Tk(r,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(e){for(var t in Dk)if(Dk.hasOwnProperty(t)){var r=Dk[t](this._track,e);if(r)return r}},n}();function dY(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var Dk={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=dY(r)/dY(i);!isFinite(o)&&(o=1),e.pinchScale=o;var a=function kRe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:n[0].target,event:e}}}}};function ic(){return[1,0,0,1,0,0]}function Zv(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Sk(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function oc(n,e,t){var i=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=e[0]*t[0]+e[2]*t[1],n[1]=i,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function OE(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function NE(n,e,t,r){void 0===r&&(r=[0,0]);var i=e[0],o=e[2],a=e[4],s=e[1],l=e[3],c=e[5],u=Math.sin(t),d=Math.cos(t);return n[0]=i*d+s*u,n[1]=-i*u+s*d,n[2]=o*d+l*u,n[3]=-o*u+d*l,n[4]=d*(a-r[0])+u*(c-r[1])+r[0],n[5]=d*(c-r[1])-u*(a-r[0])+r[1],n}function hY(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function Jv(n,e){var t=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],l=t*a-o*r;return l?(n[0]=a*(l=1/l),n[1]=-o*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*s-a*i)*l,n[5]=(o*i-t*s)*l,n):null}function ORe(n){var e=[1,0,0,1,0,0];return Sk(e,n),e}var NRe=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var o=1-i;e.x=o*t.x+i*r.x,e.y=o*t.y+i*r.y},n}();const $e=NRe;var FE=Math.min,LE=Math.max,Ju=new $e,ed=new $e,td=new $e,nd=new $e,e_=new $e,t_=new $e,FRe=function(){function n(e,t,r,i){r<0&&(e+=r,r=-r),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=r,this.height=i}return n.prototype.union=function(e){var t=FE(e.x,this.x),r=FE(e.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?LE(e.x+e.width,this.x+this.width)-t:e.width,this.height=isFinite(this.y)&&isFinite(this.height)?LE(e.y+e.height,this.y+this.height)-r:e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,o=[1,0,0,1,0,0];return OE(o,o,[-t.x,-t.y]),hY(o,o,[r,i]),OE(o,o,[e.x,e.y]),o},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,i=r.x,o=r.x+r.width,a=r.y,s=r.y+r.height,l=e.x,c=e.x+e.width,u=e.y,d=e.y+e.height,h=!(o<l||c<i||s<u||d<a);if(t){var f=1/0,p=0,g=Math.abs(o-l),v=Math.abs(c-i),_=Math.abs(s-u),y=Math.abs(d-a),w=Math.min(g,v),I=Math.min(_,y);o<l||c<i?w>p&&(p=w,$e.set(t_,g<v?-g:v,0)):w<f&&(f=w,$e.set(e_,g<v?g:-v,0)),s<u||d<a?I>p&&(p=I,$e.set(t_,0,_<y?-_:y)):w<f&&(f=w,$e.set(e_,0,_<y?_:-y))}return t&&$e.copy(t,h?e_:t_),h},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],s=r[5];return e.x=t.x*i+r[4],e.y=t.y*o+s,e.width=t.width*i,e.height=t.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Ju.x=td.x=t.x,Ju.y=nd.y=t.y,ed.x=nd.x=t.x+t.width,ed.y=td.y=t.y+t.height,Ju.transform(r),nd.transform(r),ed.transform(r),td.transform(r),e.x=FE(Ju.x,ed.x,td.x,nd.x),e.y=FE(Ju.y,ed.y,td.y,nd.y);var l=LE(Ju.x,ed.x,td.x,nd.x),c=LE(Ju.y,ed.y,td.y,nd.y);e.width=l-e.x,e.height=c-e.y}else e!==t&&n.copy(e,t)},n}();const bt=FRe;function VRe(){uY(this.event)}var BRe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.handler=null,t}return Vt(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(ns),n_=function(){return function n(e,t){this.x=e,this.y=t}}(),URe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],xk=new bt(0,0,0,0),pY=function(n){function e(t,r,i,o,a){var s=n.call(this)||this;return s._hovered=new n_(0,0),s.storage=t,s.painter=r,s.painterRoot=o,s._pointerSize=a,i=i||new BRe,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new yRe(s),s}return Vt(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(L(URe,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,o=gY(this,r,i),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new n_(r,i):this.findHover(r,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==s&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==r&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new n_(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){var o=(t=t||{}).target;if(!o||!o.silent){for(var a="on"+r,s=function LRe(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:VRe}}(r,t,i);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(r,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[a]&&l[a].call(l,s),l.trigger&&l.trigger(r,s)}))}},e.prototype.findHover=function(t,r,i){var o=this.storage.getDisplayList(),a=new n_(t,r);if(mY(o,a,t,r,i),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,c=l/2,u=new bt(t-c,r-c,l,l),d=o.length-1;d>=0;d--){var h=o[d];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(xk.copy(h.getBoundingRect()),h.transform&&xk.applyTransform(h.transform),xk.intersect(u)&&s.push(h))}if(s.length)for(var p=Math.PI/12,g=2*Math.PI,v=0;v<c;v+=4)for(var _=0;_<g;_+=p)if(mY(s,a,t+v*Math.cos(_),r+v*Math.sin(_),i),a.target)return a}return a},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new PRe);var i=this._gestureMgr;"start"===r&&i.clear();var o=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===r&&i.clear(),o){var a=o.type;t.gestureEvent=a;var s=new n_;s.target=o.target,this.dispatchToElement(s,a,o.event)}},e}(ns);function zRe(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(e,t))return!1}r.silent&&(i=!0),r=r.__hostTarget||r.parent}return!i||"silent"}return!1}function mY(n,e,t,r,i){for(var o=n.length-1;o>=0;o--){var a=n[o],s=void 0;if(a!==i&&!a.ignore&&(s=zRe(a,t,r))&&(!e.topTarget&&(e.topTarget=a),"silent"!==s)){e.target=a;break}}}function gY(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}L(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){pY.prototype[n]=function(e){var o,a,t=e.zrX,r=e.zrY,i=gY(this,t,r);if(("mouseup"!==n||!i)&&(a=(o=this.findHover(t,r)).target),"mousedown"===n)this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if("mouseup"===n)this._upEl=a;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||PE(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,n,e)}});const HRe=pY;function _Y(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;!function $Re(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function yY(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var l,o=n[r],a=e,s=r;a<s;)i(o,n[l=a+s>>>1])<0?s=l:a=l+1;var c=r-a;switch(c){case 3:n[a+3]=n[a+2];case 2:n[a+2]=n[a+1];case 1:n[a+1]=n[a];break;default:for(;c>0;)n[a+c]=n[a+c-1],c--}n[a]=o}}function Ak(n,e,t,r,i,o){var a=0,s=0,l=1;if(o(n,e[t+i])>0){for(s=r-i;l<s&&o(n,e[t+i+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(n,e[t+i-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=i-l,l=i-c}for(a++;a<l;){var u=a+(l-a>>>1);o(n,e[t+u])>0?a=u+1:l=u}return l}function Mk(n,e,t,r,i,o){var a=0,s=0,l=1;if(o(n,e[t+i])<0){for(s=i+1;l<s&&o(n,e[t+i-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=i-l,l=i-c}else{for(s=r-i;l<s&&o(n,e[t+i+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var u=a+(l-a>>>1);o(n,e[t+u])<0?l=u:a=u+1}return l}function VE(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var o=0;if(i<32)return void yY(n,t,r,t+(o=_Y(n,t,r,e)),e);var a=function GRe(n,e){var r,i,t=7,o=0,a=[];function u(f){var p=r[f],g=i[f],v=r[f+1],_=i[f+1];i[f]=g+_,f===o-3&&(r[f+1]=r[f+2],i[f+1]=i[f+2]),o--;var y=Mk(n[v],n,p,g,0,e);p+=y,0!=(g-=y)&&0!==(_=Ak(n[p+g-1],n,v,_,_-1,e))&&(g<=_?function d(f,p,g,v){var _=0;for(_=0;_<p;_++)a[_]=n[f+_];var y=0,w=g,I=f;if(n[I++]=n[w++],0!=--v)if(1!==p){for(var P,T,E,M=t;;){P=0,T=0,E=!1;do{if(e(n[w],a[y])<0){if(n[I++]=n[w++],T++,P=0,0==--v){E=!0;break}}else if(n[I++]=a[y++],P++,T=0,1==--p){E=!0;break}}while((P|T)<M);if(E)break;do{if(0!==(P=Mk(n[w],a,y,p,0,e))){for(_=0;_<P;_++)n[I+_]=a[y+_];if(I+=P,y+=P,(p-=P)<=1){E=!0;break}}if(n[I++]=n[w++],0==--v){E=!0;break}if(0!==(T=Ak(a[y],n,w,v,0,e))){for(_=0;_<T;_++)n[I+_]=n[w+_];if(I+=T,w+=T,0==(v-=T)){E=!0;break}}if(n[I++]=a[y++],1==--p){E=!0;break}M--}while(P>=7||T>=7);if(E)break;M<0&&(M=0),M+=2}if((t=M)<1&&(t=1),1===p){for(_=0;_<v;_++)n[I+_]=n[w+_];n[I+v]=a[y]}else{if(0===p)throw new Error;for(_=0;_<p;_++)n[I+_]=a[y+_]}}else{for(_=0;_<v;_++)n[I+_]=n[w+_];n[I+v]=a[y]}else for(_=0;_<p;_++)n[I+_]=a[y+_]}(p,g,v,_):function h(f,p,g,v){var _=0;for(_=0;_<v;_++)a[_]=n[g+_];var y=f+p-1,w=v-1,I=g+v-1,M=0,P=0;if(n[I--]=n[y--],0!=--p)if(1!==v){for(var T=t;;){var E=0,D=0,S=!1;do{if(e(a[w],n[y])<0){if(n[I--]=n[y--],E++,D=0,0==--p){S=!0;break}}else if(n[I--]=a[w--],D++,E=0,1==--v){S=!0;break}}while((E|D)<T);if(S)break;do{if(0!=(E=p-Mk(a[w],n,f,p,p-1,e))){for(p-=E,P=1+(I-=E),M=1+(y-=E),_=E-1;_>=0;_--)n[P+_]=n[M+_];if(0===p){S=!0;break}}if(n[I--]=a[w--],1==--v){S=!0;break}if(0!=(D=v-Ak(n[y],a,0,v,v-1,e))){for(v-=D,P=1+(I-=D),M=1+(w-=D),_=0;_<D;_++)n[P+_]=a[M+_];if(v<=1){S=!0;break}}if(n[I--]=n[y--],0==--p){S=!0;break}T--}while(E>=7||D>=7);if(S)break;T<0&&(T=0),T+=2}if((t=T)<1&&(t=1),1===v){for(P=1+(I-=p),M=1+(y-=p),_=p-1;_>=0;_--)n[P+_]=n[M+_];n[I]=a[w]}else{if(0===v)throw new Error;for(M=I-(v-1),_=0;_<v;_++)n[M+_]=a[_]}}else{for(P=1+(I-=p),M=1+(y-=p),_=p-1;_>=0;_--)n[P+_]=n[M+_];n[I]=a[w]}else for(M=I-(v-1),_=0;_<v;_++)n[M+_]=a[_]}(p,g,v,_))}return r=[],i=[],{mergeRuns:function l(){for(;o>1;){var f=o-2;if(f>=1&&i[f-1]<=i[f]+i[f+1]||f>=2&&i[f-2]<=i[f]+i[f-1])i[f-1]<i[f+1]&&f--;else if(i[f]>i[f+1])break;u(f)}},forceMergeRuns:function c(){for(;o>1;){var f=o-2;f>0&&i[f-1]<i[f+1]&&f--,u(f)}},pushRun:function s(f,p){r[o]=f,i[o]=p,o+=1}}}(n,e),s=function jRe(n){for(var e=0;n>=32;)e|=1&n,n>>=1;return n+e}(i);do{if((o=_Y(n,t,r,e))<s){var l=i;l>s&&(l=s),yY(n,t,t+l,t+o,e),o=l}a.pushRun(t,o),a.mergeRuns(),i-=o,t+=o}while(0!==i);a.forceMergeRuns()}}var vo=1,rp=4,bY=!1;function Rk(){bY||(bY=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function wY(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var qRe=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=wY}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,VE(r,wY)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!e.ignore||r){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t=t?t.slice():[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var c=s[l];e.__dirty&&(c.__dirty|=vo),this._updateAndAddDisplayable(c,t,r)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Rk(),u.z=0),isNaN(u.z2)&&(Rk(),u.z2=0),isNaN(u.zlevel)&&(Rk(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,r);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,r);var f=e.getTextContent();f&&this._updateAndAddDisplayable(f,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);else{var i=Mt(this._roots,e);i>=0&&this._roots.splice(i,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const WRe=qRe;var CY;CY=nt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const Pk=CY;var BE={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-BE.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*BE.bounceIn(2*n):.5*BE.bounceOut(2*n-1)+.5}};const EY=BE;var UE=Math.pow,ac=Math.sqrt,IY=ac(3),HE=1/3,rs=Qu(),Bo=Qu(),ip=Qu();function sc(n){return n>-1e-8&&n<1e-8}function DY(n){return n>1e-8||n<-1e-8}function Ar(n,e,t,r,i){var o=1-i;return o*o*(o*n+3*i*e)+i*i*(i*r+3*o*t)}function SY(n,e,t,r,i){var o=1-i;return 3*(((e-n)*o+2*(t-e)*i)*o+(r-t)*i*i)}function xY(n,e,t,r,i,o){var a=r+3*(e-t)-n,s=3*(t-2*e+n),l=3*(e-n),c=n-i,u=s*s-3*a*l,d=s*l-9*a*c,h=l*l-3*s*c,f=0;if(sc(u)&&sc(d))sc(s)?o[0]=0:(p=-l/s)>=0&&p<=1&&(o[f++]=p);else{var g=d*d-4*u*h;if(sc(g)){var v=d/u,_=-v/2;(p=-s/a+v)>=0&&p<=1&&(o[f++]=p),_>=0&&_<=1&&(o[f++]=_)}else if(g>0){var y=ac(g),w=u*s+1.5*a*(-d+y),I=u*s+1.5*a*(-d-y);(p=(-s-((w=w<0?-UE(-w,HE):UE(w,HE))+(I=I<0?-UE(-I,HE):UE(I,HE))))/(3*a))>=0&&p<=1&&(o[f++]=p)}else{var M=(2*u*s-3*a*d)/(2*ac(u*u*u)),P=Math.acos(M)/3,T=ac(u),E=Math.cos(P),p=(-s-2*T*E)/(3*a),D=(_=(-s+T*(E+IY*Math.sin(P)))/(3*a),(-s+T*(E-IY*Math.sin(P)))/(3*a));p>=0&&p<=1&&(o[f++]=p),_>=0&&_<=1&&(o[f++]=_),D>=0&&D<=1&&(o[f++]=D)}}return f}function AY(n,e,t,r,i){var o=6*t-12*e+6*n,a=9*e+3*r-3*n-9*t,s=3*e-3*n,l=0;if(sc(a))DY(o)&&(c=-s/o)>=0&&c<=1&&(i[l++]=c);else{var u=o*o-4*a*s;if(sc(u))i[0]=-o/(2*a);else if(u>0){var c,d=ac(u),h=(-o-d)/(2*a);(c=(-o+d)/(2*a))>=0&&c<=1&&(i[l++]=c),h>=0&&h<=1&&(i[l++]=h)}}return l}function jE(n,e,t,r,i,o){var a=(e-n)*i+n,s=(t-e)*i+e,l=(r-t)*i+t,c=(s-a)*i+a,u=(l-s)*i+s,d=(u-c)*i+c;o[0]=n,o[1]=a,o[2]=c,o[3]=d,o[4]=d,o[5]=u,o[6]=l,o[7]=r}function MY(n,e,t,r,i,o,a,s,l,c,u){var d,p,g,v,_,h=.005,f=1/0;rs[0]=l,rs[1]=c;for(var y=0;y<1;y+=.05)Bo[0]=Ar(n,t,i,a,y),Bo[1]=Ar(e,r,o,s,y),(v=Zu(rs,Bo))<f&&(d=y,f=v);f=1/0;for(var w=0;w<32&&!(h<1e-4);w++)g=d+h,Bo[0]=Ar(n,t,i,a,p=d-h),Bo[1]=Ar(e,r,o,s,p),v=Zu(Bo,rs),p>=0&&v<f?(d=p,f=v):(ip[0]=Ar(n,t,i,a,g),ip[1]=Ar(e,r,o,s,g),_=Zu(ip,rs),g<=1&&_<f?(d=g,f=_):h*=.5);return u&&(u[0]=Ar(n,t,i,a,d),u[1]=Ar(e,r,o,s,d)),ac(f)}function YRe(n,e,t,r,i,o,a,s,l){for(var c=n,u=e,d=0,h=1/l,f=1;f<=l;f++){var p=f*h,g=Ar(n,t,i,a,p),v=Ar(e,r,o,s,p),_=g-c,y=v-u;d+=Math.sqrt(_*_+y*y),c=g,u=v}return d}function $r(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function RY(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function PY(n,e,t){var r=n+t-2*e;return 0===r?.5:(n-e)/r}function $E(n,e,t,r,i){var o=(e-n)*r+n,a=(t-e)*r+e,s=(a-o)*r+o;i[0]=n,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=t}function kY(n,e,t,r,i,o,a,s,l){var c,u=.005,d=1/0;rs[0]=a,rs[1]=s;for(var h=0;h<1;h+=.05)Bo[0]=$r(n,t,i,h),Bo[1]=$r(e,r,o,h),(f=Zu(rs,Bo))<d&&(c=h,d=f);d=1/0;for(var p=0;p<32&&!(u<1e-4);p++){var g=c-u,v=c+u;Bo[0]=$r(n,t,i,g),Bo[1]=$r(e,r,o,g);var f=Zu(Bo,rs);if(g>=0&&f<d)c=g,d=f;else{ip[0]=$r(n,t,i,v),ip[1]=$r(e,r,o,v);var _=Zu(ip,rs);v<=1&&_<d?(c=v,d=_):u*=.5}}return l&&(l[0]=$r(n,t,i,c),l[1]=$r(e,r,o,c)),ac(d)}function XRe(n,e,t,r,i,o,a){for(var s=n,l=e,c=0,u=1/a,d=1;d<=a;d++){var h=d*u,f=$r(n,t,i,h),p=$r(e,r,o,h),g=f-s,v=p-l;c+=Math.sqrt(g*g+v*v),s=f,l=p}return c}var QRe=/cubic-bezier\(([0-9,\.e ]+)\)/;function OY(n){var e=n&&QRe.exec(n);if(e){var t=e[1].split(","),r=+Ca(t[0]),i=+Ca(t[1]),o=+Ca(t[2]),a=+Ca(t[3]);if(isNaN(r+i+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:xY(0,r,o,1,l,s)&&Ar(0,i,a,1,s[0])}}}var ZRe=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||_i,this.ondestroy=e.ondestroy||_i,this.onrestart=e.onrestart||_i,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var r=this._life,i=e-this._startTime-this._pausedTime,o=i/r;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),1===o){if(!this.loop)return!0;this._startTime=e-i%r,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Xe(e)?e:EY[e]||OY(e)},n}();const JRe=ZRe;var NY=function(){return function n(e){this.value=e}}(),ePe=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new NY(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),tPe=function(){function n(e){this._list=new ePe,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,o=null;if(null==i[e]){var a=r.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=r.head;r.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new NY(t),s.key=e,r.insertEntry(s),i[e]=s}return o},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(null!=t)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const o_=tPe;var FY={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ea(n){return(n=Math.round(n))<0?0:n>255?255:n}function a_(n){return n<0?0:n>1?1:n}function kk(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?Ea(parseFloat(e)/100*255):Ea(parseInt(e,10))}function rd(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?a_(parseFloat(e)/100):a_(parseFloat(e))}function Ok(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function lc(n,e,t){return n+(e-n)*t}function Uo(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function Nk(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var LY=new o_(20),GE=null;function op(n,e){GE&&Nk(GE,e),GE=LY.put(n,GE||e.slice())}function _o(n,e){if(n){e=e||[];var t=LY.get(n);if(t)return Nk(e,t);var r=(n+="").replace(/ /g,"").toLowerCase();if(r in FY)return Nk(e,FY[r]),op(n,e),e;var o,i=r.length;if("#"===r.charAt(0))return 4===i||5===i?(o=parseInt(r.slice(1,4),16))>=0&&o<=4095?(Uo(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===i?parseInt(r.slice(4),16)/15:1),op(n,e),e):void Uo(e,0,0,0,1):7===i||9===i?(o=parseInt(r.slice(1,7),16))>=0&&o<=16777215?(Uo(e,(16711680&o)>>16,(65280&o)>>8,255&o,9===i?parseInt(r.slice(7),16)/255:1),op(n,e),e):void Uo(e,0,0,0,1):void 0;var a=r.indexOf("("),s=r.indexOf(")");if(-1!==a&&s+1===i){var l=r.substr(0,a),c=r.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(4!==c.length)return 3===c.length?Uo(e,+c[0],+c[1],+c[2],1):Uo(e,0,0,0,1);u=rd(c.pop());case"rgb":return c.length>=3?(Uo(e,kk(c[0]),kk(c[1]),kk(c[2]),3===c.length?u:rd(c[3])),op(n,e),e):void Uo(e,0,0,0,1);case"hsla":return 4!==c.length?void Uo(e,0,0,0,1):(c[3]=rd(c[3]),Fk(c,e),op(n,e),e);case"hsl":return 3!==c.length?void Uo(e,0,0,0,1):(Fk(c,e),op(n,e),e);default:return}}Uo(e,0,0,0,1)}}function Fk(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=rd(n[1]),i=rd(n[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return Uo(e=e||[],Ea(255*Ok(a,o,t+1/3)),Ea(255*Ok(a,o,t)),Ea(255*Ok(a,o,t-1/3)),1),4===n.length&&(e[3]=n[3]),e}function Lk(n,e){var t=_o(n);if(t){for(var r=0;r<3;r++)t[r]=e<0?t[r]*(1-e)|0:(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return cc(t,4===t.length?"rgba":"rgb")}}function iPe(n){var e=_o(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function VY(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var r=n*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],l=r-i;return t[0]=Ea(lc(a[0],s[0],l)),t[1]=Ea(lc(a[1],s[1],l)),t[2]=Ea(lc(a[2],s[2],l)),t[3]=a_(lc(a[3],s[3],l)),t}}var oPe=VY;function BY(n,e,t){if(e&&e.length&&n>=0&&n<=1){var r=n*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=_o(e[i]),s=_o(e[o]),l=r-i,c=cc([Ea(lc(a[0],s[0],l)),Ea(lc(a[1],s[1],l)),Ea(lc(a[2],s[2],l)),a_(lc(a[3],s[3],l))],"rgba");return t?{color:c,leftIndex:i,rightIndex:o,value:r}:c}}var aPe=BY;function sPe(n,e,t,r){var i=_o(n);if(n)return i=function rPe(n){if(n){var l,c,e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),o=Math.max(e,t,r),a=o-i,s=(o+i)/2;if(0===a)l=0,c=0;else{c=s<.5?a/(o+i):a/(2-o-i);var u=((o-e)/6+a/2)/a,d=((o-t)/6+a/2)/a,h=((o-r)/6+a/2)/a;e===o?l=h-d:t===o?l=1/3+u-h:r===o&&(l=2/3+d-u),l<0&&(l+=1),l>1&&(l-=1)}var f=[360*l,c,s];return null!=n[3]&&f.push(n[3]),f}}(i),null!=e&&(i[0]=function nPe(n){return(n=Math.round(n))<0?0:n>360?360:n}(e)),null!=t&&(i[1]=rd(t)),null!=r&&(i[2]=rd(r)),cc(Fk(i),"rgba")}function lPe(n,e){var t=_o(n);if(t&&null!=e)return t[3]=a_(e),cc(t,"rgba")}function cc(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(t+=","+n[3]),e+"("+t+")"}}function s_(n,e){var t=_o(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function cPe(){return cc([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var UY=new o_(100);function Vk(n){if(we(n)){var e=UY.get(n);return e||(e=Lk(n,-.1),UY.put(n,e)),e}if(Kv(n)){var t=oe({},n);return t.colorStops=Fe(n.colorStops,function(r){return{offset:r.offset,color:Lk(r.color,-.1)}}),t}return n}Math,nt.hasGlobalWindow&&Xe(window.btoa);var Bk=Array.prototype.slice;function Ys(n,e,t){return(e-n)*t+n}function Uk(n,e,t,r){for(var i=e.length,o=0;o<i;o++)n[o]=Ys(e[o],t[o],r);return n}function WE(n,e,t,r){for(var i=e.length,o=0;o<i;o++)n[o]=e[o]+t[o]*r;return n}function jY(n,e,t,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=e[a][s]+t[a][s]*r}return n}function mPe(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,o=Math.min(t,r),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(t,r);s++)i.push({offset:a.offset,color:a.color.slice()})}function gPe(n,e,t){var r=n,i=e;if(r.push&&i.push){var o=r.length,a=i.length;if(o!==a)if(o>a)r.length=a;else for(var l=o;l<a;l++)r.push(1===t?i[l]:Bk.call(i[l]));var c=r[0]&&r[0].length;for(l=0;l<r.length;l++)if(1===t)isNaN(r[l])&&(r[l]=i[l]);else for(var u=0;u<c;u++)isNaN(r[l][u])&&(r[l][u]=i[l][u])}}function YE(n){if(gi(n)){var e=n.length;if(gi(n[0])){for(var t=[],r=0;r<e;r++)t.push(Bk.call(n[r]));return t}return Bk.call(n)}return n}function KE(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}function qY(n){return 4===n||5===n}function ZE(n){return 1===n||2===n}var u_=[0,0,0,0],_Pe=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,o=i.length,a=!1,s=6,l=t;if(gi(t)){var c=function vPe(n){return gi(n&&n[0])?2:1}(t);s=c,(1===c&&!$t(t[0])||2===c&&!$t(t[0][0]))&&(a=!0)}else if($t(t)&&!Xv(t))s=0;else if(we(t))if(isNaN(+t)){var u=_o(t);u&&(l=u,s=3)}else s=0;else if(Kv(t)){var d=oe({},l);d.colorStops=Fe(t.colorStops,function(f){return{offset:f.offset,color:_o(f.color)}}),function hPe(n){return"linear"===n.type}(t)?s=4:function fPe(n){return"radial"===n.type}(t)&&(s=5),l=d}0===o?this.valType=s:(s!==this.valType||6===s)&&(a=!0),this.discrete=this.discrete||a;var h={time:e,value:l,rawValue:t,percent:0};return r&&(h.easing=r,h.easingFunc=Xe(r)?r:EY[r]||OY(r)),i.push(h),h},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(g,v){return g.time-v.time});for(var i=this.valType,o=r.length,a=r[o-1],s=this.discrete,l=ZE(i),c=qY(i),u=0;u<o;u++){var d=r[u],h=d.value,f=a.value;d.percent=d.time/e,s||(l&&u!==o-1?gPe(h,f,i):c&&mPe(h.colorStops,f.colorStops))}if(!s&&5!==i&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;var p=r[0].value;for(u=0;u<o;u++)0===i?r[u].additiveValue=r[u].value-p:3===i?r[u].additiveValue=WE([],r[u].value,p,-1):ZE(i)&&(r[u].additiveValue=1===i?WE([],r[u].value,p,-1):jY([],r[u].value,p,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var u,f,p,r=null!=this._additiveTrack,i=r?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,c=3===o,d=this._lastFr,h=Math.min;if(1===s)f=p=a[0];else{if(t<0)u=0;else if(t<this._lastFrP){for(u=h(d+1,s-1);u>=0&&!(a[u].percent<=t);u--);u=h(u,s-2)}else{for(u=d;u<s&&!(a[u].percent>t);u++);u=h(u-1,s-2)}p=a[u+1],f=a[u]}if(f&&p){this._lastFr=u,this._lastFrP=t;var v=p.percent-f.percent,_=0===v?1:h((t-f.percent)/v,1);p.easingFunc&&(_=p.easingFunc(_));var y=r?this._additiveValue:c?u_:e[l];if((ZE(o)||c)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=_<1?f.rawValue:p.rawValue;else if(ZE(o))1===o?Uk(y,f[i],p[i],_):function pPe(n,e,t,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=Ys(e[a][s],t[a][s],r)}}(y,f[i],p[i],_);else if(qY(o)){var w=f[i],I=p[i],M=4===o;e[l]={type:M?"linear":"radial",x:Ys(w.x,I.x,_),y:Ys(w.y,I.y,_),colorStops:Fe(w.colorStops,function(T,E){var D=I.colorStops[E];return{offset:Ys(T.offset,D.offset,_),color:KE(Uk([],T.color,D.color,_))}}),global:I.global},M?(e[l].x2=Ys(w.x2,I.x2,_),e[l].y2=Ys(w.y2,I.y2,_)):e[l].r=Ys(w.r,I.r,_)}else if(c)Uk(y,f[i],p[i],_),r||(e[l]=KE(y));else{var P=Ys(f[i],p[i],_);r?this._additiveValue=P:e[l]=P}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;0===t?e[r]=e[r]+i:3===t?(_o(e[r],u_),WE(u_,u_,i,1),e[r]=KE(u_)):1===t?WE(e[r],e[r],i,1):2===t&&jY(e[r],e[r],i,1)},n}(),yPe=function(){function n(e,t,r,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i?IE("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=r)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,yn(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var o=this._tracks,a=0;a<r.length;a++){var s=r[a],l=o[s];if(!l){l=o[s]=new _Pe(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var d=u.keyframes,h=d[d.length-1];c=h&&h.value,3===u.valType&&c&&(c=KE(c))}else c=this._target[s];if(null==c)continue;e>0&&l.addKeyframe(0,YE(c),i),this._trackKeys.push(s)}l.addKeyframe(e,YE(t[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var o=r[i].getTrack(e);o&&(t=o)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),c=s.keyframes,u=c.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=c[u-1];d&&(t._target[s.propName]=d.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var h=new JRe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(f){t._started=2;var p=t._additiveAnimators;if(p){for(var g=!1,v=0;v<p.length;v++)if(p[v]._clip){g=!0;break}g||(t._additiveAnimators=null)}for(v=0;v<r.length;v++)r[v].step(t._target,f);var _=t._onframeCbs;if(_)for(v=0;v<_.length;v++)_[v](t._target,f)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){this._clip&&(e&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return Fe(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,o=0;o<e.length;o++){var a=r[e[o]];a&&!a.isFinished()&&(t?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<i.length;o++)if(!r[i[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var o=t[i],a=this._tracks[o];if(a&&!a.isFinished()){var s=a.keyframes,l=s[r?0:s.length-1];l&&(e[o]=YE(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||yn(e);for(var r=0;r<t.length;r++){var i=t[r],o=this._tracks[i];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,e[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();const jk=yPe;function ap(){return(new Date).getTime()}var bPe=function(n){function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,r.stage=(t=t||{}).stage||{},r}return Vt(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=ap()-this._pausedTime,i=r-this._time,o=this._head;o;){var a=o.next;o.step(r,i)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Pk(function r(){t._running&&(Pk(r),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=ap(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=ap(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=ap()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new jk(t,r.loop);return this.addAnimator(i),i},e}(ns);const wPe=bPe;var n,t,$k=nt.domSupported,Gk=(t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:Fe(n,function(i){var o=i.replace("mouse","pointer");return t.hasOwnProperty(o)?o:i})}),WY_mouse=["mousemove","mouseup"],WY_pointer=["pointermove","pointerup"],YY=!1;function qk(n){var e=n.pointerType;return"pen"===e||"touch"===e}function Wk(n){n&&(n.zrByTouch=!0)}function KY(n,e){for(var t=e,r=!1;t&&9!==t.nodeType&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var IPe=function(){return function n(e,t){this.stopPropagation=_i,this.stopImmediatePropagation=_i,this.preventDefault=_i,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}}(),Ta={mousedown:function(n){n=Vo(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Vo(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Vo(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){KY(this,(n=Vo(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){YY=!0,n=Vo(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){YY||(n=Vo(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){Wk(n=Vo(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Ta.mousemove.call(this,n),Ta.mousedown.call(this,n)},touchmove:function(n){Wk(n=Vo(this.dom,n)),this.handler.processGesture(n,"change"),Ta.mousemove.call(this,n)},touchend:function(n){Wk(n=Vo(this.dom,n)),this.handler.processGesture(n,"end"),Ta.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&Ta.click.call(this,n)},pointerdown:function(n){Ta.mousedown.call(this,n)},pointermove:function(n){qk(n)||Ta.mousemove.call(this,n)},pointerup:function(n){Ta.mouseup.call(this,n)},pointerout:function(n){qk(n)||Ta.mouseout.call(this,n)}};L(["click","dblclick","contextmenu"],function(n){Ta[n]=function(e){e=Vo(this.dom,e),this.trigger(n,e)}});var Yk={pointermove:function(n){qk(n)||Yk.mousemove.call(this,n)},pointerup:function(n){Yk.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function JE(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,function MRe(n,e,t,r){n.addEventListener(e,t,r)}(n.domTarget,e,t,r)}function Kk(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&RRe(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var XY=function(){return function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}}(),xPe=function(n){function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new XY(t,Ta),$k&&(i._globalHandlerScope=new XY(document,Yk)),function DPe(n,e){var t=e.domHandlers;nt.pointerEventsSupported?L(Gk.pointer,function(r){JE(e,r,function(i){t[r].call(n,i)})}):(nt.touchEventsSupported&&L(Gk.touch,function(r){JE(e,r,function(i){t[r].call(n,i),function EPe(n){n.touching=!0,null!=n.touchTimer&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}(e)})}),L(Gk.mouse,function(r){JE(e,r,function(i){i=Ik(i),e.touching||t[r].call(n,i)})}))}(i,i._localHandlerScope),i}return Vt(e,n),e.prototype.dispose=function(){Kk(this._localHandlerScope),$k&&Kk(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,$k&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?function SPe(n,e){function t(r){JE(e,r,function i(o){o=Ik(o),KY(n,o.target)||(o=function TPe(n,e){return Vo(n.dom,new IPe(n,e),!0)}(n,o),e.domHandlers[r].call(n,o))},{capture:!0})}nt.pointerEventsSupported?L(WY_pointer,t):nt.touchEventsSupported||L(WY_mouse,t)}(this,r):Kk(r)}},e}(ns);const APe=xPe;var QY=1;nt.hasGlobalWindow&&(QY=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var eT=QY,Qk="#333",Zk="#ccc",ZY=Zv;function id(n){return n>5e-5||n<-5e-5}var od=[],sp=[],Jk=[1,0,0,1,0,0],eO=Math.abs,RPe=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return id(this.rotation)||id(this.x)||id(this.y)||id(this.scaleX-1)||id(this.scaleY-1)||id(this.skewX)||id(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;t||e?(r=r||[1,0,0,1,0,0],t?this.getLocalTransform(r):ZY(r),e&&(t?oc(r,e,r):Sk(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&(ZY(r),this.invTransform=null)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(od);var r=od[0]<0?-1:1,i=od[1]<0?-1:1,o=((od[0]-r)*t+r)/od[0]||0,a=((od[1]-i)*t+i)/od[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],Jv(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),o=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||[1,0,0,1,0,0],oc(sp,e.invTransform,t),t=sp);var r=this.originX,i=this.originY;(r||i)&&(Jk[4]=r,Jk[5]=i,oc(sp,t,Jk),sp[4]-=r,sp[5]-=i,t=sp),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&go(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&go(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&eO(e[0]-1)>1e-10&&eO(e[3]-1)>1e-10?Math.sqrt(eO(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){!function PPe(n,e){for(var t=0;t<d_.length;t++){var r=d_[t];n[r]=e[r]}}(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,o=e.scaleX,a=e.scaleY,s=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,d=e.y,h=e.skewX?Math.tan(e.skewX):0,f=e.skewY?Math.tan(-e.skewY):0;if(r||i||s||l){var p=r+s,g=i+l;t[4]=-p*o-h*g*a,t[5]=-g*a-f*p*o}else t[4]=t[5]=0;return t[0]=o,t[3]=a,t[1]=f*o,t[2]=h*a,c&&NE(t,t,c),t[4]+=r+u,t[5]+=i+d,t},n.initDefaultProps=((e=n.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,void(e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0)),n;var e}(),d_=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];const tT=RPe;var eK={};function yo(n,e){var t=eK[e=e||Xu];t||(t=eK[e]=new o_(500));var r=t.get(n);return null==r&&(r=Ws.measureText(n,e).width,t.put(n,r)),r}function tK(n,e,t,r){var i=yo(n,e),o=nO(e),a=h_(0,i,t),s=lp(0,o,r);return new bt(a,s,i,o)}function tO(n,e,t,r){var i=((n||"")+"").split("\n");if(1===i.length)return tK(i[0],e,t,r);for(var a=new bt(0,0,0,0),s=0;s<i.length;s++){var l=tK(i[s],e,t,r);0===s?a.copy(l):a.union(l)}return a}function h_(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function lp(n,e,t){return"middle"===t?n-=e/2:"bottom"===t&&(n-=e),n}function nO(n){return yo("\u56fd",n)}function uc(n,e){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function nK(n,e,t){var r=e.position||"inside",i=null!=e.distance?e.distance:5,o=t.height,a=t.width,s=o/2,l=t.x,c=t.y,u="left",d="top";if(r instanceof Array)l+=uc(r[0],t.width),c+=uc(r[1],t.height),u=null,d=null;else switch(r){case"left":l-=i,c+=s,u="right",d="middle";break;case"right":l+=i+a,c+=s,d="middle";break;case"top":l+=a/2,c-=i,u="center",d="bottom";break;case"bottom":l+=a/2,c+=o+i,u="center";break;case"inside":l+=a/2,c+=s,u="center",d="middle";break;case"insideLeft":l+=i,c+=s,d="middle";break;case"insideRight":l+=a-i,c+=s,u="right",d="middle";break;case"insideTop":l+=a/2,c+=i,u="center";break;case"insideBottom":l+=a/2,c+=o-i,u="center",d="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=a-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=o-i,d="bottom";break;case"insideBottomRight":l+=a-i,c+=o-i,u="right",d="bottom"}return(n=n||{}).x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var rO="__zr_normal__",iO=d_.concat(["ignore"]),kPe=es(d_,function(n,e){return n[e]=!0,n},{ignore:!1}),cp={},OPe=new bt(0,0,0,0),oO=function(){function n(e){this.id=dk(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,o=t.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=i?this:null;var c=!1;if(o.copyTransform(t),null!=r.position){var u=OPe;u.copy(r.layoutRect?r.layoutRect:this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(cp,r,u):nK(cp,r,u),o.x=cp.x,o.y=cp.y,a=cp.align,s=cp.verticalAlign;var d=r.origin;if(d&&null!=r.rotation){var h=void 0,f=void 0;"center"===d?(h=.5*u.width,f=.5*u.height):(h=uc(d[0],u.width),f=uc(d[1],u.height)),c=!0,o.originX=-o.x+h+(i?0:u.x),o.originY=-o.y+f+(i?0:u.y)}}null!=r.rotation&&(o.rotation=r.rotation);var p=r.offset;p&&(o.x+=p[0],o.y+=p[1],c||(o.originX=-p[0],o.originY=-p[1]));var g=null==r.inside?"string"==typeof r.position&&r.position.indexOf("inside")>=0:r.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),_=void 0,y=void 0,w=void 0;g&&this.canBeInsideText()?(y=r.insideStroke,(null==(_=r.insideFill)||"auto"===_)&&(_=this.getInsideTextFill()),(null==y||"auto"===y)&&(y=this.getInsideTextStroke(_),w=!0)):(y=r.outsideStroke,(null==(_=r.outsideFill)||"auto"===_)&&(_=this.getOutsideFill()),(null==y||"auto"===y)&&(y=this.getOutsideStroke(_),w=!0)),((_=_||"#000")!==v.fill||y!==v.stroke||w!==v.autoStroke||a!==v.align||s!==v.verticalAlign)&&(l=!0,v.fill=_,v.stroke=y,v.autoStroke=w,v.align=a,v.verticalAlign=s,t.setDefaultTextStyle(v)),t.__dirty|=vo,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Zk:Qk},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r="string"==typeof t&&_o(t);r||(r=[255,255,255,1]);for(var i=r[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)r[a]=r[a]*i+(o?0:255)*(1-i);return r[3]=1,cc(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},oe(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(Oe(e))for(var i=yn(e),o=0;o<i.length;o++){var a=i[o];this.attrKV(a,e[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==rO)){var a=i.targetName;i.saveTo(a?t[a]:t)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,iO)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var o=r[i];null!=e[o]&&!(o in t)&&(t[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(rO,!1,e)},n.prototype.useState=function(e,t,r,i){var o=e===rO;if(this.hasState()||!o){var s=this.currentStates,l=this.stateTransition;if(!(Mt(s,e)>=0)||!t&&1!==s.length){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!o)return void IE("State "+e+" not exists.");o||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,h=this._textGuide;return d&&d.useState(e,t,r,u),h&&h.useState(e,t,r,u),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~vo),c}}},n.prototype.useStates=function(e,t,r){if(e.length){var i=[],o=this.currentStates,a=e.length,s=a===o.length;if(s)for(var l=0;l<a;l++)if(e[l]!==o[l]){s=!1;break}if(s)return;for(l=0;l<a;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var d=i[a-1],h=!!(d&&d.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(e.join(","),f,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,v=this._textGuide;g&&g.useStates(e,t,h),v&&v.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~vo)}else this.clearStates()},n.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=Mt(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),o=Mt(i,e),a=Mt(i,t)>=0;o>=0?a?i.splice(o,1):i[o]=t:r&&!a&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var r,t={},i=0;i<e.length;i++){var o=e[i];oe(t,o),o.textConfig&&oe(r=r||{},o.textConfig)}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,o,a){var s=!(t&&i);t&&t.textConfig?(this.textConfig=oe({},i?this.textConfig:r.textConfig),oe(this.textConfig,t.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},c=!1,u=0;u<iO.length;u++){var d=iO[u],h=o&&kPe[d];t&&null!=t[d]?h?(c=!0,l[d]=t[d]):this[d]=t[d]:s&&null!=r[d]&&(h?(c=!0,l[d]=r[d]):this[d]=r[d])}if(!o)for(u=0;u<this.animators.length;u++){var f=this.animators[u],p=f.targetName;f.getLoop()||f.__changeFinalValue(p?(t||r)[p]:t||r)}c&&this._transitionState(e,l,a)},n.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new tT,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),oe(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=vo;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var o=new jk(e?this[e]:this,t,r);return e&&(o.targetName=e),this.addAnimator(o,e),o},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var o=i.animators,a=Mt(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,o=[],a=0;a<i;a++){var s=r[a];e&&e!==s.scope?o.push(s):s.stop(t)}return this.animators=o,this},n.prototype.animateTo=function(e,t,r){aO(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){aO(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var o=aO(this,t,r,i),a=0;a<o.length;a++)o[a].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;function i(o,a,s,l){function c(u,d){Object.defineProperty(d,0,{get:function(){return u[s]},set:function(h){u[s]=h}}),Object.defineProperty(d,1,{get:function(){return u[l]},set:function(h){u[l]=h}})}Object.defineProperty(e,o,{get:function(){return this[a]||c(this,this[a]=[]),this[a]},set:function(u){this[s]=u[0],this[l]=u[1],this[a]=u,c(this,u)}})}e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=vo,Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),n}();function aO(n,e,t,r,i){var o=[];rK(n,"",n,e,t=t||{},r,o,i);var a=o.length,s=!1,l=t.done,c=t.aborted,u=function(){s=!0,--a<=0&&(s?l&&l():c&&c())},d=function(){--a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&t.during&&o[0].during(function(p,g){t.during(g)});for(var h=0;h<o.length;h++){var f=o[h];u&&f.done(u),d&&f.aborted(d),t.force&&f.duration(t.duration),f.start(t.easing)}return o}function sO(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function FPe(n,e,t){if(gi(e[t]))if(gi(n[t])||(n[t]=[]),vi(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),sO(n[t],e[t],r))}else{var i=e[t],o=n[t],a=i.length;if(function NPe(n){return gi(n[0])}(i))for(var s=i[0].length,l=0;l<a;l++)o[l]?sO(o[l],i[l],s):o[l]=Array.prototype.slice.call(i[l]);else sO(o,i,a);o.length=i.length}else n[t]=e[t]}function rK(n,e,t,r,i,o,a,s){for(var l=yn(r),c=i.duration,u=i.delay,d=i.additive,h=i.setToFinal,f=!Oe(o),p=n.animators,g=[],v=0;v<l.length;v++){var y=r[_=l[v]];if(null!=y&&null!=t[_]&&(f||o[_]))if(!Oe(y)||gi(y)||Kv(y))g.push(_);else{if(e){s||(t[_]=y,n.updateDuringAnimation(e));continue}rK(n,_,t[_],y,i,o&&o[_],a,s)}else s||(t[_]=y,n.updateDuringAnimation(e),g.push(_))}var w=g.length;if(!d&&w)for(var I=0;I<p.length;I++)if((M=p[I]).targetName===e&&M.stopTracks(g)){var T=Mt(p,M);p.splice(T,1)}if(i.force||(g=On(g,function(x){return!function LPe(n,e){return n===e||gi(n)&&gi(e)&&function VPe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}(n,e)}(r[x],t[x])}),w=g.length),w>0||i.force&&!a.length){var M,E=void 0,D=void 0,S=void 0;if(s)for(D={},h&&(E={}),I=0;I<w;I++)D[_=g[I]]=t[_],h?E[_]=r[_]:t[_]=r[_];else if(h)for(S={},I=0;I<w;I++){var _;S[_=g[I]]=YE(t[_]),FPe(t,r,_)}(M=new jk(t,!1,!1,d?On(p,function(N){return N.targetName===e}):null)).targetName=e,i.scope&&(M.scope=i.scope),h&&E&&M.whenWithKeys(0,E,g),S&&M.whenWithKeys(0,S,g),M.whenWithKeys(c??500,s?D:r,g).delay(u||0),n.addAnimator(M,e),a.push(M)}}wa(oO,ns),wa(oO,tT);const iK=oO;var oK=function(n){function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return Vt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,o=i.indexOf(r);o>=0&&(i.splice(o,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=Mt(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,o=i[r];if(t&&t!==this&&t.parent!==this&&t!==o){i[r]=t,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,o=Mt(i,t);return o<0||(i.splice(o,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var o=t[i];r&&o.removeSelfFromZr(r),o.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,o=0;o<i.length;o++)t.call(r,i[o],o);return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var o=this._children[i],a=t.call(r,o);o.isGroup&&!a&&o.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var r=new bt(0,0,0,0),i=t||this._children,o=[],a=null,s=0;s<i.length;s++){var l=i[s];if(!l.ignore&&!l.invisible){var c=l.getBoundingRect(),u=l.getLocalTransform(o);u?(bt.applyTransform(r,c,u),(a=a||r.clone()).union(r)):(a=a||c.clone()).union(c)}}return a||r},e}(iK);oK.prototype.type="group";const Ia=oK;var cO,nT={},ad={},zPe=function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var o=new WRe,a=r.renderer||"canvas";nT[a]||(a=yn(nT)[0]),r.useDirtyRect=null!=r.useDirtyRect&&r.useDirtyRect;var s=new nT[a](t,o,r,e),l=r.ssr||s.ssrOnly;this.storage=o,this.painter=s;var f,c=nt.node||nt.worker||l?null:new APe(s.getViewportRoot(),s.root),u=r.useCoarsePointer;(null==u||"auto"===u?nt.touchEventsSupported:!!u)&&(f=qe(r.pointerSize,44)),this.handler=new HRe(o,s,c,s.root,f),this.animation=new wPe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},n.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function UPe(n){if(!n)return!1;if("string"==typeof n)return s_(n,1)<.4;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=s_(e[i].color,1);return(t/=r)<.4}return!1}(e))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(e){var t,r=ap();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=ap();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},n.prototype.resize=function(e){this._disposed||(this.painter.resize((e=e||{}).width,e.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this._disposed||this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},n.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},n.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Ia&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,function BPe(n){delete ad[n]}(this.id))},n}();function lO(n,e){var t=new zPe(dk(),n,e);return ad[t.id]=t,t}function HPe(n){n.dispose()}function jPe(){for(var n in ad)ad.hasOwnProperty(n)&&ad[n].dispose();ad={}}function $Pe(n){return ad[n]}function aK(n,e){nT[n]=e}function GPe(n){if("function"==typeof cO)return cO(n)}function sK(n){cO=n}var qPe="5.6.1",lK=1e-4,cK=20;function rT(n,e,t,r){var i=e[0],o=e[1],a=t[0],s=t[1],l=o-i,c=s-a;if(0===l)return 0===c?a:(a+s)/2;if(r)if(l>0){if(n<=i)return a;if(n>=o)return s}else{if(n>=i)return a;if(n<=o)return s}else{if(n===i)return a;if(n===o)return s}return(n-i)/l*c+a}function nn(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return we(n)?function WPe(n){return n.replace(/^\s+|\s+$/g,"")}(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):null==n?NaN:+n}function bo(n,e,t){return null==e&&(e=10),e=Math.min(Math.max(0,e),cK),n=(+n).toFixed(e),t?n:+n}function YPe(n){return n.sort(function(e,t){return e-t}),n}function is(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t;return uK(n)}function uK(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,o=e.indexOf(".");return Math.max(0,(o<0?0:i-1-o)-r)}function dK(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),o=Math.round(t(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function KPe(n,e,t){return n[e]&&hK(n,t)[e]||0}function hK(n,e){var t=es(n,function(f,p){return f+(isNaN(p)?0:p)},0);if(0===t)return[];for(var r=Math.pow(10,e),i=Fe(n,function(f){return(isNaN(f)?0:f)/t*r*100}),o=100*r,a=Fe(i,function(f){return Math.floor(f)}),s=es(a,function(f,p){return f+p},0),l=Fe(i,function(f,p){return f-a[p]});s<o;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,h=l.length;d<h;++d)l[d]>c&&(c=l[d],u=d);++a[u],l[u]=0,++s}return Fe(a,function(f){return f/r})}function XPe(n,e){var t=Math.max(is(n),is(e)),r=n+e;return t>cK?r:bo(r,t)}var QPe=9007199254740991;function uO(n){var e=2*Math.PI;return(n%e+e)%e}function f_(n){return n>-lK&&n<lK}var ZPe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function zo(n){if(n instanceof Date)return n;if(we(n)){var e=ZPe.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function fK(n){return Math.pow(10,dO(n))}function dO(n){if(0===n)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function hO(n,e){var t=dO(n),r=Math.pow(10,t),i=n/r;return n=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,t>=-20?+n.toFixed(t<0?-t:0):n}function JPe(n,e){var t=(n.length-1)*e+1,r=Math.floor(t),i=+n[r-1],o=t-r;return o?i+o*(n[r]-i):i}function eke(n){n.sort(function(l,c){return s(l,c,0)?-1:1});for(var e=-1/0,t=1,r=0;r<n.length;){for(var i=n[r].interval,o=n[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-t),e=i[a],t=o[a];i[0]===i[1]&&o[0]*o[1]!=1?n.splice(r,1):r++}return n;function s(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]==(u?-1:1)||!u&&s(l,c,1))}}function Ks(n){var e=parseFloat(n);return e==n&&(0!==e||!we(n)||n.indexOf("x")<=0)?e:NaN}function pK(n){return!isNaN(Ks(n))}function mK(){return Math.round(9*Math.random())}function gK(n,e){return 0===e?n:gK(e,n%e)}function vK(n,e){return null==n?e:null==e?n:n*e/gK(n,e)}function _K(n,e,t){return(e-n)*t+n}var yK="series\0";function Gr(n){return n instanceof Array?n:null==n?[]:[n]}function fO(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var o=t[r];!n.emphasis[e].hasOwnProperty(o)&&n[e].hasOwnProperty(o)&&(n.emphasis[e][o]=n[e][o])}}}var wK=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function p_(n){return!Oe(n)||me(n)||n instanceof Date?n:n.value}function tke(n){return Oe(n)&&!(n instanceof Array)}function CK(n,e,t){var r=Da(e[n],null),i=Da(t[n],null);return null!=r&&null!=i&&r===i}function m_(n){return Da(n,"")}function Da(n,e){return null==n?e:we(n)?n:$t(n)||DE(n)?n+"":e}function pO(n){var e=n.name;return!(!e||!e.indexOf(yK))}function g_(n){return n&&null!=n.id&&0===m_(n.id).indexOf("\0_ec_\0")}function v_(n,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?me(e.dataIndex)?Fe(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):null!=e.name?me(e.name)?Fe(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function In(){var n="__ec_inner_"+dke++;return function(e){return e[n]||(e[n]={})}}var dke=mK();function mO(n,e,t){var r=gO(e,t),o=r.queryOptionMap,s=r.others,l=t?t.defaultMainType:null;return!r.mainTypeSpecified&&l&&o.set(l,{}),o.each(function(c,u){var d=__(n,u,c,{useDefault:l===u,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});s[u+"Models"]=d.models,s[u+"Model"]=d.models[0]}),s}function gO(n,e){var t;if(we(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=rt(),o={},a=!1;return L(t,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();!u||!d||e&&e.includeMainTypes&&Mt(e.includeMainTypes,u)<0||(a=a||!!u,(i.get(u)||i.set(u,{}))[d]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var sd={useDefault:!0,enableAll:!1,enableNone:!1};function __(n,e,t,r){r=r||sd;var i=t.index,o=t.id,a=t.name,s={models:null,specified:null!=i||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],s}return"none"===i||!1===i?(ts(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===i&&(ts(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=a=null),s.models=n.queryComponents({mainType:e,index:i,id:o,name:a}),s)}function EK(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}var ld="___EC__COMPONENT__CONTAINER___",TK="___EC__EXTENDED_CLASS___";function os(n){var e={main:"",sub:""};if(n){var t=n.split(".");e.main=t[0]||"",e.sub=t[1]||""}return e}function vO(n,e){n.$constructor=n,n.extend=function(t){var i,r=this;return function _ke(n){return Xe(n)&&/^class\s/.test(Function.prototype.toString.call(n))}(r)?i=function(o){function a(){return o.apply(this,arguments)||this}return Lt(a,o),a}(r):(i=function(){(t.$constructor||r).apply(this,arguments)},hk(i,this)),oe(i.prototype,t),i[TK]=!0,i.extend=this.extend,i.superCall=wke,i.superApply=Cke,i.superClass=r,i}}function IK(n,e){n.extend=e.extend}var yke=Math.round(10*Math.random());function wke(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function Cke(n,e,t){return this.superClass.prototype[e].apply(n,t)}function iT(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){(function gke(n){ts(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')})(i),r.prototype.type=i;var o=os(i);if(o.sub){if(o.sub!==ld){var a=function t(r){var i=e[r.main];return(!i||!i[ld])&&((i=e[r.main]={})[ld]=!0),i}(o);a[o.sub]=r}}else e[o.main]=r}return r},n.getClass=function(r,i,o){var a=e[r];if(a&&a[ld]&&(a=i?a[i]:null),o&&!a)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return a},n.getClassesByMainType=function(r){var i=os(r),o=[],a=e[i.main];return a&&a[ld]?L(a,function(s,l){l!==ld&&o.push(s)}):o.push(a),o},n.hasClass=function(r){var i=os(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return L(e,function(i,o){r.push(o)}),r},n.hasSubTypes=function(r){var i=os(r),o=e[i.main];return o&&o[ld]}}function y_(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(i&&Mt(i,l)>=0||o&&Mt(o,l)<0)){var c=r.getShallow(l,e);null!=c&&(a[n[s][0]]=c)}}return a}}var Tke=y_([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Ike=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return Tke(this,e,t)},n}(),_O=new o_(50);function Dke(n){if("string"==typeof n){var e=_O.get(n);return e&&e.image}return n}function DK(n,e,t,r,i){if(n){if("string"==typeof n){if(e&&e.__zrImageSrc===n||!t)return e;var o=_O.get(n),a={hostEl:t,cb:r,cbPayload:i};return o?!oT(e=o.image)&&o.pending.push(a):((e=Ws.loadImage(n,SK,SK)).__zrImageSrc=n,_O.put(n,e.__cachedImgObj={image:e,pending:[a]})),e}return n}return e}function SK(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function oT(n){return n&&n.width&&n.height}var yO=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ske(n,e,t,r,i){var o={};return xK(o,n,e,t,r,i),o.text}function xK(n,e,t,r,i,o){if(!t)return n.text="",void(n.isTruncated=!1);var a=(e+"").split("\n");o=AK(t,r,i,o);for(var s=!1,l={},c=0,u=a.length;c<u;c++)MK(l,a[c],o),a[c]=l.textLine,s=s||l.isTruncated;n.text=a.join("\n"),n.isTruncated=s}function AK(n,e,t,r){var i=oe({},r=r||{});i.font=e,t=qe(t,"..."),i.maxIterations=qe(r.maxIterations,2);var o=i.minChar=qe(r.minChar,0);i.cnCharWidth=yo("\u56fd",e);var a=i.ascCharWidth=yo("a",e);i.placeholder=qe(r.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var c=yo(t,e);return c>s&&(t="",c=0),s=n-c,i.ellipsis=t,i.ellipsisWidth=c,i.contentWidth=s,i.containerWidth=n,i}function MK(n,e,t){var r=t.containerWidth,i=t.font,o=t.contentWidth;if(!r)return n.textLine="",void(n.isTruncated=!1);var a=yo(e,i);if(a<=r)return n.textLine=e,void(n.isTruncated=!1);for(var s=0;;s++){if(a<=o||s>=t.maxIterations){e+=t.ellipsis;break}var l=0===s?xke(e,o,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(e.length*o/a):0;a=yo(e=e.substr(0,l),i)}""===e&&(e=t.placeholder),n.textLine=e,n.isTruncated=!0}function xke(n,e,t,r){for(var i=0,o=0,a=n.length;o<a&&i<e;o++){var s=n.charCodeAt(o);i+=0<=s&&s<=127?t:r}return o}var Mke=function(){return function n(){}}(),RK=function(){return function n(e){this.tokens=[],e&&(this.tokens=e)}}(),Rke=function(){return function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}}();function bO(n,e,t,r,i){var u,d,o=""===e,a=i&&t.rich[i]||{},s=n.lines,l=a.font||t.font,c=!1;if(r){var h=a.padding,f=h?h[1]+h[3]:0;if(null!=a.width&&"auto"!==a.width){var p=uc(a.width,r.width)+f;s.length>0&&p+r.accumWidth>r.width&&(u=e.split("\n"),c=!0),r.accumWidth=p}else{var g=PK(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+f,d=g.linesWidths,u=g.lines}}else u=e.split("\n");for(var v=0;v<u.length;v++){var _=u[v],y=new Mke;if(y.styleName=i,y.text=_,y.isLineHolder=!_&&!o,y.width="number"==typeof a.width?a.width:d?d[v]:yo(_,l),v||c)s.push(new RK([y]));else{var w=(s[s.length-1]||(s[0]=new RK)).tokens,I=w.length;1===I&&w[0].isLineHolder?w[0]=y:(_||!I||o)&&w.push(y)}}}var Oke=es(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function Nke(n){return!function kke(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}(n)||!!Oke[n]}function PK(n,e,t,r,i){for(var o=[],a=[],s="",l="",c=0,u=0,d=0;d<n.length;d++){var h=n.charAt(d);if("\n"!==h){var f=yo(h,e),p=!r&&!Nke(h);(o.length?u+f>t:i+u+f>t)?u?(s||l)&&(p?(s||(s=l,l="",u=c=0),o.push(s),a.push(u-c),l+=h,s="",u=c+=f):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=h,u=f)):p?(o.push(l),a.push(c),l=h,c=f):(o.push(h),a.push(f)):(u+=f,p?(l+=h,c+=f):(l&&(s+=l,l="",c=0),s+=h))}else l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0}return!o.length&&!s&&(s=n,l="",c=0),l&&(s+=l),s&&(o.push(s),a.push(u)),1===o.length&&(u+=i),{accumWidth:u,lines:o,linesWidths:a}}var wO="__zr_style_"+Math.round(10*Math.random()),cd={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},aT={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};cd[wO]=!0;var kK=["z","z2","invisible"],Fke=["invisible"],Lke=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype._init=function(t){for(var r=yn(t),i=0;i<r.length;i++){var o=r[i];"style"===o?this.useStyle(t[o]):n.prototype.attrKV.call(this,o,t[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,o){var a=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function Vke(n,e,t){return CO.copy(n.getBoundingRect()),n.transform&&CO.applyTransform(n.transform),EO.width=e,EO.height=t,!CO.intersect(EO)}(this,t,r)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths)for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1;if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r);return this.getBoundingRect().contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new bt(0,0,0,0)),r?bt.applyTransform(t,i,r):t.copy(i),(a||s||l)&&(t.width+=2*a+Math.abs(s),t.height+=2*a+Math.abs(l),t.x=Math.min(t.x,t.x+s-a),t.y=Math.min(t.y,t.y+l-a));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+2*c),t.height=Math.ceil(t.height+1+2*c))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new bt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){"style"!==t?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return"string"==typeof t?this.style[t]=r:oe(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return Qv(cd,t)},e.prototype.useStyle=function(t){t[wO]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[wO]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,kK)},e.prototype._applyStateObj=function(t,r,i,o,a,s){n.prototype._applyStateObj.call(this,t,r,i,o,a,s);var c,l=!(r&&o);if(r&&r.style?a?o?c=r.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,r.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(c,r.style)):l&&(c=i.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=yn(u),h=0;h<d.length;h++)(f=d[h])in c&&(c[f]=c[f],this.style[f]=u[f]);var p=yn(c);for(h=0;h<p.length;h++)this.style[f=p[h]]=this.style[f];this._transitionState(t,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);var g=this.__inHover?Fke:kK;for(h=0;h<g.length;h++){var f=g[h];r&&null!=r[f]?this[f]=r[f]:l&&null!=i[f]&&(this[f]=i[f])}},e.prototype._mergeStates=function(t){for(var i,r=n.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var a=t[o];a.style&&this._mergeStyle(i=i||{},a.style)}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return oe(t,r),t},e.prototype.getAnimationStyleProps=function(){return aT},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=2|vo}(),e}(iK),CO=new bt(0,0,0,0),EO=new bt(0,0,0,0);const b_=Lke;var qi=Math.min,Wi=Math.max,TO=Math.sin,IO=Math.cos,ud=2*Math.PI,sT=Qu(),lT=Qu(),cT=Qu();function OK(n,e,t,r,i,o){i[0]=qi(n,t),i[1]=qi(e,r),o[0]=Wi(n,t),o[1]=Wi(e,r)}var NK=[],FK=[];function Bke(n,e,t,r,i,o,a,s,l,c){var u=AY,d=Ar,h=u(n,t,i,a,NK);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var f=0;f<h;f++){var p=d(n,t,i,a,NK[f]);l[0]=qi(p,l[0]),c[0]=Wi(p,c[0])}for(h=u(e,r,o,s,FK),f=0;f<h;f++){var g=d(e,r,o,s,FK[f]);l[1]=qi(g,l[1]),c[1]=Wi(g,c[1])}l[0]=qi(n,l[0]),c[0]=Wi(n,c[0]),l[0]=qi(a,l[0]),c[0]=Wi(a,c[0]),l[1]=qi(e,l[1]),c[1]=Wi(e,c[1]),l[1]=qi(s,l[1]),c[1]=Wi(s,c[1])}function Uke(n,e,t,r,i,o,a,s){var l=PY,c=$r,u=Wi(qi(l(n,t,i),1),0),d=Wi(qi(l(e,r,o),1),0),h=c(n,t,i,u),f=c(e,r,o,d);a[0]=qi(n,i,h),a[1]=qi(e,o,f),s[0]=Wi(n,i,h),s[1]=Wi(e,o,f)}function zke(n,e,t,r,i,o,a,s,l){var c=nc,u=rc,d=Math.abs(i-o);if(d%ud<1e-4&&d>1e-4)return s[0]=n-t,s[1]=e-r,l[0]=n+t,void(l[1]=e+r);if(sT[0]=IO(i)*t+n,sT[1]=TO(i)*r+e,lT[0]=IO(o)*t+n,lT[1]=TO(o)*r+e,c(s,sT,lT),u(l,sT,lT),(i%=ud)<0&&(i+=ud),(o%=ud)<0&&(o+=ud),i>o&&!a?o+=ud:i<o&&a&&(i+=ud),a){var h=o;o=i,i=h}for(var f=0;f<o;f+=Math.PI/2)f>i&&(cT[0]=IO(f)*t+n,cT[1]=TO(f)*r+e,c(s,cT,s),u(l,cT,l))}var It={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},dd=[],hd=[],as=[],dc=[],ss=[],ls=[],DO=Math.min,SO=Math.max,fd=Math.cos,pd=Math.sin,Xs=Math.abs,xO=Math.PI,hc=2*xO,AO=typeof Float32Array<"u",w_=[];function MO(n){return Math.round(n/xO*1e8)/1e8%2*xO}function LK(n,e){var t=MO(n[0]);t<0&&(t+=hc);var i=n[1];i+=t-n[0],!e&&i-t>=hc?i=t+hc:e&&t-i>=hc?i=t-hc:!e&&t>i?i=t+(hc-MO(t-i)):e&&t<i&&(i=t-(hc-MO(i-t))),n[0]=t,n[1]=i}var Hke=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){(r=r||0)>0&&(this._ux=Xs(r/eT/e)||0,this._uy=Xs(r/eT/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(It.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=Xs(e-this._xi),i=Xs(t-this._yi),o=r>this._ux||i>this._uy;if(this.addData(It.L,e,t),this._ctx&&o&&this._ctx.lineTo(e,t),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var a=r*r+i*i;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,o,a){return this._drawPendingPt(),this.addData(It.C,e,t,r,i,o,a),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(It.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,o,a){return this._drawPendingPt(),w_[0]=i,w_[1]=o,LK(w_,a),this.addData(It.A,e,t,r,r,i=w_[0],(o=w_[1])-i,0,a?0:1),this._ctx&&this._ctx.arc(e,t,r,i,o,a),this._xi=fd(o)*r+e,this._yi=pd(o)*r+t,this},n.prototype.arcTo=function(e,t,r,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,o),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(It.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(It.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;(!this.data||this.data.length!==t)&&AO&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,o=0;o<t;o++)r+=e[o].len();for(AO&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r)),o=0;o<t;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},n.prototype.addData=function(e,t,r,i,o,a,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,AO&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){as[0]=as[1]=ss[0]=ss[1]=Number.MAX_VALUE,dc[0]=dc[1]=ls[0]=ls[1]=-Number.MAX_VALUE;var a,e=this.data,t=0,r=0,i=0,o=0;for(a=0;a<this._len;){var s=e[a++],l=1===a;switch(l&&(i=t=e[a],o=r=e[a+1]),s){case It.M:t=i=e[a++],r=o=e[a++],ss[0]=i,ss[1]=o,ls[0]=i,ls[1]=o;break;case It.L:OK(t,r,e[a],e[a+1],ss,ls),t=e[a++],r=e[a++];break;case It.C:Bke(t,r,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],ss,ls),t=e[a++],r=e[a++];break;case It.Q:Uke(t,r,e[a++],e[a++],e[a],e[a+1],ss,ls),t=e[a++],r=e[a++];break;case It.A:var c=e[a++],u=e[a++],d=e[a++],h=e[a++],f=e[a++],p=e[a++]+f;a+=1;var g=!e[a++];l&&(i=fd(f)*d+c,o=pd(f)*h+u),zke(c,u,d,h,f,p,g,ss,ls),t=fd(p)*d+c,r=pd(p)*h+u;break;case It.R:OK(i=t=e[a++],o=r=e[a++],i+e[a++],o+e[a++],ss,ls);break;case It.Z:t=i,r=o}nc(as,as,ss),rc(dc,dc,ls)}return 0===a&&(as[0]=as[1]=dc[0]=dc[1]=0),new bt(as[0],as[1],dc[0]-as[0],dc[1]-as[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,h=0;h<t;){var f=e[h++],p=1===h;p&&(s=o=e[h],l=a=e[h+1]);var g=-1;switch(f){case It.M:o=s=e[h++],a=l=e[h++];break;case It.L:var v=e[h++],w=(_=e[h++])-a;(Xs(y=v-o)>r||Xs(w)>i||h===t-1)&&(g=Math.sqrt(y*y+w*w),o=v,a=_);break;case It.C:var I=e[h++],M=e[h++],_=(v=e[h++],e[h++]),P=e[h++],T=e[h++];g=YRe(o,a,I,M,v,_,P,T,10),o=P,a=T;break;case It.Q:g=XRe(o,a,I=e[h++],M=e[h++],v=e[h++],_=e[h++],10),o=v,a=_;break;case It.A:var E=e[h++],D=e[h++],S=e[h++],x=e[h++],N=e[h++],R=e[h++],q=R+N;h+=1,p&&(s=fd(N)*S+E,l=pd(N)*x+D),g=SO(S,x)*DO(hc,Math.abs(R)),o=fd(q)*S+E,a=pd(q)*x+D;break;case It.R:s=o=e[h++],l=a=e[h++],g=2*e[h++]+2*e[h++];break;case It.Z:var y=s-o;w=l-a,g=Math.sqrt(y*y+w*w),o=s,a=l}g>=0&&(c[d++]=g,u+=g)}return this._pathLen=u,u},n.prototype.rebuildPath=function(e,t){var s,l,c,u,d,h,p,y,I,M,r=this.data,i=this._ux,o=this._uy,a=this._len,f=t<1,v=0,_=0,w=0;if(!f||(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,y=t*this._pathLen))e:for(var P=0;P<a;){var T=r[P++],E=1===P;switch(E&&(s=c=r[P],l=u=r[P+1]),T!==It.L&&w>0&&(e.lineTo(I,M),w=0),T){case It.M:s=c=r[P++],l=u=r[P++],e.moveTo(c,u);break;case It.L:d=r[P++],h=r[P++];var D=Xs(d-c),S=Xs(h-u);if(D>i||S>o){if(f){if(v+(x=p[_++])>y){e.lineTo(c*(1-(N=(y-v)/x))+d*N,u*(1-N)+h*N);break e}v+=x}e.lineTo(d,h),c=d,u=h,w=0}else{var R=D*D+S*S;R>w&&(I=d,M=h,w=R)}break;case It.C:var q=r[P++],ee=r[P++],re=r[P++],ve=r[P++],pe=r[P++],de=r[P++];if(f){if(v+(x=p[_++])>y){jE(c,q,re,pe,N=(y-v)/x,dd),jE(u,ee,ve,de,N,hd),e.bezierCurveTo(dd[1],hd[1],dd[2],hd[2],dd[3],hd[3]);break e}v+=x}e.bezierCurveTo(q,ee,re,ve,pe,de),c=pe,u=de;break;case It.Q:if(q=r[P++],ee=r[P++],re=r[P++],ve=r[P++],f){if(v+(x=p[_++])>y){$E(c,q,re,N=(y-v)/x,dd),$E(u,ee,ve,N,hd),e.quadraticCurveTo(dd[1],hd[1],dd[2],hd[2]);break e}v+=x}e.quadraticCurveTo(q,ee,re,ve),c=re,u=ve;break;case It.A:var Ee=r[P++],ze=r[P++],Ce=r[P++],Qe=r[P++],ir=r[P++],mr=r[P++],ta=r[P++],Tr=!r[P++],Ri=Ce>Qe?Ce:Qe,gr=Xs(Ce-Qe)>.001,an=ir+mr,Le=!1;if(f&&(v+(x=p[_++])>y&&(an=ir+mr*(y-v)/x,Le=!0),v+=x),gr&&e.ellipse?e.ellipse(Ee,ze,Ce,Qe,ta,ir,an,Tr):e.arc(Ee,ze,Ri,ir,an,Tr),Le)break e;E&&(s=fd(ir)*Ce+Ee,l=pd(ir)*Qe+ze),c=fd(an)*Ce+Ee,u=pd(an)*Qe+ze;break;case It.R:s=c=r[P],l=u=r[P+1],d=r[P++],h=r[P++];var Ze=r[P++],to=r[P++];if(f){if(v+(x=p[_++])>y){var Un=y-v;e.moveTo(d,h),e.lineTo(d+DO(Un,Ze),h),(Un-=Ze)>0&&e.lineTo(d+Ze,h+DO(Un,to)),(Un-=to)>0&&e.lineTo(d+SO(Ze-Un,0),h+to),(Un-=Ze)>0&&e.lineTo(d,h+SO(to-Un,0));break e}v+=x}e.rect(d,h,Ze,to);break;case It.Z:if(f){var x;if(v+(x=p[_++])>y){var N;e.lineTo(c*(1-(N=(y-v)/x))+s*N,u*(1-N)+l*N);break e}v+=x}e.closePath(),c=s,u=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=It,n.initDefaultProps=((e=n.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),n;var e}();const md=Hke;function up(n,e,t,r,i,o,a){if(0===i)return!1;var l,s=i;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>n+s&&o>t+s||o<n-s&&o<t-s)return!1;if(n===t)return Math.abs(o-n)<=s/2;var u=(l=(e-r)/(n-t))*o-a+(n*r-t*e)/(n-t);return u*u/(l*l+1)<=s/2*s/2}function jke(n,e,t,r,i,o,a,s,l,c,u){if(0===l)return!1;var d=l;return!(u>e+d&&u>r+d&&u>o+d&&u>s+d||u<e-d&&u<r-d&&u<o-d&&u<s-d||c>n+d&&c>t+d&&c>i+d&&c>a+d||c<n-d&&c<t-d&&c<i-d&&c<a-d)&&MY(n,e,t,r,i,o,a,s,c,u,null)<=d/2}function $ke(n,e,t,r,i,o,a,s,l){if(0===a)return!1;var c=a;return!(l>e+c&&l>r+c&&l>o+c||l<e-c&&l<r-c&&l<o-c||s>n+c&&s>t+c&&s>i+c||s<n-c&&s<t-c&&s<i-c)&&kY(n,e,t,r,i,o,s,l,null)<=c/2}var VK=2*Math.PI;function Qs(n){return(n%=VK)<0&&(n+=VK),n}var C_=2*Math.PI;function Gke(n,e,t,r,i,o,a,s,l){if(0===a)return!1;var c=a;s-=n,l-=e;var u=Math.sqrt(s*s+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(r-i)%C_<1e-4)return!0;if(o){var d=r;r=Qs(i),i=Qs(d)}else r=Qs(r),i=Qs(i);r>i&&(i+=C_);var h=Math.atan2(l,s);return h<0&&(h+=C_),h>=r&&h<=i||h+C_>=r&&h+C_<=i}function Zs(n,e,t,r,i,o){if(o>e&&o>r||o<e&&o<r||r===e)return 0;var a=(o-e)/(r-e),s=r<e?1:-1;(1===a||0===a)&&(s=r<e?.5:-.5);var l=a*(t-n)+n;return l===i?1/0:l>i?s:0}var fc=md.CMD,gd=2*Math.PI,bi=[-1,-1,-1],Ho=[-1,-1];function Yke(){var n=Ho[0];Ho[0]=Ho[1],Ho[1]=n}function Kke(n,e,t,r,i,o,a,s,l,c){if(c>e&&c>r&&c>o&&c>s||c<e&&c<r&&c<o&&c<s)return 0;var u=xY(e,r,o,s,c,bi);if(0===u)return 0;for(var d=0,h=-1,f=void 0,p=void 0,g=0;g<u;g++){var v=bi[g],_=0===v||1===v?.5:1;Ar(n,t,i,a,v)<l||(h<0&&(h=AY(e,r,o,s,Ho),Ho[1]<Ho[0]&&h>1&&Yke(),f=Ar(e,r,o,s,Ho[0]),h>1&&(p=Ar(e,r,o,s,Ho[1]))),d+=2===h?v<Ho[0]?f<e?_:-_:v<Ho[1]?p<f?_:-_:s<p?_:-_:v<Ho[0]?f<e?_:-_:s<f?_:-_)}return d}function Xke(n,e,t,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var l=function KRe(n,e,t,r,i){var o=n-2*e+t,a=2*(e-n),s=n-r,l=0;if(sc(o))DY(a)&&(c=-s/a)>=0&&c<=1&&(i[l++]=c);else{var u=a*a-4*o*s;if(sc(u))(c=-a/(2*o))>=0&&c<=1&&(i[l++]=c);else if(u>0){var c,d=ac(u),h=(-a-d)/(2*o);(c=(-a+d)/(2*o))>=0&&c<=1&&(i[l++]=c),h>=0&&h<=1&&(i[l++]=h)}}return l}(e,r,o,s,bi);if(0===l)return 0;var c=PY(e,r,o);if(c>=0&&c<=1){for(var u=0,d=$r(e,r,o,c),h=0;h<l;h++){var f=0===bi[h]||1===bi[h]?.5:1;$r(n,t,i,bi[h])<a||(u+=bi[h]<c?d<e?f:-f:o<d?f:-f)}return u}return f=0===bi[0]||1===bi[0]?.5:1,$r(n,t,i,bi[0])<a?0:o<e?f:-f}function Qke(n,e,t,r,i,o,a,s){if((s-=e)>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);bi[0]=-l,bi[1]=l;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=gd-1e-4){r=0,i=gd;var u=o?1:-1;return a>=bi[0]+n&&a<=bi[1]+n?u:0}if(r>i){var d=r;r=i,i=d}r<0&&(r+=gd,i+=gd);for(var h=0,f=0;f<2;f++){var p=bi[f];if(p+n>a){var g=Math.atan2(s,p);u=o?1:-1,g<0&&(g=gd+g),(g>=r&&g<=i||g+gd>=r&&g+gd<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),h+=u)}}return h}function BK(n,e,t,r,i){for(var h,f,o=n.data,a=n.len(),s=0,l=0,c=0,u=0,d=0,p=0;p<a;){var g=o[p++],v=1===p;switch(g===fc.M&&p>1&&(t||(s+=Zs(l,c,u,d,r,i))),v&&(u=l=o[p],d=c=o[p+1]),g){case fc.M:l=u=o[p++],c=d=o[p++];break;case fc.L:if(t){if(up(l,c,o[p],o[p+1],e,r,i))return!0}else s+=Zs(l,c,o[p],o[p+1],r,i)||0;l=o[p++],c=o[p++];break;case fc.C:if(t){if(jke(l,c,o[p++],o[p++],o[p++],o[p++],o[p],o[p+1],e,r,i))return!0}else s+=Kke(l,c,o[p++],o[p++],o[p++],o[p++],o[p],o[p+1],r,i)||0;l=o[p++],c=o[p++];break;case fc.Q:if(t){if($ke(l,c,o[p++],o[p++],o[p],o[p+1],e,r,i))return!0}else s+=Xke(l,c,o[p++],o[p++],o[p],o[p+1],r,i)||0;l=o[p++],c=o[p++];break;case fc.A:var _=o[p++],y=o[p++],w=o[p++],I=o[p++],M=o[p++],P=o[p++];p+=1;var T=!!(1-o[p++]);h=Math.cos(M)*w+_,f=Math.sin(M)*I+y,v?(u=h,d=f):s+=Zs(l,c,h,f,r,i);var E=(r-_)*I/w+_;if(t){if(Gke(_,y,I,M,M+P,T,e,E,i))return!0}else s+=Qke(_,y,I,M,M+P,T,E,i);l=Math.cos(M+P)*w+_,c=Math.sin(M+P)*I+y;break;case fc.R:if(u=l=o[p++],d=c=o[p++],h=u+o[p++],f=d+o[p++],t){if(up(u,d,h,d,e,r,i)||up(h,d,h,f,e,r,i)||up(h,f,u,f,e,r,i)||up(u,f,u,d,e,r,i))return!0}else s+=Zs(h,d,h,f,r,i),s+=Zs(u,f,u,d,r,i);break;case fc.Z:if(t){if(up(l,c,u,d,e,r,i))return!0}else s+=Zs(l,c,u,d,r,i);l=u,c=d}}return!t&&!function Wke(n,e){return Math.abs(n-e)<1e-4}(c,d)&&(s+=Zs(l,c,u,d,r,i)||0),0!==s}var UK=tn({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},cd),eOe={style:tn({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},aT.style)},RO=d_.concat(["invisible","culling","z","z2","zlevel","parent"]),tOe=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<RO.length;++s)i[RO[s]]=this[RO[s]];i.__dirty|=vo}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=yn(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<r.length;o++){var a=r[o],s=t[a];"style"===a?this.style?oe(this.style,s):this.useStyle(s):"shape"===a?oe(this.shape,s):n.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(we(t)){var r=s_(t,0);return r>.5?Qk:r>.2?"#eee":Zk}if(t)return Zk}return Qk},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(we(r)){var i=this.__zr;if(!(!i||!i.isDarkMode())==s_(t,0)<.4)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~rp},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new md(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(null==r||"none"===r||!(t.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&rp)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),t=a.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){s.copy(t);var l=r.strokeNoScale?this.getLineScale():1,c=r.lineWidth;this.hasFill()||(c=Math.max(c,this.strokeContainThreshold??4)),l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),o=this.getBoundingRect(),a=this.style;if(o.contain(t=i[0],r=i[1])){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),function Jke(n,e,t,r){return BK(n,e,!0,t,r)}(s,l/c,t,r)))return!0}if(this.hasFill())return function Zke(n,e,t){return BK(n,0,!1,e,t)}(s,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=rp,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){"shape"===t?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),"string"==typeof t?i[t]=r:oe(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&rp)},e.prototype.createStyle=function(t){return Qv(UK,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=oe({},this.shape))},e.prototype._applyStateObj=function(t,r,i,o,a,s){n.prototype._applyStateObj.call(this,t,r,i,o,a,s);var c,l=!(r&&o);if(r&&r.shape?a?o?c=r.shape:(c=oe({},i.shape),oe(c,r.shape)):(c=oe({},o?this.shape:i.shape),oe(c,r.shape)):l&&(c=i.shape),c)if(a){this.shape=oe({},this.shape);for(var u={},d=yn(c),h=0;h<d.length;h++){var f=d[h];"object"==typeof c[f]?this.shape[f]=c[f]:u[f]=c[f]}this._transitionState(t,{shape:u},s)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var i,r=n.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var a=t[o];a.shape&&this._mergeStyle(i=i||{},a.shape)}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return eOe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(o){function a(s){var l=o.call(this,s)||this;return t.init&&t.init.call(l,s),l}return Vt(a,o),a.prototype.getDefaultStyle=function(){return lt(t.style)},a.prototype.getDefaultShape=function(){return lt(t.shape)},a}(e);for(var i in t)"function"==typeof t[i]&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=2|vo|rp}(),e}(b_);const rn=tOe;var nOe=tn({strokeFirst:!0,font:Xu,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},UK),zK=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return null!=r&&"none"!==r&&t.lineWidth>0},e.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},e.prototype.createStyle=function(t){return Qv(nOe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;null!=r?r+="":r="";var i=tO(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(b_);zK.prototype.type="tspan";const PO=zK;var rOe=tn({x:0,y:0},cd),iOe={style:tn({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},aT.style)},HK=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.createStyle=function(t){return Qv(rOe,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(null!=i)return i;var o=function oOe(n){return!!(n&&"string"!=typeof n&&n.width&&n.height)}(r.image)?r.image:this.__image;if(!o)return 0;var a="width"===t?"height":"width",s=r[a];return null==s?o[t]:o[t]/o[a]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return iOe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new bt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(b_);HK.prototype.type="image";const vd=HK;var dp=Math.round;function jK(n,e,t){if(e){var r=e.x1,i=e.x2,o=e.y1,a=e.y2;n.x1=r,n.x2=i,n.y1=o,n.y2=a;var s=t&&t.lineWidth;return s&&(dp(2*r)===dp(2*i)&&(n.x1=n.x2=_d(r,s,!0)),dp(2*o)===dp(2*a)&&(n.y1=n.y2=_d(o,s,!0))),n}}function $K(n,e,t){if(e){var r=e.x,i=e.y,o=e.width,a=e.height;n.x=r,n.y=i,n.width=o,n.height=a;var s=t&&t.lineWidth;return s&&(n.x=_d(r,s,!0),n.y=_d(i,s,!0),n.width=Math.max(_d(r+o,s,!1)-n.x,0===o?0:1),n.height=Math.max(_d(i+a,s,!1)-n.y,0===a?0:1)),n}}function _d(n,e,t){if(!e)return n;var r=dp(2*n);return(r+dp(e))%2==0?r/2:(r+(t?1:-1))/2}var sOe=function(){return function n(){this.x=0,this.y=0,this.width=0,this.height=0}}(),lOe={},GK=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultShape=function(){return new sOe},e.prototype.buildPath=function(t,r){var i,o,a,s;if(this.subPixelOptimize){var l=$K(lOe,r,this.style);i=l.x,o=l.y,a=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,o=r.y,a=r.width,s=r.height;r.r?function aOe(n,e){var s,l,c,u,d,t=e.x,r=e.y,i=e.width,o=e.height,a=e.r;i<0&&(t+=i,i=-i),o<0&&(r+=o,o=-o),"number"==typeof a?s=l=c=u=a:a instanceof Array?1===a.length?s=l=c=u=a[0]:2===a.length?(s=c=a[0],l=u=a[1]):3===a.length?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=0,s+l>i&&(s*=i/(d=s+l),l*=i/d),c+u>i&&(c*=i/(d=c+u),u*=i/d),l+c>o&&(l*=o/(d=l+c),c*=o/d),s+u>o&&(s*=o/(d=s+u),u*=o/d),n.moveTo(t+s,r),n.lineTo(t+i-l,r),0!==l&&n.arc(t+i-l,r+l,l,-Math.PI/2,0),n.lineTo(t+i,r+o-c),0!==c&&n.arc(t+i-c,r+o-c,c,0,Math.PI/2),n.lineTo(t+u,r+o),0!==u&&n.arc(t+u,r+o-u,u,Math.PI/2,Math.PI),n.lineTo(t,r+s),0!==s&&n.arc(t+s,r+s,s,Math.PI,1.5*Math.PI)}(t,r):t.rect(i,o,a,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(rn);GK.prototype.type="rect";const wi=GK;var qK={fill:"#000"},cOe={style:tn({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},aT.style)},YK=function(n){function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=qK,r.attr(t),r}return Vt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,function pOe(n){QK(n),L(n.rich,QK)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new bt(0,0,0,0),r=this._children,i=[],o=null,a=0;a<r.length;a++){var s=r[a],l=s.getBoundingRect(),c=s.getLocalTransform(i);c?(t.copy(l),t.applyTransform(c),(o=o||t.clone()).union(t)):(o=o||l.clone()).union(l)}this._rect=o||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||qK},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,o=t.rich||i&&{};return oe(t,r),i&&o?(this._mergeRich(o,i),t.rich=o):o&&(t.rich=o),t},e.prototype._mergeRich=function(t,r){for(var i=yn(r),o=0;o<i.length;o++){var a=i[o];t[a]=t[a]||{},oe(t[a],r[a])}},e.prototype.getAnimationStyleProps=function(){return cOe},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||Xu,i=t.padding,a=function Ake(n,e){null!=n&&(n+="");var h,t=e.overflow,r=e.padding,i=e.font,o="truncate"===t,a=nO(i),s=qe(e.lineHeight,a),l=!!e.backgroundColor,c="truncate"===e.lineOverflow,u=!1,d=e.width,f=(h=null==d||"break"!==t&&"breakAll"!==t?n?n.split("\n"):[]:n?PK(n,e.font,d,"breakAll"===t,0).lines:[]).length*s,p=qe(e.height,f);if(f>p&&c){var g=Math.floor(p/s);u=u||h.length>g,h=h.slice(0,g)}if(n&&o&&null!=d)for(var v=AK(d,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),_={},y=0;y<h.length;y++)MK(_,h[y],v),h[y]=_.textLine,u=u||_.isTruncated;var w=p,I=0;for(y=0;y<h.length;y++)I=Math.max(yo(h[y],i),I);null==d&&(d=I);var M=I;return r&&(w+=r[0]+r[2],M+=r[1]+r[3],d+=r[1]+r[3]),l&&(M=d),{lines:h,height:p,outerWidth:M,outerHeight:w,lineHeight:s,calculatedLineHeight:a,contentWidth:I,contentHeight:f,width:d,isTruncated:u}}(tX(t),t),s=kO(t),l=!!t.backgroundColor,c=a.outerHeight,u=a.outerWidth,d=a.contentWidth,h=a.lines,f=a.lineHeight,p=this._defaultStyle;this.isTruncated=!!a.isTruncated;var g=t.x||0,v=t.y||0,_=t.align||p.align||"left",y=t.verticalAlign||p.verticalAlign||"top",w=g,I=lp(v,a.contentHeight,y);if(s||i){var M=h_(g,u,_),P=lp(v,c,y);s&&this._renderBackground(t,t,M,P,u,c)}I+=f/2,i&&(w=eX(g,_,i),"top"===y?I+=i[0]:"bottom"===y&&(I-=i[2]));for(var T=0,E=!1,D=(JK("fill"in t?t.fill:(E=!0,p.fill))),S=(ZK("stroke"in t?t.stroke:l||p.autoStroke&&!E?null:(T=2,p.stroke))),x=t.textShadowBlur>0,N=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),R=a.calculatedLineHeight,q=0;q<h.length;q++){var ee=this._getOrCreateChild(PO),re=ee.createStyle();ee.useStyle(re),re.text=h[q],re.x=w,re.y=I,_&&(re.textAlign=_),re.textBaseline="middle",re.opacity=t.opacity,re.strokeFirst=!0,x&&(re.shadowBlur=t.textShadowBlur||0,re.shadowColor=t.textShadowColor||"transparent",re.shadowOffsetX=t.textShadowOffsetX||0,re.shadowOffsetY=t.textShadowOffsetY||0),re.stroke=S,re.fill=D,S&&(re.lineWidth=t.lineWidth||T,re.lineDash=t.lineDash,re.lineDashOffset=t.lineDashOffset||0),re.font=r,XK(re,t),I+=f,N&&ee.setBoundingRect(new bt(h_(re.x,d,re.textAlign),lp(re.y,R,re.textBaseline),d,R))}},e.prototype._updateRichTexts=function(){var t=this.style,i=function Pke(n,e){var t=new Rke;if(null!=n&&(n+=""),!n)return t;for(var l,r=e.width,i=e.height,o=e.overflow,a="break"!==o&&"breakAll"!==o||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===o},s=yO.lastIndex=0;null!=(l=yO.exec(n));){var c=l.index;c>s&&bO(t,n.substring(s,c),e,a),bO(t,l[2],e,a,l[1]),s=yO.lastIndex}s<n.length&&bO(t,n.substring(s,n.length),e,a);var u=[],d=0,h=0,f=e.padding,p="truncate"===o,g="truncate"===e.lineOverflow,v={};function _(Ee,ze,Ce){Ee.width=ze,Ee.lineHeight=Ce,d+=Ce,h=Math.max(h,ze)}e:for(var y=0;y<t.lines.length;y++){for(var w=t.lines[y],I=0,M=0,P=0;P<w.tokens.length;P++){var E=(T=w.tokens[P]).styleName&&e.rich[T.styleName]||{},D=T.textPadding=E.padding,S=D?D[1]+D[3]:0,x=T.font=E.font||e.font;T.contentHeight=nO(x);var N=qe(E.height,T.contentHeight);if(T.innerHeight=N,D&&(N+=D[0]+D[2]),T.height=N,T.lineHeight=ep(E.lineHeight,e.lineHeight,N),T.align=E&&E.align||e.align,T.verticalAlign=E&&E.verticalAlign||"middle",g&&null!=i&&d+T.lineHeight>i){var R=t.lines.length;P>0?(w.tokens=w.tokens.slice(0,P),_(w,M,I),t.lines=t.lines.slice(0,y+1)):t.lines=t.lines.slice(0,y),t.isTruncated=t.isTruncated||t.lines.length<R;break e}var q=E.width,ee=null==q||"auto"===q;if("string"==typeof q&&"%"===q.charAt(q.length-1))T.percentWidth=q,u.push(T),T.contentWidth=yo(T.text,x);else{if(ee){var re=E.backgroundColor,ve=re&&re.image;ve&&oT(ve=Dke(ve))&&(T.width=Math.max(T.width,ve.width*N/ve.height))}var pe=p&&null!=r?r-M:null;null!=pe&&pe<T.width?!ee||pe<S?(T.text="",T.width=T.contentWidth=0):(xK(v,T.text,pe-S,x,e.ellipsis,{minChar:e.truncateMinChar}),T.text=v.text,t.isTruncated=t.isTruncated||v.isTruncated,T.width=T.contentWidth=yo(T.text,x)):T.contentWidth=yo(T.text,x)}T.width+=S,M+=T.width,E&&(I=Math.max(I,T.lineHeight))}_(w,M,I)}for(t.outerWidth=t.width=qe(r,h),t.outerHeight=t.height=qe(i,d),t.contentHeight=d,t.contentWidth=h,f&&(t.outerWidth+=f[1]+f[3],t.outerHeight+=f[0]+f[2]),y=0;y<u.length;y++){var T;(T=u[y]).width=parseInt(T.percentWidth,10)/100*t.width}return t}(tX(t),t),o=i.width,a=i.outerWidth,s=i.outerHeight,l=t.padding,c=t.x||0,u=t.y||0,d=this._defaultStyle,h=t.align||d.align,f=t.verticalAlign||d.verticalAlign;this.isTruncated=!!i.isTruncated;var p=h_(c,a,h),g=lp(u,s,f),v=p,_=g;l&&(v+=l[3],_+=l[0]);var y=v+o;kO(t)&&this._renderBackground(t,t,p,g,a,s);for(var w=!!t.backgroundColor,I=0;I<i.lines.length;I++){for(var M=i.lines[I],P=M.tokens,T=P.length,E=M.lineHeight,D=M.width,S=0,x=v,N=y,R=T-1,q=void 0;S<T&&(!(q=P[S]).align||"left"===q.align);)this._placeToken(q,t,E,_,x,"left",w),D-=q.width,x+=q.width,S++;for(;R>=0&&"right"===(q=P[R]).align;)this._placeToken(q,t,E,_,N,"right",w),D-=q.width,N-=q.width,R--;for(x+=(o-(x-v)-(y-N)-D)/2;S<=R;)this._placeToken(q=P[S],t,E,_,x+q.width/2,"center",w),x+=q.width,S++;_+=E}},e.prototype._placeToken=function(t,r,i,o,a,s,l){var c=r.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,d=o+i/2;"top"===u?d=o+t.height/2:"bottom"===u&&(d=o+i-t.height/2),!t.isLineHolder&&kO(c)&&this._renderBackground(c,r,"right"===s?a-t.width:"center"===s?a-t.width/2:a,d-t.height/2,t.width,t.height);var f=!!c.backgroundColor,p=t.textPadding;p&&(a=eX(a,s,p),d-=t.height/2-p[0]-t.innerHeight/2);var g=this._getOrCreateChild(PO),v=g.createStyle();g.useStyle(v);var _=this._defaultStyle,y=!1,w=0,I=JK("fill"in c?c.fill:"fill"in r?r.fill:(y=!0,_.fill)),M=ZK("stroke"in c?c.stroke:"stroke"in r?r.stroke:f||l||_.autoStroke&&!y?null:(w=2,_.stroke)),P=c.textShadowBlur>0||r.textShadowBlur>0;v.text=t.text,v.x=a,v.y=d,P&&(v.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,v.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",v.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,v.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),v.textAlign=s,v.textBaseline="middle",v.font=t.font||Xu,v.opacity=ep(c.opacity,r.opacity,1),XK(v,c),M&&(v.lineWidth=ep(c.lineWidth,r.lineWidth,w),v.lineDash=qe(c.lineDash,r.lineDash),v.lineDashOffset=r.lineDashOffset||0,v.stroke=M),I&&(v.fill=I);var T=t.contentWidth,E=t.contentHeight;g.setBoundingRect(new bt(h_(v.x,T,v.textAlign),lp(v.y,E,v.textBaseline),T,E))},e.prototype._renderBackground=function(t,r,i,o,a,s){var g,v,y,l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,d=l&&l.image,h=l&&!d,f=t.borderRadius,p=this;if(h||t.lineHeight||c&&u){(g=this._getOrCreateChild(wi)).useStyle(g.createStyle()),g.style.fill=null;var _=g.shape;_.x=i,_.y=o,_.width=a,_.height=s,_.r=f,g.dirtyShape()}if(h)(y=g.style).fill=l||null,y.fillOpacity=qe(t.fillOpacity,1);else if(d){(v=this._getOrCreateChild(vd)).onload=function(){p.dirtyStyle()};var w=v.style;w.image=l.image,w.x=i,w.y=o,w.width=a,w.height=s}c&&u&&((y=g.style).lineWidth=c,y.stroke=u,y.strokeOpacity=qe(t.strokeOpacity,1),y.lineDash=t.borderDash,y.lineDashOffset=t.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2));var I=(g||v).style;I.shadowBlur=t.shadowBlur||0,I.shadowColor=t.shadowColor||"transparent",I.shadowOffsetX=t.shadowOffsetX||0,I.shadowOffsetY=t.shadowOffsetY||0,I.opacity=ep(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return function fOe(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}(t)&&(r=[t.fontStyle,t.fontWeight,hOe(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&Ca(r)||t.textFont||t.font},e}(b_),uOe={left:!0,right:1,center:1},dOe={top:1,bottom:1,middle:1},KK=["fontStyle","fontWeight","fontSize","fontFamily"];function hOe(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?"12px":n+"px":n}function XK(n,e){for(var t=0;t<KK.length;t++){var r=KK[t],i=e[r];null!=i&&(n[r]=i)}}function QK(n){if(n){n.font=YK.makeFont(n);var e=n.align;"middle"===e&&(e="center"),n.align=null==e||uOe[e]?e:"left";var t=n.verticalAlign;"center"===t&&(t="middle"),n.verticalAlign=null==t||dOe[t]?t:"top",n.padding&&(n.padding=pk(n.padding))}}function ZK(n,e){return null==n||e<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function JK(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function eX(n,e,t){return"right"===e?n-t[1]:"center"===e?n+t[3]/2-t[1]/2:n+t[3]}function tX(n){var e=n.text;return null!=e&&(e+=""),e}function kO(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const Mr=YK;var Dt=In(),nX=1,rX={},iX=In(),OO=In(),cs=["emphasis","blur","select"],hT=["normal","emphasis","blur","select"],gOe=10,vOe=9,yd="highlight",fT="downplay",E_="select",pT="unselect",T_="toggleSelect";function hp(n){return null!=n&&"none"!==n}function mT(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function oX(n){mT(n,"emphasis",2)}function aX(n){2===n.hoverState&&mT(n,"normal",0)}function FO(n){mT(n,"blur",1)}function sX(n){1===n.hoverState&&mT(n,"normal",0)}function _Oe(n){n.selected=!0}function yOe(n){n.selected=!1}function lX(n,e,t){e(n,t)}function Js(n,e,t){lX(n,e,t),n.isGroup&&n.traverse(function(r){lX(r,e,t)})}function LO(n,e){var t=this.states[n];if(this.style){if("emphasis"===n)return function wOe(n,e,t,r){var i=t&&Mt(t,"select")>=0,o=!1;if(n instanceof rn){var a=iX(n),s=i&&a.selectFill||a.normalFill,l=i&&a.selectStroke||a.normalStroke;if(hp(s)||hp(l)){var c=(r=r||{}).style||{};"inherit"===c.fill?(o=!0,r=oe({},r),(c=oe({},c)).fill=s):!hp(c.fill)&&hp(s)?(o=!0,r=oe({},r),(c=oe({},c)).fill=Vk(s)):!hp(c.stroke)&&hp(l)&&(o||(r=oe({},r),c=oe({},c)),c.stroke=Vk(l)),r.style=c}}return r&&null==r.z2&&(o||(r=oe({},r)),r.z2=n.z2+(n.z2EmphasisLift??gOe)),r}(this,0,e,t);if("blur"===n)return function EOe(n,e,t){var r=Mt(n.currentStates,e)>=0,i=n.style.opacity,o=r?null:function bOe(n,e,t,r){for(var i=n.style,o={},a=0;a<e.length;a++){var s=e[a];o[s]=i[s]??(r&&r[s])}for(a=0;a<n.animators.length;a++){var c=n.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&"style"===c.targetName&&c.saveTo(o,e)}return o}(n,["opacity"],e,{opacity:1}),a=(t=t||{}).style||{};return null==a.opacity&&(t=oe({},t),a=oe({opacity:r?i:.1*o.opacity},a),t.style=a),t}(this,n,t);if("select"===n)return function COe(n,e,t){return t&&null==t.z2&&((t=oe({},t)).z2=n.z2+(n.z2SelectLift??vOe)),t}(this,0,t)}return t}function TOe(n){n.stateProxy=LO;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=LO),t&&(t.stateProxy=LO)}function cX(n,e){!pX(n,e)&&!n.__highByOuter&&Js(n,oX)}function uX(n,e){!pX(n,e)&&!n.__highByOuter&&Js(n,aX)}function VO(n,e){n.__highByOuter|=1<<(e||0),Js(n,oX)}function BO(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Js(n,aX)}function dX(n){Js(n,sX)}function hX(n){Js(n,_Oe)}function fX(n){Js(n,yOe)}function pX(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function mX(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,o){var a=OO(o),s="series"===i,l=s?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!s&&r.push(l),a.isBlured&&(l.group.traverse(function(c){sX(c)}),s&&t.push(o)),a.isBlured=!1}),L(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function UO(n,e,t,r){var i=r.getModel();function o(c,u){for(var d=0;d<u.length;d++){var h=c.getItemGraphicEl(u[d]);h&&dX(h)}}if(t=t||"coordinateSystem",null!=n&&e&&"none"!==e){var a=i.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(c){var u=a===c,d=c.coordinateSystem;if(d&&d.master&&(d=d.master),!("series"===t&&!u||"coordinateSystem"===t&&!(d&&s?d===s:u)||"series"===e&&u)){if(r.getViewOfSeriesModel(c).group.traverse(function(v){v.__highByOuter&&u&&"self"===e||FO(v)}),gi(e))o(c.getData(),e);else if(Oe(e))for(var p=yn(e),g=0;g<p.length;g++)o(c.getData(p[g]),e[p[g]]);l.push(c),OO(c).isBlured=!0}}),i.eachComponent(function(c,u){if("series"!==c){var d=r.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,i)}})}}function zO(n,e,t){if(null!=n&&null!=e){var r=t.getModel().getComponent(n,e);if(r){OO(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(o){FO(o)})}}}function HO(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==e||null==t)return i;var o=r.getModel().getComponent(n,e);if(!o)return i;var a=r.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return i;for(var l,s=a.findHighDownDispatchers(t),c=0;c<s.length;c++)if("self"===Dt(s[c]).focus){l=!0;break}return{focusSelf:l,dispatchers:s}}function gX(n){L(n.getAllData(),function(t){var i=t.type;t.data.eachItemGraphicEl(function(o,a){n.isSelected(a,i)?hX(o):fX(o)})})}function MOe(n){var e=[];return n.eachSeries(function(t){L(t.getAllData(),function(i){var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:t.seriesIndex};null!=a&&(l.dataType=a),e.push(l)}})}),e}function gT(n,e,t){_X(n,!0),Js(n,TOe),function kOe(n,e,t){var r=Dt(n);null!=e?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}(n,e,t)}var vX=["emphasis","blur","select"],OOe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function _X(n,e){var t=!1===e,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function jO(n){return!(!n||!n.__highDownDispatcher)}function $O(n){var e=n.type;return e===E_||e===pT||e===T_}function yX(n){var e=n.type;return e===yd||e===fT}var bX=In();function GO(n,e,t,r,i,o,a){var l,s=!1;Xe(i)?(a=o,o=i,i=null):Oe(i)&&(o=i.cb,a=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c="leave"===n;c||e.stopAnimation("leave");var u=function VOe(n,e,t,r,i){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var l="update"===n;if(e&&e.isAnimationEnabled()){var c=void 0,u=void 0,d=void 0;return r?(c=qe(r.duration,200),u=qe(r.easing,"cubicOut"),d=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(c=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(d=o.delay)),Xe(d)&&(d=d(t,i)),Xe(c)&&(c=c(t)),{duration:c||0,delay:d,easing:u}}return null}(n,r,i,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(u&&u.duration>0){var p={duration:u.duration,delay:u.delay||0,easing:u.easing,done:o,force:!!o||!!a,setToFinal:!c,scope:n,during:a};s?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!s&&e.attr(t),a&&a(1),o&&o()}function us(n,e,t,r,i,o){GO("update",n,e,t,r,i,o)}function pc(n,e,t,r,i,o){GO("enter",n,e,t,r,i,o)}function fp(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if("leave"===n.animators[e].scope)return!0;return!1}function wX(n,e,t,r,i,o){fp(n)||GO("leave",n,e,t,r,i,o)}function CX(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),wX(n,{style:{opacity:0}},e,t,r)}function EX(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||CX(i,e,t,r)}):CX(n,e,t,r)}var vT={};function TX(n,e){for(var t=0;t<cs.length;t++){var r=cs[t],i=e[r],o=n.ensureState(r);o.style=o.style||{},o.style.text=i}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(a,!0)}function qO(n,e,t){var s,r=n.labelFetcher,i=n.labelDataIndex,o=n.labelDimIndex,a=e.normal;r&&(s=r.getFormattedLabel(i,"normal",null,o,a&&a.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==s&&(s=Xe(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var l={normal:s},c=0;c<cs.length;c++){var u=cs[c],d=e[u];l[u]=qe(r?r.getFormattedLabel(i,u,null,o,d&&d.get("formatter")):null,s)}return l}function IX(n,e,t,r){t=t||vT;for(var i=n instanceof Mr,o=!1,a=0;a<hT.length;a++)if((s=e[hT[a]])&&s.getShallow("show")){o=!0;break}var l=i?n:n.getTextContent();if(o){i||(l||(l=new Mr,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=qO(t,e),u=e.normal,d=!!u.getShallow("show"),h=el(u,r&&r.normal,t,!1,!i);for(h.text=c.normal,i||n.setTextConfig(DX(u,t,!1)),a=0;a<cs.length;a++){var s,f=cs[a];if(s=e[f]){var p=l.ensureState(f),g=!!qe(s.getShallow("show"),d);g!==d&&(p.ignore=!g),p.style=el(s,r&&r[f],t,!0,!i),p.style.text=c[f],i||(n.ensureState(f).textConfig=DX(s,t,!0))}}l.silent=!!u.getShallow("silent"),null!=l.style.x&&(h.x=l.style.x),null!=l.style.y&&(h.y=l.style.y),l.ignore=!d,l.useStyle(h),l.dirty(),t.enableTextSetter&&(_T(l).setLabelText=function(_){var y=qO(t,e,_);TX(l,y)})}else l&&(l.ignore=!0);n.dirty()}function el(n,e,t,r,i){var o={};return function zOe(n,e,t,r,i){t=t||vT;var l,o=e.ecModel,a=o&&o.option.textStyle,s=function HOe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||vT).rich;if(t){e=e||{};for(var r=yn(t),i=0;i<r.length;i++)e[r[i]]=1}n=n.parentModel}return e}(e);if(s)for(var c in l={},s)if(s.hasOwnProperty(c)){var u=e.getModel(["rich",c]);MX(l[c]={},u,a,t,r,i,!1,!0)}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var h=e.get("minMargin");null!=h&&(n.margin=h),MX(n,e,a,t,r,i,!0,!1)}(o,n,t,r,i),e&&oe(o,e),o}function DX(n,e,t){e=e||{};var i,r={},o=n.getShallow("rotate"),a=qe(n.getShallow("distance"),t?null:5),s=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(t?null:"inside"))&&(i=e.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===n.get("color")?e.inheritColor||null:"auto",r}var SX=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],xX=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],AX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function MX(n,e,t,r,i,o,a,s){t=!i&&t||vT;var l=r&&r.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),d=qe(e.getShallow("opacity"),t.opacity);("inherit"===c||"auto"===c)&&(c=l||null),("inherit"===u||"auto"===u)&&(u=l||null),o||(c=c||t.color,u=u||t.textBorderColor),null!=c&&(n.fill=c),null!=u&&(n.stroke=u);var h=qe(e.getShallow("textBorderWidth"),t.textBorderWidth);null!=h&&(n.lineWidth=h);var f=qe(e.getShallow("textBorderType"),t.textBorderType);null!=f&&(n.lineDash=f);var p=qe(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=p&&(n.lineDashOffset=p),!i&&null==d&&!s&&(d=r&&r.defaultOpacity),null!=d&&(n.opacity=d),!i&&!o&&null==n.fill&&r.inheritColor&&(n.fill=r.inheritColor);for(var g=0;g<SX.length;g++)null!=(_=qe(e.getShallow(v=SX[g]),t[v]))&&(n[v]=_);for(g=0;g<xX.length;g++)null!=(_=e.getShallow(v=xX[g]))&&(n[v]=_);if(null==n.verticalAlign){var y=e.getShallow("baseline");null!=y&&(n.verticalAlign=y)}if(!a||!r.disableBox){for(g=0;g<AX.length;g++){var v,_;null!=(_=e.getShallow(v=AX[g]))&&(n[v]=_)}var w=e.getShallow("borderType");null!=w&&(n.borderDash=w),("auto"===n.backgroundColor||"inherit"===n.backgroundColor)&&l&&(n.backgroundColor=l),("auto"===n.borderColor||"inherit"===n.borderColor)&&l&&(n.borderColor=l)}}var _T=In();var GOe=["textStyle","color"],WO=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],YO=new Mr,qOe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(GOe):null)},n.prototype.getFont=function(){return function jOe(n,e){var t=e&&e.getModel("textStyle");return Ca([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<WO.length;r++)t[WO[r]]=this.getShallow(WO[r]);return YO.useStyle(t),YO.update(),YO.getBoundingRect()},n}();const WOe=qOe;var RX=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],YOe=y_(RX),KOe=function(){function n(){}return n.prototype.getLineStyle=function(e){return YOe(this,e)},n}(),PX=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],XOe=y_(PX),QOe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return XOe(this,e,t)},n}(),bd=function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o]},n.prototype.mergeOption=function(e,t){en(this.option,e,!0)},n.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=null==r?r:r[e];if(null==i&&!t){var o=this.parentModel;o&&(i=o.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=null!=e,i=r?this.parsePath(e):null;return new n(r?this._doGet(i):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new(0,this.constructor)(lt(this.option))},n.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!nt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&(!e[i]||null!=(r=r&&"object"==typeof r?r[e[i]]:null));i++);return null==r&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n}();vO(bd),function bke(n){var e=["__\0is_clz",yke++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!(!t||!t[e])}}(bd),wa(bd,KOe),wa(bd,QOe),wa(bd,Ike),wa(bd,WOe);const fr=bd;var ZOe=Math.round(10*Math.random());function yT(n){return[n||"",ZOe++].join("_")}var pp="EN",wT={},XO={},kX=nt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||pp).toUpperCase().indexOf("ZH")>-1?"ZH":pp;function QO(n,e){n=n.toUpperCase(),XO[n]=new fr(e),wT[n]=e}QO("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),QO("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe",custom:"\u81ea\u5b9a\u4e49\u56fe\u8868",chart:"\u56fe\u8868"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var I_=36e5,jo=24*I_,OX=365*jo,D_={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},CT="{yyyy}-{MM}-{dd}",NX={year:"{yyyy}",month:"{yyyy}-{MM}",day:CT,hour:CT+" "+D_.hour,minute:CT+" "+D_.minute,second:CT+" "+D_.second,millisecond:D_.none},eN=["year","month","day","hour","minute","second","millisecond"],FX=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ci(n,e){return"0000".substr(0,e-(n+="").length)+n}function mp(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function sNe(n){return n===mp(n)}function S_(n,e,t,r){var i=zo(n),o=i[tN(t)](),a=i[gp(t)]()+1,s=Math.floor((a-1)/3)+1,l=i[ET(t)](),c=i["get"+(t?"UTC":"")+"Day"](),u=i[x_(t)](),d=(u-1)%12+1,h=i[TT(t)](),f=i[IT(t)](),p=i[DT(t)](),g=u>=12?"pm":"am",v=g.toUpperCase(),_=r instanceof fr?r:function oNe(n){return XO[n]}(r||kX)||function aNe(){return XO[pp]}(),y=_.getModel("time"),w=y.get("month"),I=y.get("monthAbbr"),M=y.get("dayOfWeek"),P=y.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,v+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Ci(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,w[a-1]).replace(/{MMM}/g,I[a-1]).replace(/{MM}/g,Ci(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Ci(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,M[c]).replace(/{ee}/g,P[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Ci(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Ci(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Ci(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,Ci(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,Ci(p,3)).replace(/{S}/g,p+"")}function LX(n,e){var t=zo(n),r=t[gp(e)]()+1,i=t[ET(e)](),o=t[x_(e)](),a=t[TT(e)](),s=t[IT(e)](),c=0===t[DT(e)](),u=c&&0===s,d=u&&0===a,h=d&&0===o,f=h&&1===i;return f&&1===r?"year":f?"month":h?"day":d?"hour":u?"minute":c?"second":"millisecond"}function VX(n,e,t){var r=$t(n)?zo(n):n;switch(e=e||LX(n,t)){case"year":return r[tN(t)]();case"half-year":return r[gp(t)]()>=6?1:0;case"quarter":return Math.floor((r[gp(t)]()+1)/4);case"month":return r[gp(t)]();case"day":return r[ET(t)]();case"half-day":return r[x_(t)]()/24;case"hour":return r[x_(t)]();case"minute":return r[TT(t)]();case"second":return r[IT(t)]();case"millisecond":return r[DT(t)]()}}function tN(n){return n?"getUTCFullYear":"getFullYear"}function gp(n){return n?"getUTCMonth":"getMonth"}function ET(n){return n?"getUTCDate":"getDate"}function x_(n){return n?"getUTCHours":"getHours"}function TT(n){return n?"getUTCMinutes":"getMinutes"}function IT(n){return n?"getUTCSeconds":"getSeconds"}function DT(n){return n?"getUTCMilliseconds":"getMilliseconds"}function uNe(n){return n?"setUTCFullYear":"setFullYear"}function BX(n){return n?"setUTCMonth":"setMonth"}function UX(n){return n?"setUTCDate":"setDate"}function zX(n){return n?"setUTCHours":"setHours"}function HX(n){return n?"setUTCMinutes":"setMinutes"}function jX(n){return n?"setUTCSeconds":"setSeconds"}function $X(n){return n?"setUTCMilliseconds":"setMilliseconds"}function nN(n){if(!pK(n))return we(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function rN(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var A_=pk;function iN(n,e,t){function i(u){return u&&Ca(u)?u:"-"}function o(u){return!(null==u||isNaN(u)||!isFinite(u))}var a="time"===e,s=n instanceof Date;if(a||s){var l=a?zo(n):n;if(!isNaN(+l))return S_(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(s)return"-"}if("ordinal"===e)return DE(n)?i(n):$t(n)&&o(n)?n+"":"-";var c=Ks(n);return o(c)?nN(c):DE(n)?i(n):"boolean"==typeof n?n+"":"-"}var GX=["a","b","c","d","e","f","g"],oN=function(n,e){return"{"+n+(e??"")+"}"};function aN(n,e,t){me(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var a=GX[o];n=n.replace(oN(a),oN(a,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var c=e[s][i[l]];n=n.replace(oN(GX[l],s),t?yi(c):c)}return n}function qX(n,e){var t=we(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var o=t.renderMode||"html";return r?"html"===o?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+yi(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+yi(r)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function dNe(n,e,t){("week"===n||"month"===n||"quarter"===n||"half-year"===n||"year"===n)&&(n="MM-dd\nyyyy");var r=zo(e),i=t?"getUTC":"get",o=r[i+"FullYear"](),a=r[i+"Month"]()+1,s=r[i+"Date"](),l=r[i+"Hours"](),c=r[i+"Minutes"](),u=r[i+"Seconds"](),d=r[i+"Milliseconds"]();return n.replace("MM",Ci(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Ci(o%100+"",2)).replace("dd",Ci(s,2)).replace("d",s).replace("hh",Ci(l,2)).replace("h",l).replace("mm",Ci(c,2)).replace("m",c).replace("ss",Ci(u,2)).replace("s",u).replace("SSS",Ci(d,3))}function hNe(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function M_(n,e){return e=e||"transparent",we(n)?n:Oe(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function WX(n,e){if("_blank"===e||"blank"===e){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var ST=L,fNe=["left","right","top","bottom","width","height"],wd=[["width","left","right"],["height","top","bottom"]];function sN(n,e,t,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(l,c){var f,p,u=l.getBoundingRect(),d=e.childAt(c+1),h=d&&d.getBoundingRect();if("horizontal"===n){var g=u.width+(h?-h.x+u.x:0);(f=o+g)>r||l.newline?(o=0,f=g,a+=s+t,s=u.height):s=Math.max(s,u.height)}else{var v=u.height+(h?-h.y+u.y:0);(p=a+v)>i||l.newline?(o+=s+t,a=0,p=v,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===n?o=f+t:a=p+t)})}var R_=sN;function Cd(n,e,t){t=A_(t||0);var r=e.width,i=e.height,o=nn(n.left,r),a=nn(n.top,i),s=nn(n.right,r),l=nn(n.bottom,i),c=nn(n.width,r),u=nn(n.height,i),d=t[2]+t[0],h=t[1]+t[3],f=n.aspect;switch(isNaN(c)&&(c=r-s-h-o),isNaN(u)&&(u=i-l-d-a),null!=f&&(isNaN(c)&&isNaN(u)&&(f>r/i?c=.8*r:u=.8*i),isNaN(c)&&(c=f*u),isNaN(u)&&(u=c/f)),isNaN(o)&&(o=r-s-c-h),isNaN(a)&&(a=i-l-u-d),n.left||n.right){case"center":o=r/2-c/2-t[3];break;case"right":o=r-c-h}switch(n.top||n.bottom){case"middle":case"center":a=i/2-u/2-t[0];break;case"bottom":a=i-u-d}o=o||0,a=a||0,isNaN(c)&&(c=r-h-o-(s||0)),isNaN(u)&&(u=i-d-a-(l||0));var p=new bt(o+t[3],a+t[0],c,u);return p.margin=t,p}function xT(n){var e=n.layoutMode||n.constructor.layoutMode;return Oe(e)?e:e?{type:e}:null}function P_(n,e,t){var r=t&&t.ignoreSize;!me(r)&&(r=[r,r]);var i=a(wd[0],0),o=a(wd[1],1);function a(u,d){var h={},f=0,p={},g=0;if(ST(u,function(w){p[w]=n[w]}),ST(u,function(w){s(e,w)&&(h[w]=p[w]=e[w]),l(h,w)&&f++,l(p,w)&&g++}),r[d])return l(e,u[1])?p[u[2]]=null:l(e,u[2])&&(p[u[1]]=null),p;if(2===g||!f)return p;if(f>=2)return h;for(var _=0;_<u.length;_++){var y=u[_];if(!s(h,y)&&s(n,y)){h[y]=n[y];break}}return h}function s(u,d){return u.hasOwnProperty(d)}function l(u,d){return null!=u[d]&&"auto"!==u[d]}function c(u,d,h){ST(u,function(f){d[f]=h[f]})}c(wd[0],n,i),c(wd[1],n,o)}function lN(n){return function pNe(n,e){return e&&n&&ST(fNe,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}({},n)}Nn(sN,"vertical"),Nn(sN,"horizontal");var mNe=In(),vp=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.uid=yT("ec_cpt_model"),o}return Lt(e,n),e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=xT(this),o=i?lN(t):{};en(t,r.getTheme().get(this.mainType)),en(t,this.getDefaultOption()),i&&P_(t,o,i)},e.prototype.mergeOption=function(t,r){en(this.option,t,!0);var i=xT(this);i&&P_(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function vke(n){return!(!n||!n[TK])}(t))return t.defaultOption;var r=mNe(this);if(!r.defaultOption){for(var i=[],o=t;o;){var a=o.prototype.defaultOption;a&&i.push(a),o=o.superClass}for(var s={},l=i.length-1;l>=0;l--)s=en(s,i[l],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var o=t+"Id";return __(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(o,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(fr);IK(vp,fr),iT(vp),function JOe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=os(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var o=os(t).main;n.hasSubTypes(t)&&e[o]&&(i=e[o](r))}return i}}(vp),function eNe(n,e){function r(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}n.topologicalTravel=function(o,a,s,l){if(o.length){var c=function t(o){var a={},s=[];return L(o,function(l){var c=r(a,l),d=function i(o,a){var s=[];return L(o,function(l){Mt(a,l)>=0&&s.push(l)}),s}(c.originalDeps=e(l),o);c.entryCount=d.length,0===c.entryCount&&s.push(l),L(d,function(h){Mt(c.predecessor,h)<0&&c.predecessor.push(h);var f=r(a,h);Mt(f.successor,h)<0&&f.successor.push(l)})}),{graph:a,noEntryList:s}}(a),u=c.graph,d=c.noEntryList,h={};for(L(o,function(y){h[y]=!0});d.length;){var f=d.pop(),p=u[f],g=!!h[f];g&&(s.call(l,f,p.originalDeps.slice()),delete h[f]),L(p.successor,g?_:v)}L(h,function(){throw new Error("")})}function v(y){u[y].entryCount--,0===u[y].entryCount&&d.push(y)}function _(y){h[y]=!0,v(y)}}}(vp,function gNe(n){var e=[];return L(vp.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Fe(e,function(t){return os(t).main}),"dataset"!==n&&Mt(e,"dataset")<=0&&e.unshift("dataset"),e});const un=vp;var YX="";typeof navigator<"u"&&(YX=navigator.platform||"");var _p="rgba(0, 0, 0, 0.2)";const vNe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:_p,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:_p,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:_p,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:_p,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:_p,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:_p,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:YX.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var KX=rt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),$o="original",Yi="arrayRows",Sa="objectRows",ds="keyedColumns",tl="typedArray",XX="unknown",nl="column",yp="row",Rr={Must:1,Might:2,Not:3},QX=In();function yNe(n,e,t){var r={},i=cN(e);if(!i||!n)return r;var u,d,o=[],a=[],l=QX(e.ecModel).datasetMap,c=i.uid+"_"+t.seriesLayoutBy;L(n=n.slice(),function(g,v){var _=Oe(g)?g:n[v]={name:g};"ordinal"===_.type&&null==u&&(u=v,d=p(_)),r[_.name]=[]});var h=l.get(c)||l.set(c,{categoryWayDim:d,valueWayDim:0});function f(g,v,_){for(var y=0;y<_;y++)g.push(v+y)}function p(g){var v=g.dimsDef;return v?v.length:1}return L(n,function(g,v){var _=g.name,y=p(g);if(null==u)f(r[_],w=h.valueWayDim,y),f(a,w,y),h.valueWayDim+=y;else if(u===v)f(r[_],0,y),f(o,0,y);else{var w;f(r[_],w=h.categoryWayDim,y),f(a,w,y),h.categoryWayDim+=y}}),o.length&&(r.itemName=o),a.length&&(r.seriesName=a),r}function bNe(n,e,t){var r={};if(!cN(n))return r;var s,o=e.sourceFormat,a=e.dimensionsDefine;(o===Sa||o===ds)&&L(a,function(u,d){"name"===(Oe(u)?u.name:u)&&(s=d)});var l=function(){for(var u={},d={},h=[],f=0,p=Math.min(5,t);f<p;f++){var g=JX(e.data,o,e.seriesLayoutBy,a,e.startIndex,f);h.push(g);var v=g===Rr.Not;if(v&&null==u.v&&f!==s&&(u.v=f),(null==u.n||u.n===u.v||!v&&h[u.n]===Rr.Not)&&(u.n=f),_(u)&&h[u.n]!==Rr.Not)return u;v||(g===Rr.Might&&null==d.v&&f!==s&&(d.v=f),(null==d.n||d.n===d.v)&&(d.n=f))}function _(y){return null!=y.v&&null!=y.n}return _(u)?u:_(d)?d:null}();if(l){r.value=[l.v];var c=s??l.n;r.itemName=[c],r.seriesName=[c]}return r}function cN(n){if(!n.get("data",!0))return __(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},sd).models[0]}function ZX(n,e){return JX(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function JX(n,e,t,r,i,o){var a,l,c;if(vi(n))return Rr.Not;if(r){var u=r[o];Oe(u)?(l=u.name,c=u.type):we(u)&&(l=u)}if(null!=c)return"ordinal"===c?Rr.Must:Rr.Not;if(e===Yi){var d=n;if(t===yp){for(var h=d[o],f=0;f<(h||[]).length&&f<5;f++)if(null!=(a=I(h[i+f])))return a}else for(f=0;f<d.length&&f<5;f++){var p=d[i+f];if(p&&null!=(a=I(p[o])))return a}}else if(e===Sa){var g=n;if(!l)return Rr.Not;for(f=0;f<g.length&&f<5;f++)if((v=g[f])&&null!=(a=I(v[l])))return a}else if(e===ds){if(!l)return Rr.Not;if(!(h=n[l])||vi(h))return Rr.Not;for(f=0;f<h.length&&f<5;f++)if(null!=(a=I(h[f])))return a}else if(e===$o){var y=n;for(f=0;f<y.length&&f<5;f++){var v,w=p_(v=y[f]);if(!me(w))return Rr.Not;if(null!=(a=I(w[o])))return a}}function I(M){var P=we(M);return null!=M&&Number.isFinite(Number(M))&&""!==M?P?Rr.Might:Rr.Not:P&&"-"!==M?Rr.Must:void 0}return Rr.Not}var uN=rt(),eQ=In(),dN=(In(),function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=Gr(this.get("color",!0)),o=this.get("colorLayer",!0);return function tQ(n,e,t,r,i,o,a){var s=e(o=o||n),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=null!=a&&r?function TNe(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}(r,a):t;if((u=u||t)&&u.length){var d=u[l];return i&&(c[i]=d),s.paletteIdx=(l+1)%u.length,d}}(this,eQ,i,o,e,t,r)},n.prototype.clearColorPalette=function(){!function INe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}(this,eQ)},n}());var AT,k_,nQ,rQ="\0_ec_inner",oQ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Lt(e,n),e.prototype.init=function(t,r,i,o,a,s){o=o||{},this.option=null,this._theme=new fr(o),this._locale=new fr(a),this._optionManager=s},e.prototype.setOption=function(t,r,i){var o=lQ(r);this._optionManager.setOption(t,i,o),this._resetOption(null,o)},e.prototype.resetOption=function(t,r){return this._resetOption(t,lQ(r))},e.prototype._resetOption=function(t,r){var i=!1,o=this._optionManager;if(!t||"recreate"===t){var a=o.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(a,r)):nQ(this,a),i=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var s=o.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!t||"recreate"===t||"media"===t){var l=o.getMediaOption(this);l.length&&L(l,function(c){i=!0,this._mergeOption(c,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=rt(),c=r&&r.replaceMergeMainTypeMap;(function _Ne(n){QX(n).datasetMap=rt()})(this),L(t,function(d,h){null!=d&&(un.hasClass(h)?h&&(s.push(h),l.set(h,!0)):i[h]=null==i[h]?lt(d):en(i[h],d,!0))}),c&&c.each(function(d,h){un.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),un.topologicalTravel(s,un.getAllClassMainTypes(),function u(d){var h=function CNe(n,e,t){var r=uN.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}(this,d,Gr(t[d])),f=o.get(d),g=function nke(n,e,t){var r="normalMerge"===t,i="replaceMerge"===t,o="replaceAll"===t;n=n||[],e=(e||[]).slice();var a=rt();L(e,function(l,c){Oe(l)||(e[c]=null)});var s=function rke(n,e,t){var r=[];if("replaceAll"===t)return r;for(var i=0;i<n.length;i++){var o=n[i];o&&null!=o.id&&e.set(o.id,i),r.push({existing:"replaceMerge"===t||g_(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}(n,a,t);return(r||i)&&function ike(n,e,t,r){L(r,function(i,o){if(i&&null!=i.id){var a=m_(i.id),s=t.get(a);if(null!=s){var l=n[s];ts(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=i,l.existing=e[s],r[o]=null}}})}(s,n,a,e),r&&function oke(n,e){L(e,function(t,r){if(t&&null!=t.name)for(var i=0;i<n.length;i++){var o=n[i].existing;if(!n[i].newOption&&o&&(null==o.id||null==t.id)&&!g_(t)&&!g_(o)&&CK("name",o,t))return n[i].newOption=t,void(e[r]=null)}})}(s,e),r||i?function ake(n,e,t){L(e,function(r){if(r){for(var i,o=0;(i=n[o])&&(i.newOption||g_(i.existing)||i.existing&&null!=r.id&&!CK("id",r,i.existing));)o++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),o++}})}(s,e,i):o&&function ske(n,e){L(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(s,e),function lke(n){var e=rt();L(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),L(n,function(t){var r=t.newOption;ts(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),L(n,function(t,r){var i=t.existing,o=t.newOption,a=t.keyInfo;if(Oe(o)){if(a.name=null!=o.name?m_(o.name):i?i.name:yK+r,i)a.id=m_(i.id);else if(null!=o.id)a.id=m_(o.id);else{var s=0;do{a.id="\0"+a.name+"\0"+s++}while(e.get(a.id))}e.set(a.id,t)}})}(s),s}(f,h,f?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll");(function cke(n,e,t){L(n,function(r){var i=r.newOption;Oe(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=function uke(n,e,t,r){return e.type?e.type:t?t.subType:r.determineSubType(n,e)}(e,i,r.existing,t))})})(g,d,un),i[d]=null,o.set(d,null),a.set(d,0);var w,v=[],_=[],y=0;L(g,function(M,P){var T=M.existing,E=M.newOption;if(E){var S=un.getClass(d,M.keyInfo.subType,!("series"===d));if(!S)return;if("tooltip"===d){if(w)return;w=!0}if(T&&T.constructor===S)T.name=M.keyInfo.name,T.mergeOption(E,this),T.optionUpdated(E,!1);else{var R=oe({componentIndex:P},M.keyInfo);oe(T=new S(E,this,this,R),R),M.brandNew&&(T.__requireNewView=!0),T.init(E,this,this),T.optionUpdated(null,!0)}}else T&&(T.mergeOption({},this),T.optionUpdated({},!1));T?(v.push(T.option),_.push(T),y++):(v.push(void 0),_.push(void 0))},this),i[d]=v,o.set(d,_),a.set(d,y),"series"===d&&AT(this)},this),this._seriesIndices||AT(this)},e.prototype.getOption=function(){var t=lt(this.option);return L(t,function(r,i){if(un.hasClass(i)){for(var o=Gr(r),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!g_(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,t[i]=o}}),delete t[rQ],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var o=i[r||0];if(o)return o;if(null==r)for(var a=0;a<i.length;a++)if(i[a])return i[a]}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var l,i=t.index,o=t.id,a=t.name,s=this._componentsMap.get(r);return s&&s.length?(null!=i?(l=[],L(Gr(i),function(c){s[c]&&l.push(s[c])})):l=null!=o?aQ("id",o,s):null!=a?aQ("name",a,s):On(s,function(c){return!!c}),sQ(l,t)):[]},e.prototype.findComponents=function(t){var i=t.mainType,o=function s(c){var u=i+"Index",d=i+"Id",h=i+"Name";return!c||null==c[u]&&null==c[d]&&null==c[h]?null:{mainType:i,index:c[u],id:c[d],name:c[h]}}(t.query);return function l(c){return t.filter?On(c,t.filter):c}(sQ(o?this.queryComponents(o):On(this._componentsMap.get(i),function(c){return!!c}),t))},e.prototype.eachComponent=function(t,r,i){var o=this._componentsMap;if(Xe(t)){var a=r,s=t;o.each(function(d,h){for(var f=0;d&&f<d.length;f++){var p=d[f];p&&s.call(a,h,p,p.componentIndex)}})}else for(var l=we(t)?o.get(t):Oe(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&r.call(i,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=Da(t,null);return On(this._componentsMap.get("series"),function(i){return!!i&&null!=r&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return On(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return On(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){k_(this),L(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];t.call(r,o,i)},this)},e.prototype.eachRawSeries=function(t,r){L(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){k_(this),L(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===t&&r.call(i,a,o)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return L(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return k_(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){k_(this);var i=[];L(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];t.call(r,a,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=rt(i)},e.prototype.restoreData=function(t){AT(this);var r=this._componentsMap,i=[];r.each(function(o,a){un.hasClass(a)&&i.push(a)}),un.topologicalTravel(i,un.getAllClassMainTypes(),function(o){L(r.get(o),function(a){a&&("series"!==o||!function xNe(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return null!=t&&n.componentIndex!==t||null!=r&&n.id!==r||null!=i&&n.name!==i}}(a,t))&&a.restoreData()})})},e.internalField=(AT=function(t){var r=t._seriesIndices=[];L(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=rt(r)},k_=function(t){},void(nQ=function(t,r){t.option={},t.option[rQ]=1,t._componentsMap=rt({series:[]}),t._componentsCount=rt();var i=r.aria;Oe(i)&&null==i.enabled&&(i.enabled=!0),function ANe(n,e){var t=n.color&&!n.colorLayer;L(e,function(r,i){"colorLayer"===i&&t||un.hasClass(i)||("object"==typeof r?n[i]=n[i]?en(n[i],r,!1):lt(r):null==n[i]&&(n[i]=r))})}(r,t._theme.option),en(r,vNe,!1),t._mergeOption(r,null)})),e}(fr);function aQ(n,e,t){if(me(e)){var r=rt();return L(e,function(o){null!=o&&null!=Da(o,null)&&r.set(o,!0)}),On(t,function(o){return o&&r.get(o[n])})}var i=Da(e,null);return On(t,function(o){return o&&null!=i&&o[n]===i})}function sQ(n,e){return e.hasOwnProperty("subType")?On(n,function(t){return t&&t.subType===e.subType}):n}function lQ(n){var e=rt();return n&&L(Gr(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}wa(oQ,dN);const cQ=oQ;var MNe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],RNe=function(){return function n(e){L(MNe,function(t){this[t]=jt(e[t],e)},this)}}();const uQ=RNe;var hN={},PNe=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];L(hN,function(i,o){var a=i.create(e,t);r=r.concat(a||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){L(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){hN[e]=t},n.get=function(e){return hN[e]},n}();const MT=PNe;var kNe=/^(min|max)?(.+)$/,ONe=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(L(Gr(e.series),function(a){a&&a.data&&vi(a.data)&&xE(a.data)}),L(Gr(e.dataset),function(a){a&&a.source&&vi(a.source)&&xE(a.source)})),e=lt(e);var i=this._optionBackup,o=function NNe(n,e,t){var i,o,r=[],a=n.baseOption,s=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||s||a&&a.timeline);function h(f){L(e,function(p){p(f,t)})}return a?(o=a).timeline||(o.timeline=s):((d||u)&&(n.options=n.media=null),o=n),u&&me(c)&&L(c,function(f){f&&f.option&&(f.query?r.push(f):i||(i=f))}),h(o),L(l,function(f){return h(f)}),L(r,function(f){return h(f.option)}),{baseOption:o,timelineOptions:l||[],mediaDefault:i,mediaList:r}}(e,t,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],lt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=lt(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,c=i.length;l<c;l++)FNe(i[l].query,t,r)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!function VNe(n,e){return n.join(",")===e.join(",")}(a,this._currentMediaIndices)&&(s=Fe(a,function(u){return lt(-1===u?o.option:i[u].option)})),this._currentMediaIndices=a,s},n}();function FNe(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return L(n,function(o,a){var s=a.match(kNe);if(s&&s[1]&&s[2]){var l=s[1],c=s[2].toLowerCase();(function LNe(n,e,t){return"min"===t?n>=e:"max"===t?n<=e:n===e})(r[c],o,l)||(i=!1)}}),i}const BNe=ONe;var xa=L,O_=Oe,dQ=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function fN(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=dQ.length;t<r;t++){var i=dQ[t],o=e.normal,a=e.emphasis;o&&o[i]&&(n[i]=n[i]||{},n[i].normal?en(n[i].normal,o[i]):n[i].normal=o[i],o[i]=null),a&&a[i]&&(n[i]=n[i]||{},n[i].emphasis?en(n[i].emphasis,a[i]):n[i].emphasis=a[i],a[i]=null)}}function qr(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,tn(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function N_(n){qr(n,"itemStyle"),qr(n,"lineStyle"),qr(n,"areaStyle"),qr(n,"label"),qr(n,"labelLine"),qr(n,"upperLabel"),qr(n,"edgeLabel")}function Gn(n,e){var t=O_(n)&&n[e],r=O_(t)&&t.textStyle;if(r)for(var i=0,o=wK.length;i<o;i++){var a=wK[i];r.hasOwnProperty(a)&&(t[a]=r[a])}}function Go(n){n&&(N_(n),Gn(n,"label"),n.emphasis&&Gn(n.emphasis,"label"))}function rl(n){return me(n)?n:n?[n]:[]}function hQ(n){return(me(n)?n[0]:n)||{}}function fQ(n){n&&L($Ne,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var $Ne=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],GNe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],pN=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function F_(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<pN.length;t++){var r=pN[t][1];null!=e[r]&&(e[pN[t][0]]=e[r])}}function pQ(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function mQ(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function gQ(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&gQ(n[t].children,e)}function vQ(n,e){(function zNe(n,e){xa(rl(n.series),function(r){O_(r)&&function UNe(n){if(O_(n)){fN(n),N_(n),Gn(n,"label"),Gn(n,"upperLabel"),Gn(n,"edgeLabel"),n.emphasis&&(Gn(n.emphasis,"label"),Gn(n.emphasis,"upperLabel"),Gn(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(fN(e),Go(e));var t=n.markLine;t&&(fN(t),Go(t));var r=n.markArea;r&&Go(r);var i=n.data;if("graph"===n.type){i=i||n.nodes;var o=n.links||n.edges;if(o&&!vi(o))for(var a=0;a<o.length;a++)Go(o[a]);L(n.categories,function(c){N_(c)})}if(i&&!vi(i))for(a=0;a<i.length;a++)Go(i[a]);if((e=n.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)Go(s[a])}if((t=n.markLine)&&t.data){var l=t.data;for(a=0;a<l.length;a++)me(l[a])?(Go(l[a][0]),Go(l[a][1])):Go(l[a])}"gauge"===n.type?(Gn(n,"axisLabel"),Gn(n,"title"),Gn(n,"detail")):"treemap"===n.type?(qr(n.breadcrumb,"itemStyle"),L(n.levels,function(c){N_(c)})):"tree"===n.type&&N_(n.leaves)}}(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),xa(t,function(r){xa(rl(n[r]),function(i){i&&(Gn(i,"axisLabel"),Gn(i.axisPointer,"label"))})}),xa(rl(n.parallel),function(r){var i=r&&r.parallelAxisDefault;Gn(i,"axisLabel"),Gn(i&&i.axisPointer,"label")}),xa(rl(n.calendar),function(r){qr(r,"itemStyle"),Gn(r,"dayLabel"),Gn(r,"monthLabel"),Gn(r,"yearLabel")}),xa(rl(n.radar),function(r){Gn(r,"name"),r.name&&null==r.axisName&&(r.axisName=r.name,delete r.name),null!=r.nameGap&&null==r.axisNameGap&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),xa(rl(n.geo),function(r){O_(r)&&(Go(r),xa(rl(r.regions),function(i){Go(i)}))}),xa(rl(n.timeline),function(r){Go(r),qr(r,"label"),qr(r,"itemStyle"),qr(r,"controlStyle",!0);var i=r.data;me(i)&&L(i,function(o){Oe(o)&&(qr(o,"label"),qr(o,"itemStyle"))})}),xa(rl(n.toolbox),function(r){qr(r,"iconStyle"),xa(r.feature,function(i){qr(i,"iconStyle")})}),Gn(hQ(n.axisPointer),"label"),Gn(hQ(n.tooltip).axisPointer,"label")})(n,e),n.series=Gr(n.series),L(n.series,function(t){if(Oe(t)){var r=t.type;if("line"===r)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===r||"gauge"===r){if(null!=t.clockWise&&(t.clockwise=t.clockWise),pQ(t.label),(i=t.data)&&!vi(i))for(var o=0;o<i.length;o++)pQ(i[o]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===r){var a=function HNe(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&null!=(r=r&&r[t[i]]);i++);return r}(t,"pointer.color");null!=a&&function jNe(n,e,t,r){for(var a,i=e.split(","),o=n,s=0;s<i.length-1;s++)null==o[a=i[s]]&&(o[a]={}),o=o[a];(r||null==o[i[s]])&&(o[i[s]]=t)}(t,"itemStyle.color",a)}else if("bar"===r){var i;if(F_(t),F_(t.backgroundStyle),F_(t.emphasis),(i=t.data)&&!vi(i))for(o=0;o<i.length;o++)"object"==typeof i[o]&&(F_(i[o]),F_(i[o]&&i[o].emphasis))}else if("sunburst"===r){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),mQ(t),gQ(t.data,mQ)}else"graph"===r||"sankey"===r?function qNe(n){n&&null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency"))}(t):"map"===r&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&tn(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),fQ(t)}}),n.dataRange&&(n.visualMap=n.dataRange),L(GNe,function(t){var r=n[t];r&&(me(r)||(r=[r]),L(r,function(i){fQ(i)}))})}function YNe(n){L(n,function(e,t){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(c,u,d){var f,p,h=a.get(e.stackedDimension,d);if(isNaN(h))return i;s?p=a.getRawIndex(d):f=a.get(e.stackedByDimension,d);for(var g=NaN,v=t-1;v>=0;v--){var _=n[v];if(s||(p=_.data.rawIndexOf(_.stackedByDimension,f)),p>=0){var y=_.data.getByRawIndex(_.stackResultDimension,p);if("all"===l||"positive"===l&&y>0||"negative"===l&&y<0||"samesign"===l&&h>=0&&y>0||"samesign"===l&&h<=0&&y<0){h=XPe(h,y),g=y;break}}}return r[0]=h,r[1]=g,r})})}var RT=function(){return function n(e){this.data=e.data||(e.sourceFormat===ds?{}:[]),this.sourceFormat=e.sourceFormat||XX,this.seriesLayoutBy=e.seriesLayoutBy||nl,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];null==i.type&&ZX(this,r)===Rr.Must&&(i.type="ordinal")}}}();function mN(n){return n instanceof RT}function gN(n,e,t){t=t||_Q(n);var r=e.seriesLayoutBy,i=function XNe(n,e,t,r,i){var o,a;if(!n)return{dimensionsDefine:yQ(i),startIndex:a,dimensionsDetectedCount:o};if(e===Yi){var s=n;"auto"===r||null==r?bQ(function(c){null!=c&&"-"!==c&&(we(c)?null==a&&(a=1):a=0)},t,s,10):a=$t(r)?r:r?1:0,!i&&1===a&&(i=[],bQ(function(c,u){i[u]=null!=c?c+"":""},t,s,1/0)),o=i?i.length:t===yp?s.length:s[0]?s[0].length:null}else if(e===Sa)i||(i=function QNe(n){for(var t,e=0;e<n.length&&!(t=n[e++]););if(t)return yn(t)}(n));else if(e===ds)i||(i=[],L(n,function(c,u){i.push(u)}));else if(e===$o){var l=p_(n[0]);o=me(l)&&l.length||1}return{startIndex:a,dimensionsDefine:yQ(i),dimensionsDetectedCount:o}}(n,t,r,e.sourceHeader,e.dimensions);return new RT({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:lt(e)})}function vN(n){return new RT({data:n,sourceFormat:vi(n)?tl:$o})}function KNe(n){return new RT({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:lt(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function _Q(n){var e=XX;if(vi(n))e=tl;else if(me(n)){0===n.length&&(e=Yi);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(null!=i){if(me(i)||vi(i)){e=Yi;break}if(Oe(i)){e=Sa;break}}}}else if(Oe(n))for(var o in n)if(tc(n,o)&&gi(n[o])){e=ds;break}return e}function yQ(n){if(n){var e=rt();return Fe(n,function(t,r){var i={name:(t=Oe(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var o=e.get(i.name);return o?i.name+="-"+o.count++:e.set(i.name,{count:1}),i})}}function bQ(n,e,t,r){if(e===yp)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else{var o=t[0]||[];for(i=0;i<o.length&&i<r;i++)n(o[i],i)}}function wQ(n){var e=n.sourceFormat;return e===Sa||e===ds}var Ed,Td,Id,CQ,EQ,TQ=function(){function n(e,t){var r=mN(e)?e:vN(e);this._source=r;var i=this._data=r.data;r.sourceFormat===tl&&(this._offset=0,this._dimSize=t,this._data=i),EQ(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=((e=n.prototype).pure=!1,void(e.persistent=!0)),n.internalField=function(){var e;EQ=function(a,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,h=l.dimensionsDefine;if(oe(a,CQ[yN(c,u)]),c===tl)a.getItem=t,a.count=i,a.fillStorage=r;else{var p=DQ(c,u);a.getItem=jt(p,null,s,d,h);var g=xQ(c,u);a.count=jt(g,null,s,d,h)}};var t=function(a,s){s=s||[];for(var l=this._data,c=this._dimSize,u=c*(a-=this._offset),d=0;d<c;d++)s[d]=l[u+d];return s},r=function(a,s,l,c){for(var u=this._data,d=this._dimSize,h=0;h<d;h++){for(var f=c[h],p=null==f[0]?1/0:f[0],g=null==f[1]?-1/0:f[1],v=s-a,_=l[h],y=0;y<v;y++){var w=u[y*d+h];_[a+y]=w,w<p&&(p=w),w>g&&(g=w)}f[0]=p,f[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(e={})[Yi+"_"+nl]={pure:!0,appendData:o},e[Yi+"_"+yp]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Sa]={pure:!0,appendData:o},e[ds]={pure:!0,appendData:function(a){var s=this._data;L(a,function(l,c){for(var u=s[c]||(s[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},e[$o]={appendData:o},e[tl]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},CQ=e}(),n;var e}(),IQ=function(n,e,t,r){return n[r]},ZNe=((Ed={})[Yi+"_"+nl]=function(n,e,t,r){return n[r+e]},Ed[Yi+"_"+yp]=function(n,e,t,r,i){r+=e;for(var o=i||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[r]:null}return o},Ed[Sa]=IQ,Ed[ds]=function(n,e,t,r,i){for(var o=i||[],a=0;a<t.length;a++){var l=n[t[a].name];o[a]=l?l[r]:null}return o},Ed[$o]=IQ,Ed);function DQ(n,e){return ZNe[yN(n,e)]}var SQ=function(n,e,t){return n.length},JNe=((Td={})[Yi+"_"+nl]=function(n,e,t){return Math.max(0,n.length-e)},Td[Yi+"_"+yp]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},Td[Sa]=SQ,Td[ds]=function(n,e,t){var i=n[t[0].name];return i?i.length:0},Td[$o]=SQ,Td);function xQ(n,e){return JNe[yN(n,e)]}var _N=function(n,e,t){return n[e]},eFe=((Id={})[Yi]=_N,Id[Sa]=function(n,e,t){return n[t]},Id[ds]=_N,Id[$o]=function(n,e,t){var r=p_(n);return r instanceof Array?r[e]:r},Id[tl]=_N,Id);function AQ(n){return eFe[n]}function yN(n,e){return n===Yi?n+"_"+e:n}function PT(n,e,t){if(n){var r=n.getRawDataItem(e);if(null!=r){var i=n.getStore(),o=i.getSource().sourceFormat;if(null!=t){var a=n.getDimensionIndex(t),s=i.getDimensionProperty(a);return AQ(o)(r,a,s)}var l=r;return o===$o&&(l=p_(r)),l}}}var tFe=/\{@(.+?)\}/g,nFe=function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),o=r.getRawIndex(e),a=r.getName(e),s=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),c=l&&l[r.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,h="series"===d,f=r.userOutput&&r.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:o,data:s,dataType:t,value:i,color:c,borderColor:u,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,o,a){t=t||"normal";var s=this.getData(r),l=this.getDataParams(e,r);return a&&(l.value=a.interpolatedValue),null!=i&&me(l.value)&&(l.value=l.value[i]),o||(o=s.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),Xe(o)?(l.status=t,l.dimensionIndex=i,o(l)):we(o)?aN(o,l).replace(tFe,function(d,h){var f=h.length,p=h;"["===p.charAt(0)&&"]"===p.charAt(f-1)&&(p=+p.slice(1,f-1));var g=PT(s,e,p);if(a&&me(a.interpolatedValue)){var v=s.getDimensionIndex(p);v>=0&&(g=a.interpolatedValue[v])}return null!=g?g+"":""}):void 0},n.prototype.getRawValue=function(e,t){return PT(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n}();function MQ(n){var e,t;return Oe(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function L_(n){return new rFe(n)}var rFe=function(){function n(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var o,t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(o=this._plan(this.context));var d,a=u(this._modBy),s=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;function u(y){return!(y>=1)&&(y=1),y}(a!==l||s!==c)&&(o="reset"),(this._dirty||"reset"===o)&&(this._dirty=!1,d=this._doReset(r)),this._modBy=l,this._modDataCount=c;var h=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(d||f<p)){var g=this._progress;if(me(g))for(var v=0;v<g.length;v++)this._doProgress(g[v],f,p,l,c);else this._doProgress(g,f,p,l,c)}this._dueIndex=p,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,o){RQ.reset(t,r,i,o),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:RQ.next},this.context)},n.prototype._doReset=function(e){var t,r;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(r=t.forceFirstProgress,t=t.progress),me(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),RQ=function(){var n,e,t,r,i,o={reset:function(l,c,u,d){e=l,n=c,t=u,r=d,i=Math.ceil(r/t),o.next=t>1&&r>0?s:a}};return o;function a(){return e<n?e++:null}function s(){var l=e%i*t+Math.ceil(e/i),c=e>=n?null:l<r?l:e;return e++,c}}();function Ei(n){throw new Error(n)}function kT(n,e){var t=e&&e.type;return"ordinal"===t?n:("time"===t&&!$t(n)&&null!=n&&"-"!==n&&(n=+zo(n)),null==n||""===n?NaN:Number(n))}typeof console<"u"&&console.warn&&console,rt({number:function(n){return parseFloat(n)},time:function(n){return+zo(n)},trim:function(n){return we(n)?Ca(n):n}});var lFe=function(){function n(e,t){var r="desc"===e;this._resultLT=r?1:-1,null==t&&(t=r?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=$t(e)?e:Ks(e),i=$t(t)?t:Ks(t),o=isNaN(r),a=isNaN(i);if(o&&(r=this._incomparable),a&&(i=this._incomparable),o&&a){var s=we(e),l=we(t);s&&(r=l?e:0),l&&(i=s?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),uFe=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return kT(e,t)},n}();function hFe(n){return wN(n.sourceFormat)||Ei(""),n.data}function fFe(n){var e=n.sourceFormat,t=n.data;if(wN(e)||Ei(""),e===Yi){for(var i=[],o=0,a=t.length;o<a;o++)i.push(t[o].slice());return i}if(e===Sa){for(i=[],o=0,a=t.length;o<a;o++)i.push(oe({},t[o]));return i}}function pFe(n,e,t){if(null!=t){if($t(t)||!isNaN(t)&&!tc(e,t))return n[t];if(tc(e,t))return e[t]}}function mFe(n){return lt(n)}var OQ=rt();function _Fe(n,e,t,r){e.length||Ei(""),Oe(n)||Ei("");var a=OQ.get(n.type);a||Ei("");var s=Fe(e,function(u){return function dFe(n,e){var t=new uFe,r=n.data,i=t.sourceFormat=n.sourceFormat,o=n.startIndex;n.seriesLayoutBy!==nl&&Ei("");var s=[],l={},c=n.dimensionsDefine;if(c)L(c,function(g,v){var _=g.name,y={index:v,name:_,displayName:g.displayName};s.push(y),null!=_&&(tc(l,_)&&Ei(""),l[_]=y)});else for(var u=0;u<n.dimensionsDetectedCount;u++)s.push({index:u});var d=DQ(i,nl);e.__isBuiltIn&&(t.getRawDataItem=function(g){return d(r,o,s,g)},t.getRawData=jt(hFe,null,n)),t.cloneRawData=jt(fFe,null,n);var h=xQ(i,nl);t.count=jt(h,null,r,o,s);var f=AQ(i);t.retrieveValue=function(g,v){var _=d(r,o,s,g);return p(_,v)};var p=t.retrieveValueFromItem=function(g,v){if(null!=g){var _=s[v];if(_)return f(g,v,_.name)}};return t.getDimensionInfo=jt(pFe,null,s,l),t.cloneAllDimensionInfo=jt(mFe,null,s),t}(u,a)});return Fe(Gr(a.transform({upstream:s[0],upstreamList:s,config:lt(n.config)})),function(u,d){Oe(u)||Ei(""),u.data||Ei(""),wN(_Q(u.data))||Ei("");var p,g=e[0];if(g&&0===d&&!u.dimensions){var v=g.startIndex;v&&(u.data=g.data.slice(0,v).concat(u.data)),p={seriesLayoutBy:nl,sourceHeader:v,dimensions:g.metaRawOption.dimensions}}else p={seriesLayoutBy:nl,sourceHeader:0,dimensions:u.dimensions};return gN(u.data,p,null)})}function wN(n){return n===Yi||n===Sa}var CN,OT="undefined",yFe=typeof Uint32Array===OT?Array:Uint32Array,bFe=typeof Uint16Array===OT?Array:Uint16Array,NQ=typeof Int32Array===OT?Array:Int32Array,FQ=typeof Float64Array===OT?Array:Float64Array,LQ={float:FQ,int:NQ,ordinal:Array,number:Array,time:FQ};function bp(n){return n>65535?yFe:bFe}function wFe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function VQ(n,e,t,r,i){var o=LQ[t||"float"];if(i){var a=n[e],s=a&&a.length;if(s!==r){for(var l=new o(r),c=0;c<s;c++)l[c]=a[c];n[e]=l}}else n[e]=new o(r)}var CFe=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=rt()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),o=this.defaultDimValueGetter=CN[i.sourceFormat];this._dimValueGetter=r||o,this._rawExtent=[],wQ(i),this._dimensions=Fe(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,o=r.get(e);if(null!=o){if(i[o].type===t)return o}else o=i.length;return i[o]={type:t},r.set(e,o),this._chunks[o]=new LQ[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],o=this._rawExtent,a=i.ordinalOffset||0,s=r.length;0===a&&(o[e]=[1/0,-1/0]);for(var l=o[e],c=a;c<s;c++){var u=r[c]=t.parseAndCollect(r[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=t,i.ordinalOffset=s,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,o=i.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t||0),c=0;c<o;c++)VQ(r,c,i[c].type,l,!0);for(var d=[],h=s;h<l;h++)for(var f=h-s,p=0;p<o;p++){var g=CN.arrayRows.call(this,e[f]||d,i[p].property,f,p);r[p][h]=g;var v=a[p];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=Fe(a,function(y){return y.property}),u=0;u<s;u++){var d=a[u];l[u]||(l[u]=[1/0,-1/0]),VQ(o,u,d.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,o,l);else for(var h=[],f=e;f<t;f++){h=i.getItem(f,h);for(var p=0;p<s;p++){var g=o[p],v=this._dimValueGetter(h,c[p],f,p);g[f]=v;var _=l[p];v<_[0]&&(_[0]=v),v>_[1]&&(_[1]=v)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(null==t){t=e,e=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=e;o=0;for(var a=i.length;o<a;o++)r.push(this.get(i[o],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var r=0;if(this._chunks[e])for(var i=0,o=this.count();i<o;i++){var a=this.get(e,i);isNaN(a)||(r+=a)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(o){isNaN(o)||t.push(o)});var r=t.sort(function(o,a){return o-a}),i=this.count();return 0===i?0:i%2==1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(null!=r&&r<this._count&&r===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(t[a]<e)i=a+1;else{if(!(t[a]>e))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(e,t,r){var o=this._chunks[e],a=[];if(!o)return a;null==r&&(r=1/0);for(var s=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var f=t-o[this.getRawIndex(u)],p=Math.abs(f);p<=r&&((p<s||p===s&&f>=0&&l<0)&&(s=p,l=f,c=0),f===l&&(a[c++]=u))}return a.length=c,a},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var i=this._count;if((r=t.constructor)===Array){e=new r(i);for(var o=0;o<i;o++)e[o]=t[o]}else e=new r(t.buffer,0,i)}else{var r;for(e=new(r=bp(this._rawCount))(this.count()),o=0;o<e.length;o++)e[o]=o}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=new(bp(r._rawCount))(i),s=[],l=e.length,c=0,u=e[0],d=r._chunks,h=0;h<i;h++){var f=void 0,p=r.getRawIndex(h);if(0===l)f=t(h);else if(1===l)f=t(d[u][p],h);else{for(var v=0;v<l;v++)s[v]=d[e[v]][p];s[v]=h,f=t.apply(null,s)}f&&(a[c++]=p)}return c<i&&(r._indices=a),r._count=c,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=yn(e),o=i.length;if(!o)return this;var a=t.count(),l=new(bp(t._rawCount))(a),c=0,u=i[0],d=e[u][0],h=e[u][1],f=t._chunks,p=!1;if(!t._indices){var g=0;if(1===o){for(var v=f[i[0]],_=0;_<r;_++)((y=v[_])>=d&&y<=h||isNaN(y))&&(l[c++]=g),g++;p=!0}else if(2===o){v=f[i[0]];var w=f[i[1]],I=e[i[1]][0],M=e[i[1]][1];for(_=0;_<r;_++){var P=w[_];((y=v[_])>=d&&y<=h||isNaN(y))&&(P>=I&&P<=M||isNaN(P))&&(l[c++]=g),g++}p=!0}}if(!p)if(1===o)for(_=0;_<a;_++){var T=t.getRawIndex(_);((y=f[i[0]][T])>=d&&y<=h||isNaN(y))&&(l[c++]=T)}else for(_=0;_<a;_++){for(var E=!0,D=(T=t.getRawIndex(_),0);D<o;D++){var y,S=i[D];((y=f[S][T])<e[S][0]||y>e[S][1])&&(E=!1)}E&&(l[c++]=t.getRawIndex(_))}return c<a&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,o=[],a=t.length,s=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=[1/0,-1/0];for(var d=0;d<s;d++){for(var h=e.getRawIndex(d),f=0;f<a;f++)l[f]=i[t[f]][h];l[a]=d;var p=r&&r.apply(null,l);if(null!=p)for("object"!=typeof p&&(o[0]=p,p=o),u=0;u<p.length;u++){var g=t[u],v=p[u],_=c[g],y=i[g];y&&(y[h]=v),v<_[0]&&(_[0]=v),v>_[1]&&(_[1]=v)}}},n.prototype.lttbDownSample=function(e,t){var u,d,h,r=this.clone([e],!0),o=r._chunks[e],a=this.count(),s=0,l=Math.floor(1/t),c=this.getRawIndex(0),f=new(bp(this._rawCount))(Math.min(2*(Math.ceil(a/l)+2),a));f[s++]=c;for(var p=1;p<a-1;p+=l){for(var g=Math.min(p+l,a-1),v=Math.min(p+2*l,a),_=(v+g)/2,y=0,w=g;w<v;w++){var M=o[I=this.getRawIndex(w)];isNaN(M)||(y+=M)}y/=v-g;var P=p,T=Math.min(p+l,a),E=p-1,D=o[c];u=-1,h=P;var S=-1,x=0;for(w=P;w<T;w++){var I;M=o[I=this.getRawIndex(w)],isNaN(M)?(x++,S<0&&(S=I)):(d=Math.abs((E-_)*(M-D)-(E-w)*(y-D)))>u&&(u=d,h=I)}x>0&&x<T-P&&(f[s++]=Math.min(S,h),h=Math.max(S,h)),f[s++]=h,c=h}return f[s++]=this.getRawIndex(a-1),r._count=s,r._indices=f,r.getRawIndex=this._getRawIdx,r},n.prototype.minmaxDownSample=function(e,t){for(var r=this.clone([e],!0),i=r._chunks,o=Math.floor(1/t),a=i[e],s=this.count(),l=new(bp(this._rawCount))(2*Math.ceil(s/o)),c=0,u=0;u<s;u+=o){var d=u,h=a[this.getRawIndex(d)],f=u,p=a[this.getRawIndex(f)],g=o;u+o>s&&(g=s-u);for(var v=0;v<g;v++){var y=a[this.getRawIndex(u+v)];y<h&&(h=y,d=u+v),y>p&&(p=y,f=u+v)}var w=this.getRawIndex(d),I=this.getRawIndex(f);d<f?(l[c++]=w,l[c++]=I):(l[c++]=I,l[c++]=w)}return r._count=c,r._indices=l,r._updateGetRawIdx(),r},n.prototype.downSample=function(e,t,r,i){for(var o=this.clone([e],!0),a=o._chunks,s=[],l=Math.floor(1/t),c=a[e],u=this.count(),d=o._rawExtent[e]=[1/0,-1/0],h=new(bp(this._rawCount))(Math.ceil(u/l)),f=0,p=0;p<u;p+=l){l>u-p&&(s.length=l=u-p);for(var g=0;g<l;g++){var v=this.getRawIndex(p+g);s[g]=c[v]}var _=r(s),y=this.getRawIndex(Math.min(p+i(s,_)||0,u-1));c[y]=_,_<d[0]&&(d[0]=_),_>d[1]&&(d[1]=_),h[f++]=y}return o._count=f,o._indices=h,o._updateGetRawIdx(),o},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(r){case 0:t(o);break;case 1:t(i[e[0]][s],o);break;case 2:t(i[e[0]][s],i[e[1]][s],o);break;default:for(var l=0,c=[];l<r;l++)c[l]=i[e[l]][s];c[l]=o,t.apply(null,c)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=[1/0,-1/0];if(!t)return r;var a,i=this.count();if(!this._indices)return this._rawExtent[e].slice();if(a=this._extent[e])return a.slice();for(var s=(a=r)[0],l=a[1],c=0;c<i;c++){var d=t[this.getRawIndex(c)];d<s&&(s=d),d>l&&(l=d)}return this._extent[e]=a=[s,l],a},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,o=0;o<i.length;o++)r.push(i[o][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,o=e&&es(e,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<i.length;a++)r._chunks[a]=o[a]?wFe(i[a]):i[a];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=lt(this._extent),e._rawExtent=lt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,r,i,o){return kT(t[o],this._dimensions[o])}CN={arrayRows:e,objectRows:function(t,r,i,o){return kT(t[r],this._dimensions[o])},keyedColumns:e,original:function(t,r,i,o){var a=t&&(null==t.value?t:t.value);return kT(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(t,r,i,o){return t[o]}}}(),n}();const EN=CFe;var EFe=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var i,o,e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length;if(NT(e)){var a=e,s=void 0,l=void 0,c=void 0;if(r){var u=t[0];u.prepareSource(),s=(c=u.getSource()).data,l=c.sourceFormat,o=[u._getVersionSign()]}else l=vi(s=a.get("data",!0))?tl:$o,o=[];var d=this._getSourceMetaRawOption()||{},h=c&&c.metaRawOption||{},f=qe(d.seriesLayoutBy,h.seriesLayoutBy)||null,p=qe(d.sourceHeader,h.sourceHeader),g=qe(d.dimensions,h.dimensions);i=f!==h.seriesLayoutBy||!!p!=!!h.sourceHeader||g?[gN(s,{seriesLayoutBy:f,sourceHeader:p,dimensions:g},l)]:[]}else{var _=e;if(r){var y=this._applyTransform(t);i=y.sourceList,o=y.upstreamSignList}else i=[gN(_.get("source",!0),this._getSourceMetaRawOption(),null)],o=[]}this._setLocalSource(i,o)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);null!=i&&1!==e.length&&BQ("");var a,s=[],l=[];return L(e,function(c){c.prepareSource();var u=c.getSource(i||0);null!=i&&!u&&BQ(""),s.push(u),l.push(c._getVersionSign())}),r?a=function vFe(n,e){var r=Gr(n),i=r.length;i||Ei("");for(var a=0,s=i;a<s;a++)e=_Fe(r[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}(r,s):null!=i&&(a=[KNe(s[0])]),{sourceList:a,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){var t=this._sourceList[e=e||0];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var o=this._storeList,a=o[0];a||(a=o[0]={});var s=a[r];if(!s){var l=this._getUpstreamSourceManagers()[0];NT(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,r):(s=new EN).initData(new TQ(t,e.length),e),a[r]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(NT(e)){var t=cN(e);return t?[t.getSourceManager()]:[]}return Fe(function wNe(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?__(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},sd).models:[]}(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,r,i,e=this._sourceHost;if(NT(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=e;t=o.get("seriesLayoutBy",!0),r=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n}();function NT(n){return"series"===n.mainType}function BQ(n){throw new Error(n)}function UQ(n){var e=n.lineHeight;return null==e?"line-height:1":"line-height:"+yi(e+"")+"px"}function zQ(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+yi(r+"")+"px;color:"+yi(t)+";font-weight:"+yi(i+""),valueStyle:"font-size:"+yi(a+"")+"px;color:"+yi(o)+";font-weight:"+yi(s+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var IFe=[0,10,20,30],DFe=["","\n","\n\n","\n\n\n"];function V_(n,e){return e.type=n,e}function TN(n){return"section"===n.type}function HQ(n){return TN(n)?SFe:xFe}function jQ(n){if(TN(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return L(n.blocks,function(i){var o=jQ(i);o>=e&&(e=o+ +(r&&(!o||TN(i)&&!i.noHeader)))}),e}return 0}function SFe(n,e,t,r){var i=e.noHeader,o=function AFe(n){return{html:IFe[n],richText:DFe[n]}}(jQ(e)),a=[],s=e.blocks||[];ts(!s||me(s)),s=s||[];var l=n.orderMode;if(e.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(tc(c,l)){var u=new lFe(c[l],null);s.sort(function(g,v){return u.evaluate(g.sortParam,v.sortParam)})}else"seriesDesc"===l&&s.reverse()}L(s,function(g,v){var _=e.valueFormatter,y=HQ(g)(_?oe(oe({},n),{valueFormatter:_}):n,g,v>0?o.html:0,r);null!=y&&a.push(y)});var d="richText"===n.renderMode?a.join(o.richText):IN(r,a.join(""),i?t:o.html);if(i)return d;var h=iN(e.header,"ordinal",n.useUTC),f=zQ(r,n.renderMode).nameStyle,p=UQ(r);return"richText"===n.renderMode?GQ(n,h,f)+o.richText+d:IN(r,'<div style="'+f+";"+p+';">'+yi(h)+"</div>"+d,t)}function xFe(n,e,t,r){var i=n.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,c=n.useUTC,u=e.valueFormatter||n.valueFormatter||function(I){return Fe(I=me(I)?I:[I],function(M,P){return iN(M,me(f)?f[P]:f,c)})};if(!o||!a){var d=s?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),h=o?"":iN(l,"ordinal",c),f=e.valueType,p=a?[]:u(e.value,e.dataIndex),g=!s||!o,v=!s&&o,_=zQ(r,i),y=_.nameStyle,w=_.valueStyle;return"richText"===i?(s?"":d)+(o?"":GQ(n,h,y))+(a?"":function PFe(n,e,t,r,i){var o=[i];return t&&o.push({padding:[0,0,0,r?10:20],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(me(e)?e.join("  "):e,o)}(n,p,g,v,w)):IN(r,(s?"":d)+(o?"":function MFe(n,e,t){return'<span style="'+t+";"+(e?"margin-left:2px":"")+'">'+yi(n)+"</span>"}(h,!s,y))+(a?"":function RFe(n,e,t,r){return'<span style="'+(e?"float:right;margin-left:"+(t?"10px":"20px"):"")+";"+r+'">'+Fe(n=me(n)?n:[n],function(a){return yi(a)}).join("&nbsp;&nbsp;")+"</span>"}(p,g,v,w)),t)}}function $Q(n,e,t,r,i,o){if(n)return HQ(n)({useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter},n,0,o)}function IN(n,e,t){return'<div style="margin: '+t+"px 0 0;"+UQ(n)+';">'+e+'<div style="clear:both"></div></div>'}function GQ(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function qQ(n,e){return n.get("padding")??("richText"===e?[8,10]:10)}var DN=function(){function n(){this.richTextStyles={},this._nextStyleNameId=mK()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i="richText"===r?this._generateStyleName():null,o=qX({color:t,type:e,renderMode:r,markerId:i});return we(o)?o:(this.richTextStyles[i]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};me(t)?L(t,function(o){return oe(r,o)}):oe(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n}();var mc=In();function FT(n,e){return n.getName(e)||n.getId(e)}var LT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return Lt(e,n),e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=L_({count:VFe,reset:BFe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),(mc(this).sourceManager=new EFe(this)).prepareSource();var a=this.getInitialData(t,i);YQ(a,this),this.dataTask.context.data=a,mc(this).dataBeforeProcessed=a,WQ(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=xT(this),o=i?lN(t):{},a=this.subType;un.hasClass(a)&&(a+="Series"),en(t,r.getTheme().get(this.subType)),en(t,this.getDefaultOption()),fO(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&P_(t,o,i)},e.prototype.mergeOption=function(t,r){t=en(this.option,t,!0),this.fillDataTextStyle(t.data);var i=xT(this);i&&P_(this.option,t,i);var o=mc(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(t,r);YQ(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,mc(this).dataBeforeProcessed=a,WQ(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(t){if(t&&!vi(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&fO(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var r=SN(this);if(r){var i=r.context.data;return null!=t&&i.getLinkedData?i.getLinkedData(t):i}return mc(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=SN(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}mc(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return rt(t)},e.prototype.getSourceManager=function(){return mc(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return mc(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,i){return function OFe(n){var u,d,h,f,e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),o=i.mapDimensionsAll("defaultedTooltip"),a=o.length,s=e.getRawValue(t),l=me(s),c=function kFe(n,e){return M_(n.getData().getItemVisual(e,"style")[n.visualDrawType])}(e,t);if(a>1||l&&!a){var p=function NFe(n,e,t,r,i){var o=e.getData(),a=es(n,function(d,h,f){var p=o.getDimensionInfo(f);return d||p&&!1!==p.tooltip&&null!=p.displayName},!1),s=[],l=[],c=[];function u(d,h){var f=o.getDimensionInfo(h);!f||!1===f.otherDims.tooltip||(a?c.push(V_("nameValue",{markerType:"subItem",markerColor:i,name:f.displayName,value:d,valueType:f.type})):(s.push(d),l.push(f.type)))}return r.length?L(r,function(d){u(PT(o,t,d),d)}):L(n,u),{inlineValues:s,inlineValueTypes:l,blocks:c}}(s,e,t,o,c);u=p.inlineValues,d=p.inlineValueTypes,h=p.blocks,f=p.inlineValues[0]}else if(a){var g=i.getDimensionInfo(o[0]);f=u=PT(i,t,o[0]),d=g.type}else f=u=l?s[0]:s;var v=pO(e),_=v&&e.name||"",y=i.getName(t),w=r?_:y;return V_("section",{header:_,noHeader:r||!v,sortParam:f,blocks:[V_("nameValue",{markerType:"item",markerColor:c,name:w,noName:!Ca(w),value:u,valueType:d,dataIndex:t})].concat(h||[])})}({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(nt.node&&(!t||!t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var o=this.ecModel,a=dN.prototype.getColorFromPalette.call(this,t,r,i);return a||(a=o.getColorFromPalette(t,r,i)),a},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,a=this.getData(r);if("series"===o||"all"===i)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<t.length;s++){var c=FT(a,t[s]);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],o=0;o<t.length;o++)i[0]=t[o],this.isSelected(t[o],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=yn(t),i=[],o=0;o<r.length;o++){var a=t[r[o]];a>=0&&i.push(a)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(r);return("all"===i||i[FT(o,t)])&&!o.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,r){var i,o,a=this.option,s=a.selectedMode,l=r.length;if(s&&l)if("series"===s)a.selectedMap="all";else if("multiple"===s){Oe(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,u=0;u<l;u++){var d=r[u];c[h=FT(t,d)]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(d)}}else if("single"===s||!0===s){var f=r[l-1],h=FT(t,f);a.selectedMap=((i={})[h]=!0,i),this._selectedDataIndicesMap=((o={})[h]=t.getRawIndex(f),o)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var o=t.getRawDataItem(i);o&&o.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return un.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(un);function WQ(n){var e=n.name;pO(n)||(n.name=function LFe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return L(t,function(i){var o=e.getDimensionInfo(i);o.displayName&&r.push(o.displayName)}),r.join(" ")}(n)||e)}function VFe(n){return n.model.getRawData().count()}function BFe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),UFe}function UFe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function YQ(n,e){L(Q7(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Nn(zFe,e))})}function zFe(n,e){var t=SN(n);return t&&t.setOutputEnd((e||this).count()),e}function SN(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}wa(LT,nFe),wa(LT,dN),IK(LT,un);const gc=LT;var xN=function(){function n(){this.group=new Ia,this.uid=yT("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();vO(xN),iT(xN);const Aa=xN;var Cp=md.CMD,jFe=[[],[],[]],KQ=Math.sqrt,$Fe=Math.atan2,AN=Math.sqrt,VT=Math.sin,BT=Math.cos,B_=Math.PI;function XQ(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function MN(n,e){return(n[0]*e[0]+n[1]*e[1])/(XQ(n)*XQ(e))}function QQ(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(MN(n,e))}function ZQ(n,e,t,r,i,o,a,s,l,c,u){var d=l*(B_/180),h=BT(d)*(n-t)/2+VT(d)*(e-r)/2,f=-1*VT(d)*(n-t)/2+BT(d)*(e-r)/2,p=h*h/(a*a)+f*f/(s*s);p>1&&(a*=AN(p),s*=AN(p));var g=(i===o?-1:1)*AN((a*a*(s*s)-a*a*(f*f)-s*s*(h*h))/(a*a*(f*f)+s*s*(h*h)))||0,v=g*a*f/s,_=g*-s*h/a,y=(n+t)/2+BT(d)*v-VT(d)*_,w=(e+r)/2+VT(d)*v+BT(d)*_,I=QQ([1,0],[(h-v)/a,(f-_)/s]),M=[(h-v)/a,(f-_)/s],P=[(-1*h-v)/a,(-1*f-_)/s],T=QQ(M,P);if(MN(M,P)<=-1&&(T=B_),MN(M,P)>=1&&(T=0),T<0){var E=Math.round(T/B_*1e6)/1e6;T=2*B_+E%2*B_}u.addData(c,y,w,a,s,I,T,d,o)}var qFe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,WFe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,JQ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.applyTransform=function(t){},e}(rn);function eZ(n){return null!=n.setData}function tZ(n,e){var t=function YFe(n){var e=new md;if(!n)return e;var a,t=0,r=0,i=t,o=r,s=md.CMD,l=n.match(qFe);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),h=void 0,f=u.match(WFe)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var v=0;v<p;){var _=void 0,y=void 0,w=void 0,I=void 0,M=void 0,P=void 0,T=void 0,E=t,D=r,S=void 0,x=void 0;switch(d){case"l":t+=f[v++],r+=f[v++],e.addData(h=s.L,t,r);break;case"L":t=f[v++],r=f[v++],e.addData(h=s.L,t,r);break;case"m":t+=f[v++],r+=f[v++],e.addData(h=s.M,t,r),i=t,o=r,d="l";break;case"M":t=f[v++],r=f[v++],e.addData(h=s.M,t,r),i=t,o=r,d="L";break;case"h":t+=f[v++],e.addData(h=s.L,t,r);break;case"H":t=f[v++],e.addData(h=s.L,t,r);break;case"v":r+=f[v++],e.addData(h=s.L,t,r);break;case"V":r=f[v++],e.addData(h=s.L,t,r);break;case"C":e.addData(h=s.C,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),t=f[v-2],r=f[v-1];break;case"c":e.addData(h=s.C,f[v++]+t,f[v++]+r,f[v++]+t,f[v++]+r,f[v++]+t,f[v++]+r),t+=f[v-2],r+=f[v-1];break;case"S":_=t,y=r,S=e.len(),x=e.data,a===s.C&&(_+=t-x[S-4],y+=r-x[S-3]),E=f[v++],D=f[v++],t=f[v++],r=f[v++],e.addData(h=s.C,_,y,E,D,t,r);break;case"s":_=t,y=r,S=e.len(),x=e.data,a===s.C&&(_+=t-x[S-4],y+=r-x[S-3]),E=t+f[v++],D=r+f[v++],t+=f[v++],r+=f[v++],e.addData(h=s.C,_,y,E,D,t,r);break;case"Q":E=f[v++],D=f[v++],t=f[v++],r=f[v++],e.addData(h=s.Q,E,D,t,r);break;case"q":E=f[v++]+t,D=f[v++]+r,t+=f[v++],r+=f[v++],e.addData(h=s.Q,E,D,t,r);break;case"T":_=t,y=r,S=e.len(),x=e.data,a===s.Q&&(_+=t-x[S-4],y+=r-x[S-3]),t=f[v++],r=f[v++],e.addData(h=s.Q,_,y,t,r);break;case"t":_=t,y=r,S=e.len(),x=e.data,a===s.Q&&(_+=t-x[S-4],y+=r-x[S-3]),t+=f[v++],r+=f[v++],e.addData(h=s.Q,_,y,t,r);break;case"A":w=f[v++],I=f[v++],M=f[v++],P=f[v++],T=f[v++],ZQ(E=t,D=r,t=f[v++],r=f[v++],P,T,w,I,M,h=s.A,e);break;case"a":w=f[v++],I=f[v++],M=f[v++],P=f[v++],T=f[v++],ZQ(E=t,D=r,t+=f[v++],r+=f[v++],P,T,w,I,M,h=s.A,e)}}("z"===d||"Z"===d)&&(e.addData(h=s.Z),t=i,r=o),a=h}return e.toStatic(),e}(n),r=oe({},e);return r.buildPath=function(i){var o;eZ(i)?(i.setData(t.data),(o=i.getContext())&&i.rebuildPath(o,1)):t.rebuildPath(o=i,1)},r.applyTransform=function(i){(function GFe(n,e){if(e){var i,o,a,s,l,c,t=n.data,r=n.len(),u=Cp.M,d=Cp.C,h=Cp.L,f=Cp.R,p=Cp.A,g=Cp.Q;for(a=0,s=0;a<r;){switch(i=t[a++],s=a,o=0,i){case u:case h:o=1;break;case d:o=3;break;case g:o=2;break;case p:var v=e[4],_=e[5],y=KQ(e[0]*e[0]+e[1]*e[1]),w=KQ(e[2]*e[2]+e[3]*e[3]),I=$Fe(-e[1]/w,e[0]/y);t[a]*=y,t[a++]+=v,t[a]*=w,t[a++]+=_,t[a++]*=y,t[a++]*=w,t[a++]+=I,t[a++]+=I,s=a+=2;break;case f:c[0]=t[a++],c[1]=t[a++],go(c,c,e),t[s++]=c[0],t[s++]=c[1],c[0]+=t[a++],c[1]+=t[a++],go(c,c,e),t[s++]=c[0],t[s++]=c[1]}for(l=0;l<o;l++){var M=jFe[l];M[0]=t[a++],M[1]=t[a++],go(M,M,e),t[s++]=M[0],t[s++]=M[1]}}n.increaseVersion()}})(t,i),this.dirtyShape()},r}var ZFe=function(){return function n(){this.cx=0,this.cy=0,this.r=0}}(),nZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultShape=function(){return new ZFe},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,2*Math.PI)},e}(rn);nZ.prototype.type="circle";const UT=nZ;var JFe=function(){return function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}}(),rZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultShape=function(){return new JFe},e.prototype.buildPath=function(t,r){var i=.5522848,o=r.cx,a=r.cy,s=r.rx,l=r.ry,c=s*i,u=l*i;t.moveTo(o-s,a),t.bezierCurveTo(o-s,a-u,o-c,a-l,o,a-l),t.bezierCurveTo(o+c,a-l,o+s,a-u,o+s,a),t.bezierCurveTo(o+s,a+u,o+c,a+l,o,a+l),t.bezierCurveTo(o-c,a+l,o-s,a+u,o-s,a),t.closePath()},e}(rn);rZ.prototype.type="ellipse";const RN=rZ;var iZ=Math.PI,PN=2*iZ,Dd=Math.sin,Ep=Math.cos,eLe=Math.acos,Wr=Math.atan2,oZ=Math.abs,U_=Math.sqrt,z_=Math.max,hs=Math.min,Ma=1e-4;function zT(n,e,t,r,i,o,a){var s=n-t,l=e-r,c=(a?o:-o)/U_(s*s+l*l),u=c*l,d=-c*s,h=n+u,f=e+d,p=t+u,g=r+d,v=(h+p)/2,_=(f+g)/2,y=p-h,w=g-f,I=y*y+w*w,M=i-o,P=h*g-p*f,T=(w<0?-1:1)*U_(z_(0,M*M*I-P*P)),E=(P*w-y*T)/I,D=(-P*y-w*T)/I,S=(P*w+y*T)/I,x=(-P*y+w*T)/I,N=E-v,R=D-_,q=S-v,ee=x-_;return N*N+R*R>q*q+ee*ee&&(E=S,D=x),{cx:E,cy:D,x0:-u,y0:-d,x1:E*(i/M-1),y1:D*(i/M-1)}}var iLe=function(){return function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}}(),aZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultShape=function(){return new iLe},e.prototype.buildPath=function(t,r){!function rLe(n,e){var t,r=z_(e.r,0),i=z_(e.r0||0,0),o=r>0;if(o||i>0){if(o||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=e.startAngle,c=e.endAngle;if(!isNaN(l)&&!isNaN(c)){var u=e.cx,d=e.cy,h=!!e.clockwise,f=oZ(c-l),p=f>PN&&f%PN;if(p>Ma&&(f=p),r>Ma)if(f>PN-Ma)n.moveTo(u+r*Ep(l),d+r*Dd(l)),n.arc(u,d,r,l,c,!h),i>Ma&&(n.moveTo(u+i*Ep(c),d+i*Dd(c)),n.arc(u,d,i,c,l,h));else{var g=void 0,v=void 0,_=void 0,y=void 0,w=void 0,I=void 0,M=void 0,P=void 0,T=void 0,E=void 0,D=void 0,S=void 0,x=void 0,N=void 0,R=void 0,q=void 0,ee=r*Ep(l),re=r*Dd(l),ve=i*Ep(c),pe=i*Dd(c),de=f>Ma;if(de){var Ee=e.cornerRadius;Ee&&(t=function nLe(n){var e;if(me(n)){var t=n.length;if(!t)return n;e=1===t?[n[0],n[0],0,0]:2===t?[n[0],n[0],n[1],n[1]]:3===t?n.concat(n[2]):n}else e=[n,n,n,n];return e}(Ee),g=t[0],v=t[1],_=t[2],y=t[3]);var ze=oZ(r-i)/2;if(w=hs(ze,_),I=hs(ze,y),M=hs(ze,g),P=hs(ze,v),D=T=z_(w,I),S=E=z_(M,P),(T>Ma||E>Ma)&&(x=r*Ep(c),N=r*Dd(c),R=i*Ep(l),q=i*Dd(l),f<iZ)){var Ce=function tLe(n,e,t,r,i,o,a,s){var l=t-n,c=r-e,u=a-i,d=s-o,h=d*l-u*c;if(!(h*h<Ma))return[n+(h=(u*(e-o)-d*(n-i))/h)*l,e+h*c]}(ee,re,R,q,x,N,ve,pe);if(Ce){var Qe=ee-Ce[0],ir=re-Ce[1],mr=x-Ce[0],ta=N-Ce[1],Tr=1/Dd(eLe((Qe*mr+ir*ta)/(U_(Qe*Qe+ir*ir)*U_(mr*mr+ta*ta)))/2),Ri=U_(Ce[0]*Ce[0]+Ce[1]*Ce[1]);D=hs(T,(r-Ri)/(Tr+1)),S=hs(E,(i-Ri)/(Tr-1))}}}if(de)if(D>Ma){var gr=hs(_,D),an=hs(y,D),Le=zT(R,q,ee,re,r,gr,h),Ze=zT(x,N,ve,pe,r,an,h);n.moveTo(u+Le.cx+Le.x0,d+Le.cy+Le.y0),D<T&&gr===an?n.arc(u+Le.cx,d+Le.cy,D,Wr(Le.y0,Le.x0),Wr(Ze.y0,Ze.x0),!h):(gr>0&&n.arc(u+Le.cx,d+Le.cy,gr,Wr(Le.y0,Le.x0),Wr(Le.y1,Le.x1),!h),n.arc(u,d,r,Wr(Le.cy+Le.y1,Le.cx+Le.x1),Wr(Ze.cy+Ze.y1,Ze.cx+Ze.x1),!h),an>0&&n.arc(u+Ze.cx,d+Ze.cy,an,Wr(Ze.y1,Ze.x1),Wr(Ze.y0,Ze.x0),!h))}else n.moveTo(u+ee,d+re),n.arc(u,d,r,l,c,!h);else n.moveTo(u+ee,d+re);i>Ma&&de?S>Ma?(gr=hs(g,S),Le=zT(ve,pe,x,N,i,-(an=hs(v,S)),h),Ze=zT(ee,re,R,q,i,-gr,h),n.lineTo(u+Le.cx+Le.x0,d+Le.cy+Le.y0),S<E&&gr===an?n.arc(u+Le.cx,d+Le.cy,S,Wr(Le.y0,Le.x0),Wr(Ze.y0,Ze.x0),!h):(an>0&&n.arc(u+Le.cx,d+Le.cy,an,Wr(Le.y0,Le.x0),Wr(Le.y1,Le.x1),!h),n.arc(u,d,i,Wr(Le.cy+Le.y1,Le.cx+Le.x1),Wr(Ze.cy+Ze.y1,Ze.cx+Ze.x1),h),gr>0&&n.arc(u+Ze.cx,d+Ze.cy,gr,Wr(Ze.y1,Ze.x1),Wr(Ze.y0,Ze.x0),!h))):(n.lineTo(u+ve,d+pe),n.arc(u,d,i,c,l,h)):n.lineTo(u+ve,d+pe)}else n.moveTo(u,d);n.closePath()}}}(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(rn);aZ.prototype.type="sector";const H_=aZ;var oLe=function(){return function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}}(),sZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultShape=function(){return new oLe},e.prototype.buildPath=function(t,r){var i=r.cx,o=r.cy,a=2*Math.PI;t.moveTo(i+r.r,o),t.arc(i,o,r.r,0,a,!1),t.moveTo(i+r.r0,o),t.arc(i,o,r.r0,0,a,!0)},e}(rn);sZ.prototype.type="ring";const kN=sZ;function lZ(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var o=function aLe(n,e,t,r){var l,c,u,d,i=[],o=[],a=[],s=[];if(r){u=[1/0,1/0],d=[-1/0,-1/0];for(var h=0,f=n.length;h<f;h++)nc(u,u,n[h]),rc(d,d,n[h]);nc(u,u,r[0]),rc(d,d,r[1])}for(h=0,f=n.length;h<f;h++){var p=n[h];if(t)l=n[h?h-1:f-1],c=n[(h+1)%f];else{if(0===h||h===f-1){i.push(nY(n[h]));continue}l=n[h-1],c=n[h+1]}rY(o,c,l),ME(o,o,e);var g=RE(p,l),v=RE(p,c),_=g+v;0!==_&&(g/=_,v/=_),ME(a,o,-g),ME(s,o,v);var y=vk([],p,a),w=vk([],p,s);r&&(rc(y,y,u),nc(y,y,d),rc(w,w,u),nc(w,w,d)),i.push(y),i.push(w)}return t&&i.push(i.shift()),i}(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(t?a:a-1);s++){var l=o[2*s],c=o[2*s+1],u=i[(s+1)%a];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(i[0][0],i[0][1]),s=1;for(var d=i.length;s<d;s++)n.lineTo(i[s][0],i[s][1])}t&&n.closePath()}}var sLe=function(){return function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}}(),cZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultShape=function(){return new sLe},e.prototype.buildPath=function(t,r){lZ(t,r,!0)},e}(rn);cZ.prototype.type="polygon";const ON=cZ;var lLe=function(){return function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}}(),uZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new lLe},e.prototype.buildPath=function(t,r){lZ(t,r,!1)},e}(rn);uZ.prototype.type="polyline";const j_=uZ;var cLe={},uLe=function(){return function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}(),dZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new uLe},e.prototype.buildPath=function(t,r){var i,o,a,s;if(this.subPixelOptimize){var l=jK(cLe,r,this.style);i=l.x1,o=l.y1,a=l.x2,s=l.y2}else i=r.x1,o=r.y1,a=r.x2,s=r.y2;var c=r.percent;0!==c&&(t.moveTo(i,o),c<1&&(a=i*(1-c)+a*c,s=o*(1-c)+s*c),t.lineTo(a,s))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e}(rn);dZ.prototype.type="line";const Tp=dZ;var Ki=[],dLe=function(){return function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}}();function hZ(n,e,t){return null!=n.cpx2||null!=n.cpy2?[(t?SY:Ar)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?SY:Ar)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?RY:$r)(n.x1,n.cpx1,n.x2,e),(t?RY:$r)(n.y1,n.cpy1,n.y2,e)]}var fZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new dLe},e.prototype.buildPath=function(t,r){var i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.cpx1,c=r.cpy1,u=r.cpx2,d=r.cpy2,h=r.percent;0!==h&&(t.moveTo(i,o),null==u||null==d?(h<1&&($E(i,l,a,h,Ki),l=Ki[1],a=Ki[2],$E(o,c,s,h,Ki),c=Ki[1],s=Ki[2]),t.quadraticCurveTo(l,c,a,s)):(h<1&&(jE(i,l,u,a,h,Ki),l=Ki[1],u=Ki[2],a=Ki[3],jE(o,c,d,s,h,Ki),c=Ki[1],d=Ki[2],s=Ki[3]),t.bezierCurveTo(l,c,u,d,a,s)))},e.prototype.pointAt=function(t){return hZ(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=hZ(this.shape,t,!0);return iY(r,r)},e}(rn);fZ.prototype.type="bezier-curve";const NN=fZ;var hLe=function(){return function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),pZ=function(n){function e(t){return n.call(this,t)||this}return Vt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new hLe},e.prototype.buildPath=function(t,r){var i=r.cx,o=r.cy,a=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,c=r.clockwise,u=Math.cos(s),d=Math.sin(s);t.moveTo(u*a+i,d*a+o),t.arc(i,o,a,s,l,!c)},e}(rn);pZ.prototype.type="arc";const HT=pZ;var fLe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="compound",t}return Vt(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],o=0;o<i.length;o++)i[o].buildPath(t,i[o].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),rn.prototype.getBoundingRect.call(this)},e}(rn);const mZ=fLe;var pLe=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const gZ=pLe;var mLe=function(n){function e(t,r,i,o,a,s){var l=n.call(this,a)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return Vt(e,n),e}(gZ);const vZ=mLe;var gLe=function(n){function e(t,r,i,o,a){var s=n.call(this,o)||this;return s.x=t??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=a||!1,s}return Vt(e,n),e}(gZ);const _Z=gLe;var Sd=[0,0],xd=[0,0],jT=new $e,$T=new $e,vLe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new $e;for(r=0;r<2;r++)this._axes[r]=new $e;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,o=e.x,a=e.y,s=o+e.width,l=a+e.height;if(r[0].set(o,a),r[1].set(s,a),r[2].set(s,l),r[3].set(o,l),t)for(var c=0;c<4;c++)r[c].transform(t);for($e.sub(i[0],r[1],r[0]),$e.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize(),c=0;c<2;c++)this._origin[c]=i[c].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,i=!t;return jT.set(1/0,1/0),$T.set(0,0),!this._intersectCheckOneSide(this,e,jT,$T,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,jT,$T,i,-1)&&(r=!1,i)||i||$e.copy(t,r?jT:$T),r},n.prototype._intersectCheckOneSide=function(e,t,r,i,o,a){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,Sd),this._getProjMinMaxOnAxis(l,t._corners,xd),Sd[1]<xd[0]||Sd[0]>xd[1]){if(s=!1,o)return s;var u=Math.abs(xd[0]-Sd[1]),d=Math.abs(Sd[0]-xd[1]);Math.min(u,d)>i.len()&&$e.scale(i,c,u<d?-u*a:d*a)}else r&&(u=Math.abs(xd[0]-Sd[1]),d=Math.abs(Sd[0]-xd[1]),Math.min(u,d)<r.len()&&$e.scale(r,c,u<d?u*a:-d*a))}return s},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],o=this._origin,a=t[0].dot(i)+o[e],s=a,l=a,c=1;c<t.length;c++){var u=t[c].dot(i)+o[e];s=Math.min(u,s),l=Math.max(u,l)}r[0]=s,r[1]=l},n}();const GT=vLe;var _Le=[],yLe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return Vt(e,n),e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(r=this._displayables[t]).parent=this,r.update(),r.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var r;(r=this._temporaryDisplayables[t]).parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new bt(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(_Le)),t.union(o)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r);if(this.getBoundingRect().contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(t,r))return!0;return!1},e}(b_);const yZ=yLe;var qT=Math.max,WT=Math.min,FN={};function bZ(n){return rn.extend(n)}var bLe=function XFe(n,e){var t=tZ(n,e);return function(i){function o(a){var s=i.call(this,a)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return Vt(o,i),o}(JQ)};function wZ(n,e){return bLe(n,e)}function qo(n,e){FN[n]=e}function CZ(n){if(FN.hasOwnProperty(n))return FN[n]}function YT(n,e,t,r){var i=function KFe(n,e){return new JQ(tZ(n,e))}(n,e);return t&&("center"===r&&(t=EZ(t,i.getBoundingRect())),VN(i,t)),i}function LN(n,e,t){var r=new vd({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){"center"===t&&r.setStyle(EZ(e,{width:i.width,height:i.height}))}});return r}function EZ(n,e){var i,t=e.width/e.height,r=n.height*t;return i=r<=n.width?n.height:(r=n.width)/t,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-i/2,width:r,height:i}}var TZ=function QFe(n,e){for(var t=[],r=n.length,i=0;i<r;i++)t.push(n[i].getUpdatedPathProxy(!0));var a=new rn(e);return a.createPathProxy(),a.buildPath=function(s){if(eZ(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},a};function VN(n,e){if(n.applyTransform){var r=n.getBoundingRect().calculateTransform(e);n.applyTransform(r)}}function BN(n,e){return jK(n,n,{lineWidth:e}),n}function wLe(n){return $K(n.shape,n.shape,n.style),n}var CLe=_d;function IZ(n,e){for(var t=Zv([]);n&&n!==e;)oc(t,n.getLocalTransform(),t),n=n.parent;return t}function UN(n,e,t){return e&&!gi(e)&&(e=tT.getLocalTransform(e)),t&&(e=Jv([],e)),go([],n,e)}function ELe(n,e,t){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===n?-r:"right"===n?r:0,"top"===n?-i:"bottom"===n?i:0];return o=UN(o,e,t),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function DZ(n){return!n.isGroup}function ILe(n,e,t){if(n&&e){var o=function r(a){var s={};return a.traverse(function(l){DZ(l)&&l.anid&&(s[l.anid]=l)}),s}(n);e.traverse(function(a){if(DZ(a)&&a.anid){var s=o[a.anid];if(s){var l=i(a);a.attr(i(s)),us(a,l,t,Dt(a).dataIndex)}}})}function i(a){var s={x:a.x,y:a.y,rotation:a.rotation};return function TLe(n){return null!=n.shape}(a)&&(s.shape=oe({},a.shape)),s}}function SZ(n,e){return Fe(n,function(t){var r=t[0];r=qT(r,e.x),r=WT(r,e.x+e.width);var i=t[1];return i=qT(i,e.y),[r,i=WT(i,e.y+e.height)]})}function xZ(n,e){var t=qT(n.x,e.x),r=WT(n.x+n.width,e.x+e.width),i=qT(n.y,e.y),o=WT(n.y+n.height,e.y+e.height);if(r>=t&&o>=i)return{x:t,y:i,width:r-t,height:o-i}}function KT(n,e,t){var r=oe({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(i.image=n.slice(8),tn(i,t),new vd(r)):YT(n.replace("path://",""),r,t,"center")}function DLe(n,e,t,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(AZ(n,e,t,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function AZ(n,e,t,r,i,o,a,s){var l=t-n,c=r-e,u=a-i,d=s-o,h=zN(u,d,l,c);if(function SLe(n){return n<=1e-6&&n>=-1e-6}(h))return!1;var f=n-i,p=e-o,g=zN(f,p,l,c)/h;if(g<0||g>1)return!1;var v=zN(f,p,u,d)/h;return!(v<0||v>1)}function zN(n,e,t,r){return n*r-t*e}function XT(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=we(e)?{formatter:e}:e,o=t.mainType,a=t.componentIndex,s={componentType:o,name:r,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&L(yn(l),function(u){tc(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=Dt(n.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:r,option:tn({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function MZ(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function RZ(n,e){if(n)if(me(n))for(var t=0;t<n.length;t++)MZ(n[t],e);else MZ(n,e)}qo("circle",UT),qo("ellipse",RN),qo("sector",H_),qo("ring",kN),qo("polygon",ON),qo("polyline",j_),qo("rect",wi),qo("line",Tp),qo("bezierCurve",NN),qo("arc",HT);var PZ=In(),xLe=function HFe(){var n=In();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,o=!!t.progressiveRender,a=t.large=!(!r||!r.large),s=t.progressiveRender=!(!r||!r.progressiveRender);return(i!==a||o!==s)&&"reset"}}(),HN=function(){function n(){this.group=new Ia,this.uid=yT("viewChart"),this.renderTask=L_({plan:ALe,reset:MLe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var o=e.getData(i&&i.dataType);o&&OZ(o,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var o=e.getData(i&&i.dataType);o&&OZ(o,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){RZ(this.group,e)},n.markUpdateMethod=function(e,t){PZ(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function kZ(n,e,t){n&&jO(n)&&("emphasis"===e?VO:BO)(n,t)}function OZ(n,e,t){var r=v_(n,e),i=e&&null!=e.highlightKey?function FOe(n){var e=rX[n];return null==e&&nX<=32&&(e=rX[n]=nX++),e}(e.highlightKey):null;null!=r?L(Gr(r),function(o){kZ(n.getItemGraphicEl(o),t,i)}):n.eachItemGraphicEl(function(o){kZ(o,t,i)})}function ALe(n){return xLe(n.model)}function MLe(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,o=e.pipelineContext.progressiveRender,a=n.view,s=i&&PZ(i).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,t,r,i),RLe[l]}vO(HN),iT(HN);var RLe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const il=HN;var QT="\0__throttleOriginMethod",NZ="\0__throttleRate",FZ="\0__throttleType";function jN(n,e,t){var r,s,l,c,u,i=0,o=0,a=null;function d(){o=(new Date).getTime(),a=null,n.apply(l,c||[])}e=e||0;var h=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];r=(new Date).getTime(),l=this,c=f;var g=u||e,v=u||t;u=null,s=r-(v?i:o)-g,clearTimeout(a),v?a=setTimeout(d,g):s>=0?d():a=setTimeout(d,-s),i=r};return h.clear=function(){a&&(clearTimeout(a),a=null)},h.debounceNextCall=function(f){u=f},h}function LZ(n,e,t,r){var i=n[e];if(i){var o=i[QT]||i;if(i[NZ]!==t||i[FZ]!==r){if(null==t||!r)return n[e]=o;(i=n[e]=jN(o,t,"debounce"===r))[QT]=o,i[FZ]=r,i[NZ]=t}return i}}function $N(n,e){var t=n[e];t&&t[QT]&&(t.clear&&t.clear(),n[e]=t[QT])}var VZ=In(),BZ={itemStyle:y_(PX,!0),lineStyle:y_(RX,!0)},PLe={lineStyle:"stroke",itemStyle:"fill"};function UZ(n,e){return n.visualStyleMapper||BZ[e]||(console.warn("Unknown style type '"+e+"'."),BZ.itemStyle)}function zZ(n,e){return n.visualDrawType||PLe[e]||(console.warn("Unknown style type '"+e+"'."),"fill")}var kLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=UZ(n,r)(i),s=i.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=zZ(n,r),c=a[l],u=Xe(c)?c:null;if(!a[l]||u||"auto"===a.fill||"auto"===a.stroke){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());a[l]||(a[l]=h,t.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||Xe(a.fill)?h:a.fill,a.stroke="auto"===a.stroke||Xe(a.stroke)?h:a.stroke}if(t.setVisual("style",a),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(f,p){var g=n.getDataParams(p),v=oe({},a);v[l]=u(g),f.setItemVisual(p,"style",v)}}}},$_=new fr,OLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=UZ(n,r),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[r]){$_.option=l[r];var c=i($_);oe(a.ensureUniqueItemVisual(s,"style"),c),$_.option.decal&&(a.setItemVisual(s,"decal",$_.option.decal),$_.option.decal.dirty=!0),o in c&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},NLe={performRawSeries:!0,overallReset:function(n){var e=rt();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,o=e.get(i);o||e.set(i,o={}),VZ(t).scope=o}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var r=t.getRawData(),i={},o=t.getData(),a=VZ(t).scope,l=zZ(t,t.visualStyleAccessPath||"itemStyle");o.each(function(c){var u=o.getRawIndex(c);i[u]=c}),r.each(function(c){var u=i[c];if(o.getItemVisual(u,"colorFromPalette")){var h=o.ensureUniqueItemVisual(u,"style"),f=r.getName(c)||c+"",p=r.count();h[l]=t.getColorFromPalette(f,a,p)}})}})}},ZT=Math.PI,LLe=function(){function n(e,t,r,i){this._stageTaskMap=rt(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex?r.step:null,s=i&&i.modDataCount;return{step:a,modBy:null!=s?Math.ceil(s/a):null,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),o=e.getData().count(),a=r.progressiveEnabled&&t.incrementalPrepareRender&&o>=r.threshold,s=e.get("large")&&o>=e.get("largeThreshold"),l="mod"===e.get("progressiveChunkMode")?o:null;e.pipelineContext=r.context={progressiveRender:a,modDataCount:l,large:s}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=rt();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;r.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;L(this._allHandlers,function(i){var o=e.get(i.uid)||e.set(i.uid,{});ts(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,o,t,r),i.overallReset&&this._createOverallStageTask(i,o,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=r,a.api=i,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var o=!1,a=this;function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}L(e,function(l,c){if(!i.visualType||i.visualType===l.visualType){var u=a._stageTaskMap.get(l.uid),d=u.seriesTaskMap,h=u.overallTask;if(h){var f,p=h.agentStubMap;p.each(function(v){s(i,v)&&(v.dirty(),f=!0)}),f&&h.dirty(),a.updatePayload(h,r);var g=a.getPerformArgs(h,i.block);p.each(function(v){v.perform(g)}),h.perform(g)&&(o=!0)}else d&&d.each(function(v,_){s(i,v)&&v.dirty();var y=a.getPerformArgs(v,i.block);y.skip=!l.performRawSeries&&t.isSeriesFiltered(v.context.model),a.updatePayload(v,r),v.perform(y)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var o=this,a=t.seriesTaskMap,s=t.seriesTaskMap=rt(),l=e.seriesType,c=e.getTargetSeries;function u(d){var h=d.uid,f=s.set(h,a&&a.get(h)||L_({plan:HLe,reset:jLe,count:GLe}));f.context={model:d,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(d,f)}e.createOnAllSeries?r.eachRawSeries(u):l?r.eachRawSeriesByType(l,u):c&&c(r,i).each(u)},n.prototype._createOverallStageTask=function(e,t,r,i){var o=this,a=t.overallTask=t.overallTask||L_({reset:VLe});a.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=rt(),c=e.seriesType,u=e.getTargetSeries,d=!0,h=!1;function p(g){var v=g.uid,_=l.set(v,s&&s.get(v)||(h=!0,L_({reset:BLe,onDirty:zLe})));_.context={model:g,overallProgress:d},_.agent=a,_.__block=d,o._pipe(g,_)}ts(!e.createOnAllSeries,""),c?r.eachRawSeriesByType(c,p):u?u(r,i).each(p):(d=!1,L(r.getSeries(),p)),h&&a.dirty()},n.prototype._pipe=function(e,t){var i=this._pipelineMap.get(e.uid);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return Xe(e)&&(e={overallReset:e,seriesType:qLe(e)}),e.uid=yT("stageHandler"),t&&(e.visualType=t),e},n}();function VLe(n){n.overallReset(n.ecModel,n.api,n.payload)}function BLe(n){return n.overallProgress&&ULe}function ULe(){this.agent.dirty(),this.getDownstream().dirty()}function zLe(){this.agent&&this.agent.dirty()}function HLe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function jLe(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Gr(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?Fe(e,function(t,r){return HZ(r)}):$Le}var $Le=HZ(0);function HZ(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function GLe(n){return n.data.count()}function qLe(n){JT=null;try{n(G_,jZ)}catch{}return JT}var JT,G_={},jZ={};function $Z(n,e){for(var t in e.prototype)n[t]=_i}$Z(G_,cQ),$Z(jZ,uQ),G_.eachSeriesByType=G_.eachRawSeriesByType=function(n){JT=n},G_.eachComponent=function(n){"series"===n.mainType&&n.subType&&(JT=n.subType)};const GZ=LLe;var qZ=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const WLe={color:qZ,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],qZ]};var Yr="#B9B8CE",WZ="#100C2A",eI=function(){return{axisLine:{lineStyle:{color:Yr}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},YZ=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],KZ={darkMode:!0,color:YZ,backgroundColor:WZ,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Yr},pageTextStyle:{color:Yr}},textStyle:{color:Yr},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Yr}},dataZoom:{borderColor:"#71708A",textStyle:{color:Yr},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Yr}},timeline:{lineStyle:{color:Yr},label:{color:Yr},controlStyle:{color:Yr,borderColor:Yr}},calendar:{itemStyle:{color:WZ},dayLabel:{color:Yr},monthLabel:{color:Yr},yearLabel:{color:Yr}},timeAxis:eI(),logAxis:eI(),valueAxis:eI(),categoryAxis:eI(),line:{symbol:"circle"},graph:{color:YZ},gauge:{title:{color:Yr},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Yr},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};KZ.categoryAxis.splitLine.show=!1;const YLe=KZ;var KLe=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(we(e)){var o=os(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};L(e,function(l,c){for(var u=!1,d=0;d<a.length;d++){var h=a[d],f=c.lastIndexOf(h);if(f>0&&f===c.length-h.length){var p=c.slice(0,f);"data"!==p&&(t.mainType=p,t[h.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(r[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,o=r.packedEvent,a=r.model,s=r.view;if(!a||!s)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,a,"mainType")&&u(l,a,"subType")&&u(l,a,"index","componentIndex")&&u(l,a,"name")&&u(l,a,"id")&&u(c,o,"name")&&u(c,o,"dataIndex")&&u(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,i,o));function u(d,h,f,p){return null==d[f]||h[p||f]===d[f]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),GN=["symbol","symbolSize","symbolRotate","symbolOffset"],XZ=GN.concat(["symbolKeepAspect"]),XLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var r={},i={},o=!1,a=0;a<GN.length;a++){var s=GN[a],l=n.get(s);Xe(l)?(o=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(oe({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),!e.isSeriesFiltered(n)){var c=yn(i);return{dataEach:o?function u(d,h){for(var f=n.getRawValue(h),p=n.getDataParams(h),g=0;g<c.length;g++){var v=c[g];d.setItemVisual(h,v,i[v](f,p))}}:null}}}}},QLe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function r(i,o){for(var a=i.getItemModel(o),s=0;s<XZ.length;s++){var l=XZ[s],c=a.getShallow(l,!0);null!=c&&i.setItemVisual(o,l,c)}}:null}}};function Ip(n,e,t,r,i){var o=n+e;t.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var d=a.getData(),h=v_(d,i.fromActionPayload);t.trigger(o,{type:o,seriesId:a.id,name:me(h)?d.getName(h[0]):d.getName(h),selected:we(l)?l:oe({},l)})}})}function q_(n,e,t){for(var r;n&&(!e(n)||(r=n,!t));)n=n.__hostTarget||n.parent;return r}var nVe=Math.round(9*Math.random()),rVe="function"==typeof Object.defineProperty,iVe=function(){function n(){this._id="__ec_inner_"+nVe++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return rVe?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const oVe=iVe;var aVe=rn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,o=e.height/2;n.moveTo(t,r-o),n.lineTo(t+i,r+o),n.lineTo(t-i,r+o),n.closePath()}}),sVe=rn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,o=e.height/2;n.moveTo(t,r-o),n.lineTo(t+i,r),n.lineTo(t,r+o),n.lineTo(t-i,r),n.closePath()}}),lVe=rn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),l=r-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,d=Math.sin(c),h=Math.cos(c),f=.6*a,p=.7*a;n.moveTo(t-u,l+s),n.arc(t,l,a,Math.PI-c,2*Math.PI+c),n.bezierCurveTo(t+u-d*f,l+s+h*f,t,r-p,t,r),n.bezierCurveTo(t,r-p,t-u+d*f,l+s+h*f,t-u,l+s),n.closePath()}}),cVe=rn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,i=e.x,o=e.y,a=e.width/3*2;n.moveTo(i,o),n.lineTo(i+a,o+t),n.lineTo(i,o+t/4*3),n.lineTo(i-a,o+t),n.lineTo(i,o),n.closePath()}}),dVe={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var o=Math.min(t,r);i.x=n,i.y=e,i.width=o,i.height=o},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},qN={};L({line:Tp,rect:wi,roundRect:wi,square:wi,circle:UT,diamond:sVe,pin:lVe,arrow:cVe,triangle:aVe},function(n,e){qN[e]=new n});var hVe=rn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=nK(n,e,t),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===e.position&&(r.y=t.y+.4*t.height),r},buildPath:function(n,e,t){var r=e.symbolType;if("none"!==r){var i=qN[r];i||(i=qN[r="rect"]),dVe[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function fVe(n,e){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=n:t.fill=n,this.markRedraw()}}function tI(n,e,t,r,i,o,a){var l,s=0===n.indexOf("empty");return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?LN(n.slice(8),new bt(e,t,r,i),a?"center":"cover"):0===n.indexOf("path://")?YT(n.slice(7),{},new bt(e,t,r,i),a?"center":"cover"):new hVe({shape:{symbolType:n,x:e,y:t,width:r,height:i}})).__isEmptyBrush=s,l.setColor=fVe,o&&l.setColor(o),l}function Ad(n){return isFinite(n)}function WN(n,e,t){for(var r="radial"===e.type?function gVe(n,e,t){var r=t.width,i=t.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*r+t.x,s=s*i+t.y,l*=o),a=Ad(a)?a:.5,s=Ad(s)?s:.5,l=l>=0&&Ad(l)?l:.5,n.createRadialGradient(a,s,0,a,s,l)}(n,e,t):function mVe(n,e,t){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*t.width+t.x,i=i*t.width+t.x,o=o*t.height+t.y,a=a*t.height+t.y),r=Ad(r)?r:0,i=Ad(i)?i:1,o=Ad(o)?o:0,a=Ad(a)?a:0,n.createLinearGradient(r,o,i,a)}(n,e,t),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function nI(n){return parseInt(n,10)}function rI(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[r]&&"auto"!==t[r])return parseFloat(t[r]);var s=document.defaultView.getComputedStyle(n);return(n[i]||nI(s[r])||nI(n.style[r]))-(nI(s[o])||0)-(nI(s[a])||0)|0}function QZ(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&function _Ve(n,e){return n&&"solid"!==n&&e>0?"dashed"===n?[4*e,2*e]:"dotted"===n?[e]:$t(n)?[n]:me(n)?n:null:null}(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&1!==i&&(t=Fe(t,function(o){return o/i}),r/=i)}return[t,r]}var yVe=new md(!0);function iI(n){var e=n.stroke;return!(null==e||"none"===e||!(n.lineWidth>0))}function ZZ(n){return"string"==typeof n&&"none"!==n}function oI(n){var e=n.fill;return null!=e&&"none"!==e}function JZ(n,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function eJ(n,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function YN(n,e,t){var r=DK(e.image,e.__image,t);if(oT(r)){var i=n.createPattern(r,e.repeat||"repeat");if("function"==typeof DOMMatrix&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*Z7),o.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(o)}return i}}var tJ=["shadowBlur","shadowOffsetX","shadowOffsetY"],nJ=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function rJ(n,e,t,r,i){var o=!1;if(!r&&e===(t=t||{}))return!1;if(r||e.opacity!==t.opacity){Xi(n,i),o=!0;var a=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(a)?cd.opacity:a}(r||e.blend!==t.blend)&&(o||(Xi(n,i),o=!0),n.globalCompositeOperation=e.blend||cd.blend);for(var s=0;s<tJ.length;s++){var l=tJ[s];(r||e[l]!==t[l])&&(o||(Xi(n,i),o=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(o||(Xi(n,i),o=!0),n.shadowColor=e.shadowColor||cd.shadowColor),o}function iJ(n,e,t,r,i){var o=W_(e,i.inHover),a=r?null:t&&W_(t,i.inHover)||{};if(o===a)return!1;var s=rJ(n,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(Xi(n,i),s=!0),ZZ(o.fill)&&(n.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(Xi(n,i),s=!0),ZZ(o.stroke)&&(n.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(Xi(n,i),s=!0),n.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var c=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==c&&(s||(Xi(n,i),s=!0),n.lineWidth=c)}for(var u=0;u<nJ.length;u++){var d=nJ[u],h=d[0];(r||o[h]!==a[h])&&(s||(Xi(n,i),s=!0),n[h]=o[h]||d[1])}return s}function oJ(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}var aJ=1,sJ=2,lJ=3,cJ=4;function Xi(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function W_(n,e){return e&&n.__hoverStyle||n.style}function KN(n,e){Md(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Md(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=~vo,void(e.__isRendered=!1);var o=e.__clipPaths,a=t.prevElClipPaths,s=!1,l=!1;if((!a||function vVe(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}(o,a))&&(a&&a.length&&(Xi(n,t),n.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&(Xi(n,t),n.save(),function TVe(n,e,t){for(var r=!1,i=0;i<n.length;i++){var o=n[i];r=r||o.isZeroArea(),oJ(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}t.allClipped=r}(o,n,t),s=!0),t.prevElClipPaths=o),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=s=!0);var u=e instanceof rn&&e.autoBatch&&function DVe(n){var e=oI(n),t=iI(n);return!(n.lineDash||!(+e^+t)||e&&"string"!=typeof n.fill||t&&"string"!=typeof n.stroke||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}(e.style);s||function IVe(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}(i,c.transform)?(Xi(n,t),oJ(n,e)):u||Xi(n,t);var d=W_(e,t.inHover);e instanceof rn?(t.lastDrawType!==aJ&&(l=!0,t.lastDrawType=aJ),iJ(n,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&n.beginPath(),function bVe(n,e,t,r){var i,o=iI(t),a=oI(t),s=t.strokePercent,l=s<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||yVe,d=e.__dirty;if(!r){var h=t.fill,f=t.stroke,p=a&&!!h.colorStops,g=o&&!!f.colorStops,v=a&&!!h.image,_=o&&!!f.image,y=void 0,w=void 0,I=void 0,M=void 0,P=void 0;(p||g)&&(P=e.getBoundingRect()),p&&(y=d?WN(n,h,P):e.__canvasFillGradient,e.__canvasFillGradient=y),g&&(w=d?WN(n,f,P):e.__canvasStrokeGradient,e.__canvasStrokeGradient=w),v&&(I=d||!e.__canvasFillPattern?YN(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=I),_&&(M=d||!e.__canvasStrokePattern?YN(n,f,e):e.__canvasStrokePattern,e.__canvasStrokePattern=I),p?n.fillStyle=y:v&&(I?n.fillStyle=I:a=!1),g?n.strokeStyle=w:_&&(M?n.strokeStyle=M:o=!1)}var E,D,T=e.getGlobalScale();u.setScale(T[0],T[1],e.segmentIgnoreThreshold),n.setLineDash&&t.lineDash&&(E=(i=QZ(e))[0],D=i[1]);var S=!0;(c||d&rp)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),S=!1),u.reset(),e.buildPath(u,e.shape,r),u.toStatic(),e.pathUpdated()),S&&u.rebuildPath(n,l?s:1),E&&(n.setLineDash(E),n.lineDashOffset=D),r||(t.strokeFirst?(o&&eJ(n,t),a&&JZ(n,t)):(a&&JZ(n,t),o&&eJ(n,t))),E&&n.setLineDash([])}(n,e,d,u),u&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof PO?(t.lastDrawType!==lJ&&(l=!0,t.lastDrawType=lJ),iJ(n,e,c,l,t),function CVe(n,e,t){var r,i=t.text;if(null!=i&&(i+=""),i){n.font=t.font||Xu,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var o=void 0,a=void 0;n.setLineDash&&t.lineDash&&(o=(r=QZ(e))[0],a=r[1]),o&&(n.setLineDash(o),n.lineDashOffset=a),t.strokeFirst?(iI(t)&&n.strokeText(i,t.x,t.y),oI(t)&&n.fillText(i,t.x,t.y)):(oI(t)&&n.fillText(i,t.x,t.y),iI(t)&&n.strokeText(i,t.x,t.y)),o&&n.setLineDash([])}}(n,e,d)):e instanceof vd?(t.lastDrawType!==sJ&&(l=!0,t.lastDrawType=sJ),function EVe(n,e,t,r,i){rJ(n,W_(e,i.inHover),t&&W_(t,i.inHover),r,i)}(n,e,c,l,t),function wVe(n,e,t){var r=e.__image=DK(t.image,e.__image,e,e.onload);if(r&&oT(r)){var i=t.x||0,o=t.y||0,a=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=r.width,s=r.height),t.sWidth&&t.sHeight)n.drawImage(r,c=t.sx||0,u=t.sy||0,t.sWidth,t.sHeight,i,o,a,s);else if(t.sx&&t.sy){var c,u;n.drawImage(r,c=t.sx,u=t.sy,a-c,s-u,i,o,a,s)}else n.drawImage(r,i,o,a,s)}}(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==cJ&&(l=!0,t.lastDrawType=cJ),function SVe(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var a,s,o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(a=e.getCursor(),s=r.length;a<s;a++)(l=r[a]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Md(n,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l;for(var c=0,u=i.length;c<u;c++){var l;(l=i[c]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Md(n,l,o,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}(n,e,t)),u&&r&&Xi(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var XN=new oVe,uJ=new o_(100),dJ=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function QN(n,e){if("none"===n)return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i="svg"===r.painter.type;n.dirty&&XN.delete(n);var o=XN.get(n);if(o)return o;var a=tn(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function l(c){for(var u=[t],d=!0,h=0;h<dJ.length;++h){var f=a[dJ[h]];if(null!=f&&!me(f)&&!we(f)&&!$t(f)&&"boolean"!=typeof f){d=!1;break}u.push(f)}var p;if(d){p=u.join(",")+(i?"-svg":"");var g=uJ.get(p);g&&(i?c.svgElement=g:c.image=g)}var E,v=fJ(a.dashArrayX),_=function xVe(n){if(!n||"object"==typeof n&&0===n.length)return[0,0];if($t(n)){var e=Math.ceil(n);return[e,e]}var t=Fe(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}(a.dashArrayY),y=hJ(a.symbol),w=function AVe(n){return Fe(n,function(e){return pJ(e)})}(v),I=pJ(_),M=!i&&Ws.createCanvas(),P=i&&{tag:"g",attrs:{},key:"dcl",children:[]},T=function D(){for(var x=1,N=0,R=w.length;N<R;++N)x=vK(x,w[N]);var q=1;for(N=0,R=y.length;N<R;++N)q=vK(q,y[N].length);x*=q;var ee=I*w.length*y.length;return{width:Math.max(1,Math.min(x,a.maxTileWidth)),height:Math.max(1,Math.min(ee,a.maxTileHeight))}}();M&&(M.width=T.width*t,M.height=T.height*t,E=M.getContext("2d")),function S(){E&&(E.clearRect(0,0,M.width,M.height),a.backgroundColor&&(E.fillStyle=a.backgroundColor,E.fillRect(0,0,M.width,M.height)));for(var x=0,N=0;N<_.length;++N)x+=_[N];if(!(x<=0))for(var R=-I,q=0,ee=0,re=0;R<T.height;){if(q%2==0){for(var ve=ee/2%y.length,pe=0,de=0,Ee=0;pe<2*T.width;){var ze=0;for(N=0;N<v[re].length;++N)ze+=v[re][N];if(ze<=0)break;if(de%2==0){var Ce=.5*(1-a.symbolSize);Ri(pe+v[re][de]*Ce,R+_[q]*Ce,v[re][de]*a.symbolSize,_[q]*a.symbolSize,y[ve][Ee/2%y[ve].length])}pe+=v[re][de],++Ee,++de===v[re].length&&(de=0)}++re===v.length&&(re=0)}R+=_[q],++ee,++q===_.length&&(q=0)}function Ri(gr,an,Le,Ze,to){var Un=i?1:t,na=tI(to,gr*Un,an*Un,Le*Un,Ze*Un,a.color,a.symbolKeepAspect);if(i){var ra=r.painter.renderOneToVNode(na);ra&&P.children.push(ra)}else KN(E,na)}}(),d&&uJ.put(p,M||P),c.image=M,c.svgElement=P,c.svgWidth=T.width,c.svgHeight=T.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=i?1:1/t,XN.set(n,s),n.dirty=!1,s}function hJ(n){if(!n||0===n.length)return[["rect"]];if(we(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!we(n[t])){e=!1;break}if(e)return hJ([n]);var r=[];for(t=0;t<n.length;++t)we(n[t])?r.push([n[t]]):r.push(n[t]);return r}function fJ(n){if(!n||0===n.length)return[[0,0]];if($t(n))return[[e=Math.ceil(n),e]];for(var t=!0,r=0;r<n.length;++r)if(!$t(n[r])){t=!1;break}if(t)return fJ([n]);var i=[];for(r=0;r<n.length;++r)if($t(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else e=Fe(n[r],function(s){return Math.ceil(s)}),i.push(e.length%2==1?e.concat(e):e);return i}function pJ(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}const Ra=new ns;var mJ={};function gJ(n){return mJ[n]}var kVe="5.6.0",OVe={zrender:"5.6.1"},BVe=2e3,vJ=1e3,_J=3e3,bJ={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:vJ,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:_J,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Kr="__flagInMainProcess",Qi="__pendingUpdate",JN="__needsUpdateStatus",wJ=/^[a-zA-Z0-9_]+$/,eF="__connectUpdateStatus";function EJ(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return IJ(this,n,e)}}function TJ(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return IJ(this,n,e)}}function IJ(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),ns.prototype[e].apply(n,t)}var DJ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Lt(e,n),e}(ns),SJ=DJ.prototype;SJ.on=TJ("on"),SJ.off=TJ("off");var Dp,tF,sI,vc,nF,rF,iF,Y_,K_,xJ,AJ,oF,MJ,lI,RJ,PJ,Wo,kJ,cI=function(n){function e(t,r,i){var o=n.call(this,new KLe)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},we(r)&&(r=OJ[r]),o._dom=t,i.ssr&&sK(function(f){var p=Dt(f),g=p.dataIndex;if(null!=g){var v=rt();return v.set("series_index",p.seriesIndex),v.set("data_index",g),p.ssrType&&v.set("ssr_type",p.ssrType),v}});var u=o._zr=lO(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:qe(i.useDirtyRect,!1),useCoarsePointer:qe(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=jN(jt(u.flush,u),17),(r=lt(r))&&vQ(r,!0),o._theme=r,o._locale=function iNe(n){if(we(n)){var e=wT[n.toUpperCase()]||{};return"ZH"===n||"EN"===n?lt(e):en(lt(e),lt(wT[pp]),!1)}return en(lt(n),lt(wT[pp]),!1)}(i.locale||kX),o._coordSysMgr=new MT;var d=o._api=RJ(o);function h(f,p){return f.__prio-p.__prio}return VE(dI,h),VE(sF,h),o._scheduler=new GZ(o,d,sF,dI),o._messageCenter=new DJ,o._initEvents(),o.resize=jt(o.resize,o),u.animation.on("frame",o._onframe,o),xJ(u,o),AJ(u,o),xE(o),o}return Lt(e,n),e.prototype._onframe=function(){if(!this._disposed){kJ(this);var t=this._scheduler;if(this[Qi]){var r=this[Qi].silent;this[Kr]=!0;try{Dp(this),vc.update.call(this,null,this[Qi].updateParams)}catch(l){throw this[Kr]=!1,this[Qi]=null,l}this._zr.flush(),this[Kr]=!1,this[Qi]=null,Y_.call(this,r),K_.call(this,r)}else if(t.unfinished){var i=1,o=this._model,a=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),rF(this,o),t.performVisualTasks(o),lI(this,this._model,a,"remain",{}),i-=+new Date-s}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[Kr]){if(this._disposed)return;var o,a,s;if(Oe(r)&&(i=r.lazyUpdate,o=r.silent,a=r.replaceMerge,s=r.transition,r=r.notMerge),this[Kr]=!0,!this._model||r){var l=new BNe(this._api),c=this._theme,u=this._model=new cQ;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:a},lF);var d={seriesTransition:s,optionChanged:!0};if(i)this[Qi]={silent:o,updateParams:d},this[Kr]=!1,this.getZr().wakeUp();else{try{Dp(this),vc.update.call(this,null,d)}catch(h){throw this[Qi]=null,this[Kr]=!1,h}this._ssr||this._zr.flush(),this[Qi]=null,this[Kr]=!1,Y_.call(this,o),K_.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||nt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},e.prototype.getSvgDataURL=function(){if(nt.svgSupported){var t=this._zr;return L(t.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var i=this._model,o=[],a=this;L((t=t||{}).excludeComponents,function(l){i.eachComponent({mainType:l},function(c){var u=a._componentsMap[c.__viewId];u.group.ignore||(o.push(u),u.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return L(o,function(l){l.group.ignore=!1}),s}},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var r="svg"===t.type,i=this.group,o=Math.min,a=Math.max,s=1/0;if(hI[i]){var l=s,c=s,u=-s,d=-s,h=[],f=t&&t.pixelRatio||this.getDevicePixelRatio();L(Rd,function(w,I){if(w.group===i){var M=r?w.getZr().painter.getSvgDom().innerHTML:w.renderToCanvas(lt(t)),P=w.getDom().getBoundingClientRect();l=o(P.left,l),c=o(P.top,c),u=a(P.right,u),d=a(P.bottom,d),h.push({dom:M,left:P.left,top:P.top})}});var p=(u*=f)-(l*=f),g=(d*=f)-(c*=f),v=Ws.createCanvas(),_=lO(v,{renderer:r?"svg":"canvas"});if(_.resize({width:p,height:g}),r){var y="";return L(h,function(w){y+='<g transform="translate('+(w.left-l)+","+(w.top-c)+')">'+w.dom+"</g>"}),_.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&_.painter.setBackgroundColor(t.connectedBackgroundColor),_.refreshImmediately(),_.painter.toDataURL()}return t.connectedBackgroundColor&&_.add(new wi({shape:{x:0,y:0,width:p,height:g},style:{fill:t.connectedBackgroundColor}})),L(h,function(w){var I=new vd({style:{x:w.left*f-l,y:w.top*f-c,image:w.dom}});_.add(I)}),_.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,r){return nF(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return nF(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){var o;if(!this._disposed)return L(mO(this._model,t),function(s,l){l.indexOf("Models")>=0&&L(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(r);else if("seriesModels"===l){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(o=o||d.containPoint(r,c))}},this)},this),!!o},e.prototype.getVisual=function(t,r){var o=mO(this._model,t,{defaultMainType:"series"}),s=o.seriesModel.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return null!=l?function ZLe(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}(s,l,r):function JLe(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}(s,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;L(YVe,function(r){var i=function(o){var l,a=t.getModel(),s=o.target;if("globalout"===r?l={}:s&&q_(s,function(p){var g=Dt(p);if(g&&null!=g.dataIndex){var v=g.dataModel||a.getSeriesByIndex(g.seriesIndex);return l=v&&v.getDataParams(g.dataIndex,g.dataType,s)||{},!0}if(g.eventData)return l=oe({},g.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;("markLine"===u||"markPoint"===u||"markArea"===u)&&(u="series",d=l.seriesIndex);var h=u&&null!=d&&a.getComponent(u,d),f=h&&t["series"===h.mainType?"_chartsMap":"_componentsMap"][h.__viewId];l.event=o,l.type=r,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:f},t.trigger(r,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),L(X_,function(r,i){t._messageCenter.on(i,function(o){this.trigger(i,o)},t)}),L(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),function tVe(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(Ip("map","selectchanged",e,i,r),Ip("pie","selectchanged",e,i,r)):"select"===r.fromAction?(Ip("map","selected",e,i,r),Ip("pie","selected",e,i,r)):"unselect"===r.fromAction&&(Ip("map","unselected",e,i,r),Ip("pie","unselected",e,i,r))})}(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&EK(this.getDom(),uF,"");var r=this,i=r._api,o=r._model;L(r._componentsViews,function(a){a.dispose(o,i)}),L(r._chartsViews,function(a){a.dispose(o,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Rd[r.id]}},e.prototype.resize=function(t){if(!this[Kr]){if(this._disposed)return;this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),r){var i=r.resetOption("media"),o=t&&t.silent;this[Qi]&&(null==o&&(o=this[Qi].silent),i=!0,this[Qi]=null),this[Kr]=!0;try{i&&Dp(this),vc.update.call(this,{type:"resize",animation:oe({duration:0},t&&t.animation)})}catch(a){throw this[Kr]=!1,a}this[Kr]=!1,Y_.call(this,o),K_.call(this,o)}}},e.prototype.showLoading=function(t,r){if(!this._disposed&&(Oe(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),cF[t])){var i=cF[t](this._api,r),o=this._zr;this._loadingFX=i,o.add(i)}},e.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var r=oe({},t);return r.type=X_[t.type],r},e.prototype.dispatchAction=function(t,r){if(!this._disposed&&(Oe(r)||(r={silent:!!r}),uI[t.type]&&this._model)){if(this[Kr])return void this._pendingActions.push(t);var i=r.silent;iF.call(this,t,i);var o=r.flush;o?this._zr.flush():!1!==o&&nt.browser.weChat&&this._throttledZrFlush(),Y_.call(this,i),K_.call(this,i)}},e.prototype.updateLabelLayout=function(){Ra.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(!this._disposed){var r=t.seriesIndex;this.getModel().getSeriesByIndex(r).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(d){d.clearColorPalette(),d.eachSeries(function(h){h.clearColorPalette()})}function i(d){for(var h=[],f=d.currentStates,p=0;p<f.length;p++){var g=f[p];"emphasis"===g||"blur"===g||"select"===g||h.push(g)}d.selected&&d.states.select&&h.push("select"),2===d.hoverState&&d.states.emphasis?h.push("emphasis"):1===d.hoverState&&d.states.blur&&h.push("blur"),d.useStates(h)}function s(d,h){if(!d.preventAutoZ){var f=d.get("z")||0,p=d.get("zlevel")||0;h.eachRendered(function(g){return l(g,f,p,-1/0),!0})}}function l(d,h,f,p){var g=d.getTextContent(),v=d.getTextGuideLine();if(d.isGroup)for(var y=d.childrenRef(),w=0;w<y.length;w++)p=Math.max(l(y[w],h,f,p),p);else d.z=h,d.zlevel=f,p=Math.max(d.z2,p);if(g&&(g.z=h,g.zlevel=f,isFinite(p)&&(g.z2=p+2)),v){var I=d.textGuideLineConfig;v.z=h,v.zlevel=f,isFinite(p)&&(v.z2=p+(I&&I.showAbove?1:-1))}return p}function c(d,h){h.eachRendered(function(f){if(!fp(f)){var p=f.getTextContent(),g=f.getTextGuideLine();f.stateTransition&&(f.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),f.hasState()?(f.prevStates=f.currentStates,f.clearStates()):f.prevStates&&(f.prevStates=null)}})}function u(d,h){var f=d.getModel("stateAnimation"),p=d.isAnimationEnabled(),g=f.get("duration"),v=g>0?{duration:g,delay:f.get("delay"),easing:f.get("easing")}:null;h.eachRendered(function(_){if(_.states&&_.states.emphasis){if(fp(_))return;if(_ instanceof rn&&function LOe(n){var e=iX(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}(_),_.__dirty){var y=_.prevStates;y&&_.useStates(y)}if(p){_.stateTransition=v;var w=_.getTextContent(),I=_.getTextGuideLine();w&&(w.stateTransition=v),I&&(I.stateTransition=v)}_.__dirty&&i(_)}})}Dp=function(d){var h=d._scheduler;h.restorePipelines(d._model),h.prepareStageTasks(),tF(d,!0),tF(d,!1),h.plan()},tF=function(d,h){for(var f=d._model,p=d._scheduler,g=h?d._componentsViews:d._chartsViews,v=h?d._componentsMap:d._chartsMap,_=d._zr,y=d._api,w=0;w<g.length;w++)g[w].__alive=!1;function I(P){var T=P.__requireNewView;P.__requireNewView=!1;var E="_ec_"+P.id+"_"+P.type,D=!T&&v[E];if(!D){var S=os(P.type);(D=new(h?Aa.getClass(S.main,S.sub):il.getClass(S.sub))).init(f,y),v[E]=D,g.push(D),_.add(D.group)}P.__viewId=D.__id=E,D.__alive=!0,D.__model=P,D.group.__ecComponentInfo={mainType:P.mainType,index:P.componentIndex},!h&&p.prepareView(D,P,f,y)}for(h?f.eachComponent(function(P,T){"series"!==P&&I(T)}):f.eachSeries(I),w=0;w<g.length;){var M=g[w];M.__alive?w++:(!h&&M.renderTask.dispose(),_.remove(M.group),M.dispose(f,y),g.splice(w,1),v[M.__id]===M&&delete v[M.__id],M.__id=M.group.__ecComponentInfo=null)}},sI=function(d,h,f,p,g){var v=d._model;if(v.setUpdatePayload(f),p){var _={};_[p+"Id"]=f[p+"Id"],_[p+"Index"]=f[p+"Index"],_[p+"Name"]=f[p+"Name"];var y={mainType:p,query:_};g&&(y.subType=g);var I,w=f.excludeSeriesId;null!=w&&(I=rt(),L(Gr(w),function(P){var T=Da(P,null);null!=T&&I.set(T,!0)})),v&&v.eachComponent(y,function(P){if(!I||null==I.get(P.id))if(yX(f))if(P instanceof gc)f.type===yd&&!f.notBlur&&!P.get(["emphasis","disabled"])&&function DOe(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var o=v_(i,e);o=(me(o)?o[0]:o)||0;var a=i.getItemGraphicEl(o);if(!a)for(var s=i.count(),l=0;!a&&l<s;)a=i.getItemGraphicEl(l++);if(a){var c=Dt(a);UO(r,c.focus,c.blurScope,t)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);null!=u&&UO(r,u,d,t)}}}(P,f,d._api);else{var E=HO(P.mainType,P.componentIndex,f.name,d._api),S=E.dispatchers;f.type===yd&&E.focusSelf&&!f.notBlur&&zO(P.mainType,P.componentIndex,d._api),S&&L(S,function(x){f.type===yd?VO(x):BO(x)})}else $O(f)&&P instanceof gc&&(function AOe(n,e){if($O(e)){var r=e.dataType,o=v_(n.getData(r),e);me(o)||(o=[o]),n[e.type===T_?"toggleSelect":e.type===E_?"select":"unselect"](o,r)}}(P,f),gX(P),Wo(d))},d),v&&v.eachComponent(y,function(P){I&&null!=I.get(P.id)||M(d["series"===p?"_chartsMap":"_componentsMap"][P.__viewId])},d)}else L([].concat(d._componentsViews).concat(d._chartsViews),M);function M(P){P&&P.__alive&&P[h]&&P[h](P.__model,v,d._api,f)}},vc={prepareAndUpdate:function(d){Dp(this),vc.update.call(this,d,{optionChanged:null!=d.newOption})},update:function(d,h){var f=this._model,p=this._api,g=this._zr,v=this._coordSysMgr,_=this._scheduler;if(f){f.setUpdatePayload(d),_.restoreData(f,d),_.performSeriesTasks(f),v.create(f,p),_.performDataProcessorTasks(f,d),rF(this,f),v.update(f,p),t(f),_.performVisualTasks(f,d),oF(this,f,p,d,h);var y=f.get("backgroundColor")||"transparent",w=f.get("darkMode");g.setBackgroundColor(y),null!=w&&"auto"!==w&&g.setDarkMode(w),Ra.trigger("afterupdate",f,p)}},updateTransform:function(d){var h=this,f=this._model,p=this._api;if(f){f.setUpdatePayload(d);var g=[];f.eachComponent(function(_,y){if("series"!==_){var w=h.getViewOfComponentModel(y);if(w&&w.__alive)if(w.updateTransform){var I=w.updateTransform(y,f,p,d);I&&I.update&&g.push(w)}else g.push(w)}});var v=rt();f.eachSeries(function(_){var y=h._chartsMap[_.__viewId];if(y.updateTransform){var w=y.updateTransform(_,f,p,d);w&&w.update&&v.set(_.uid,1)}else v.set(_.uid,1)}),t(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0,dirtyMap:v}),lI(this,f,p,d,{},v),Ra.trigger("afterupdate",f,p)}},updateView:function(d){var h=this._model;h&&(h.setUpdatePayload(d),il.markUpdateMethod(d,"updateView"),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0}),oF(this,h,this._api,d,{}),Ra.trigger("afterupdate",h,this._api))},updateVisual:function(d){var h=this,f=this._model;f&&(f.setUpdatePayload(d),f.eachSeries(function(p){p.getData().clearAllVisual()}),il.markUpdateMethod(d,"updateVisual"),t(f),this._scheduler.performVisualTasks(f,d,{visualType:"visual",setDirty:!0}),f.eachComponent(function(p,g){if("series"!==p){var v=h.getViewOfComponentModel(g);v&&v.__alive&&v.updateVisual(g,f,h._api,d)}}),f.eachSeries(function(p){h._chartsMap[p.__viewId].updateVisual(p,f,h._api,d)}),Ra.trigger("afterupdate",f,this._api))},updateLayout:function(d){vc.update.call(this,d)}},nF=function(d,h,f,p){if(!d._disposed)for(var _,g=d._model,v=d._coordSysMgr.getCoordinateSystems(),y=mO(g,f),w=0;w<v.length;w++){var I=v[w];if(I[h]&&null!=(_=I[h](g,y,p)))return _}},rF=function(d,h){var f=d._chartsMap,p=d._scheduler;h.eachSeries(function(g){p.updateStreamModes(g,f[g.__viewId])})},iF=function(d,h){var f=this,p=this.getModel(),g=d.type,v=d.escapeConnect,_=uI[g],y=_.actionInfo,w=(y.update||"update").split(":"),I=w.pop(),M=null!=w[0]&&os(w[0]);this[Kr]=!0;var P=[d],T=!1;d.batch&&(T=!0,P=Fe(d.batch,function(q){return(q=tn(oe({},q),d)).batch=null,q}));var D,E=[],S=$O(d),x=yX(d);if(x&&mX(this._api),L(P,function(q){if((D=(D=_.action(q,f._model,f._api))||oe({},q)).type=y.event||D.type,E.push(D),x){var ee=gO(d),pe=ee.mainTypeSpecified?ee.queryOptionMap.keys()[0]:"series";sI(f,I,q,pe),Wo(f)}else S?(sI(f,I,q,"series"),Wo(f)):M&&sI(f,I,q,M.main,M.sub)}),"none"!==I&&!x&&!S&&!M)try{this[Qi]?(Dp(this),vc.update.call(this,d),this[Qi]=null):vc[I].call(this,d)}catch(q){throw this[Kr]=!1,q}if(D=T?{type:y.event||g,escapeConnect:v,batch:E}:E[0],this[Kr]=!1,!h){var N=this._messageCenter;if(N.trigger(D.type,D),S){var R={type:"selectchanged",escapeConnect:v,selected:MOe(p),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};N.trigger(R.type,R)}}},Y_=function(d){for(var h=this._pendingActions;h.length;){var f=h.shift();iF.call(this,f,d)}},K_=function(d){!d&&this.trigger("updated")},xJ=function(d,h){d.on("rendered",function(f){h.trigger("rendered",f),d.animation.isFinished()&&!h[Qi]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},AJ=function(d,h){d.on("mouseover",function(f){var g=q_(f.target,jO);g&&(function SOe(n,e,t){var r=Dt(n),i=HO(r.componentMainType,r.componentIndex,r.componentHighDownName,t),o=i.dispatchers;o?(i.focusSelf&&zO(r.componentMainType,r.componentIndex,t),L(o,function(s){return cX(s,e)})):(UO(r.seriesIndex,r.focus,r.blurScope,t),"self"===r.focus&&zO(r.componentMainType,r.componentIndex,t),cX(n,e))}(g,f,h._api),Wo(h))}).on("mouseout",function(f){var g=q_(f.target,jO);g&&(function xOe(n,e,t){mX(t);var r=Dt(n),i=HO(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?L(i,function(o){return uX(o,e)}):uX(n,e)}(g,f,h._api),Wo(h))}).on("click",function(f){var g=q_(f.target,function(y){return null!=Dt(y).dataIndex},!0);if(g){var v=g.selected?"unselect":"select",_=Dt(g);h._api.dispatchAction({type:v,dataType:_.dataType,dataIndexInside:_.dataIndex,seriesIndex:_.seriesIndex,isFromClick:!0})}})},oF=function(d,h,f,p,g){(function r(d){var h=[],f=[],p=!1;if(d.eachComponent(function(y,w){var I=w.get("zlevel")||0,M=w.get("z")||0,P=w.getZLevelKey();p=p||!!P,("series"===y?f:h).push({zlevel:I,z:M,idx:w.componentIndex,type:y,key:P})}),p){var v,_,g=h.concat(f);VE(g,function(y,w){return y.zlevel===w.zlevel?y.z-w.z:y.zlevel-w.zlevel}),L(g,function(y){var w=d.getComponent(y.type,y.idx),I=y.zlevel,M=y.key;null!=v&&(I=Math.max(v,I)),M?(I===v&&M!==_&&I++,_=M):_&&(I===v&&I++,_=""),v=I,w.setZLevel(I)})}})(h),MJ(d,h,f,p,g),L(d._chartsViews,function(v){v.__alive=!1}),lI(d,h,f,p,g),L(d._chartsViews,function(v){v.__alive||v.remove(h,f)})},MJ=function(d,h,f,p,g,v){L(v||d._componentsViews,function(_){var y=_.__model;c(0,_),_.render(y,h,f,p),s(y,_),u(y,_)})},lI=function(d,h,f,p,g,v){var _=d._scheduler;g=oe(g||{},{updatedSeries:h.getSeries()}),Ra.trigger("series:beforeupdate",h,f,g);var y=!1;h.eachSeries(function(w){var I=d._chartsMap[w.__viewId];I.__alive=!0;var M=I.renderTask;_.updatePayload(M,p),c(0,I),v&&v.get(w.uid)&&M.dirty(),M.perform(_.getPerformArgs(M))&&(y=!0),I.group.silent=!!w.get("silent"),function a(d,h){var f=d.get("blendMode")||null;h.eachRendered(function(p){p.isGroup||(p.style.blend=f)})}(w,I),gX(w)}),_.unfinished=y||_.unfinished,Ra.trigger("series:layoutlabels",h,f,g),Ra.trigger("series:transition",h,f,g),h.eachSeries(function(w){var I=d._chartsMap[w.__viewId];s(w,I),u(w,I)}),function o(d,h){var g=0;d._zr.storage.traverse(function(v){v.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!nt.node&&!nt.worker&&h.eachSeries(function(v){if(!v.preventUsingHoverLayer){var _=d._chartsMap[v.__viewId];_.__alive&&_.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}(d,h),Ra.trigger("series:afterupdate",h,f,g)},Wo=function(d){d[JN]=!0,d.getZr().wakeUp()},kJ=function(d){d[JN]&&(d.getZr().storage.traverse(function(h){fp(h)||i(h)}),d[JN]=!1)},RJ=function(d){return new(function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Lt(f,h),f.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},f.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(null!=g)return d._model.getComponent(g.mainType,g.index);p=p.parent}},f.prototype.enterEmphasis=function(p,g){VO(p,g),Wo(d)},f.prototype.leaveEmphasis=function(p,g){BO(p,g),Wo(d)},f.prototype.enterBlur=function(p){(function IOe(n){Js(n,FO)})(p),Wo(d)},f.prototype.leaveBlur=function(p){dX(p),Wo(d)},f.prototype.enterSelect=function(p){hX(p),Wo(d)},f.prototype.leaveSelect=function(p){fX(p),Wo(d)},f.prototype.getModel=function(){return d.getModel()},f.prototype.getViewOfComponentModel=function(p){return d.getViewOfComponentModel(p)},f.prototype.getViewOfSeriesModel=function(p){return d.getViewOfSeriesModel(p)},f}(uQ))(d)},PJ=function(d){function h(f,p){for(var g=0;g<f.length;g++)f[g][eF]=p}L(X_,function(f,p){d._messageCenter.on(p,function(g){if(hI[d.group]&&0!==d[eF]){if(g&&g.escapeConnect)return;var v=d.makeActionFromEvent(g),_=[];L(Rd,function(y){y!==d&&y.group===d.group&&_.push(y)}),h(_,0),L(_,function(y){1!==y[eF]&&y.dispatchAction(v)}),h(_,2)}})})}}(),e}(ns),aF=cI.prototype;aF.on=EJ("on"),aF.off=EJ("off"),aF.one=function(n,e,t){var r=this;this.on.call(this,n,function i(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),r.off(n,i)},t)};var YVe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],uI={},X_={},sF=[],lF=[],dI=[],OJ={},cF={},Rd={},hI={},KVe=+new Date-0,XVe=+new Date-0,uF="_echarts_instance_";function QVe(n,e,t){var r=!(t&&t.ssr);if(r){var i=dF(n);if(i)return i}var o=new cI(n,e,t);return o.id="ec_"+KVe++,Rd[o.id]=o,r&&EK(n,uF,o.id),PJ(o),Ra.trigger("afterinit",o),o}function ZVe(n){if(me(n)){var e=n;n=null,L(e,function(t){null!=t.group&&(n=t.group)}),n=n||"g_"+XVe++,L(e,function(t){t.group=n})}return hI[n]=!0,n}function NJ(n){hI[n]=!1}var JVe=NJ;function e2e(n){we(n)?n=Rd[n]:n instanceof cI||(n=dF(n)),n instanceof cI&&!n.isDisposed()&&n.dispose()}function dF(n){return Rd[function hke(n,e){return n.getAttribute?n.getAttribute(e):n[e]}(n,uF)]}function t2e(n){return Rd[n]}function hF(n,e){OJ[n]=e}function fF(n){Mt(lF,n)<0&&lF.push(n)}function pF(n,e){mF(sF,n,e,BVe)}function FJ(n){fI("afterinit",n)}function LJ(n){fI("afterupdate",n)}function fI(n,e){Ra.on(n,e)}function Pd(n,e,t){Xe(e)&&(t=e,e="");var r=Oe(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),!X_[e=n.event]&&(ts(wJ.test(r)&&wJ.test(e)),uI[r]||(uI[r]={action:t,actionInfo:n}),X_[e]=r)}function VJ(n,e){MT.register(n,e)}function n2e(n){var e=MT.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function BJ(n,e){mF(dI,n,e,vJ,"layout")}function _c(n,e){mF(dI,n,e,_J,"visual")}var UJ=[];function mF(n,e,t,r,i){if((Xe(e)||Oe(e))&&(t=e,e=r),!(Mt(UJ,t)>=0)){UJ.push(t);var o=GZ.wrapStageHandler(t,i);o.__prio=e,o.__raw=t,n.push(o)}}function gF(n,e){cF[n]=e}function r2e(n){j7({createCanvas:n})}function zJ(n,e,t){var r=gJ("registerMap");r&&r(n,e,t)}function i2e(n){var e=gJ("getMap");return e&&e(n)}var HJ=function gFe(n){var e=(n=lt(n)).type;e||Ei("");var r=e.split(":");2!==r.length&&Ei("");var i=!1;"echarts"===r[0]&&(e=r[1],i=!0),n.__isBuiltIn=i,OQ.set(e,n)};_c(2e3,kLe),_c(4500,OLe),_c(4500,NLe),_c(2e3,XLe),_c(4500,QLe),_c(7e3,function MVe(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(a){var s=r.getItemVisual(a,"decal");s&&(r.ensureUniqueItemVisual(a,"style").decal=QN(s,e))});var i=r.getVisual("decal");i&&(r.getVisual("style").decal=QN(i,e))}})}),fF(vQ),pF(900,function WNe(n){var e=rt();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),o=t.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(a)}}),e.each(YNe)}),gF("default",function FLe(n,e){tn(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Ia,r=new wi({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var a,i=new Mr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new wi({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(o),e.showSpinner&&((a=new HT({shape:{startAngle:-ZT/2,endAngle:-ZT/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*ZT/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*ZT/2}).delay(300).start("circularInOut"),t.add(a)),t.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(n.getWidth()-2*l-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),u=n.getHeight()/2;e.showSpinner&&a.setShape({cx:c,cy:u}),o.setShape({x:c-l,y:u-l,width:2*l,height:2*l}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),Pd({type:yd,event:yd,update:yd},_i),Pd({type:fT,event:fT,update:fT},_i),Pd({type:E_,event:E_,update:E_},_i),Pd({type:pT,event:pT,update:pT},_i),Pd({type:T_,event:T_,update:T_},_i),hF("light",WLe),hF("dark",YLe);var o2e={},jJ=[],a2e={registerPreprocessor:fF,registerProcessor:pF,registerPostInit:FJ,registerPostUpdate:LJ,registerUpdateLifecycle:fI,registerAction:Pd,registerCoordinateSystem:VJ,registerLayout:BJ,registerVisual:_c,registerTransform:HJ,registerLoading:gF,registerMap:zJ,registerImpl:function PVe(n,e){mJ[n]=e},PRIORITY:bJ,ComponentModel:un,ComponentView:Aa,SeriesModel:gc,ChartView:il,registerComponentModel:function(n){un.registerClass(n)},registerComponentView:function(n){Aa.registerClass(n)},registerSeriesModel:function(n){gc.registerClass(n)},registerChartView:function(n){il.registerClass(n)},registerSubTypeDefaulter:function(n,e){un.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){aK(n,e)}};function ol(n){me(n)?L(n,function(e){ol(e)}):Mt(jJ,n)>=0||(jJ.push(n),Xe(n)&&(n={install:n}),n.install(a2e))}function Q_(n){return null==n?0:n.length||1}function $J(n){return n}var s2e=function(){function n(e,t,r,i,o,a){this._old=e,this._new=t,this._oldKeyGetter=r||$J,this._newKeyGetter=i||$J,this.context=o,this._diffModeMultiple="multiple"===a}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var s=i[a],l=r[s],c=Q_(l);if(c>1){var u=l.shift();1===l.length&&(r[s]=l[0]),this._update&&this._update(u,a)}else 1===c?(r[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,r)},n.prototype._executeMultiple=function(){var t=this._new,r={},i={},o=[],a=[];this._initIndexMap(this._old,r,o,"_oldKeyGetter"),this._initIndexMap(t,i,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=r[l],u=i[l],d=Q_(c),h=Q_(u);if(d>1&&1===h)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(1===d&&h>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(1===d&&1===h)this._update&&this._update(u,c),i[l]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(d>1)for(var f=0;f<d;f++)this._remove&&this._remove(c[f]);else this._remove&&this._remove(c)}this._performRestAdd(a,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=t[i],a=Q_(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var s="_ec_"+this[i](e[a],a);if(o||(r[a]=s),t){var l=t[s],c=Q_(l);0===c?(t[s]=a,o&&r.push(s)):1===c?t[s]=[l,a]:l.push(a)}}},n}();const l2e=s2e;var c2e=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function vF(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}const pI=function(){return function n(e){this.otherDims={},null!=e&&oe(this,e)}}();var p2e=In(),m2e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},GJ=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=YJ(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return qe(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=wQ(this.source),r=!KJ(e),i="",o=[],a=0,s=0;a<e;a++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===a)l=t?d.name:null,c=d.type,u=d.ordinalMeta,s++;else{var h=this.getSourceDimension(a);h&&(l=t?h.name:null,c=h.type)}o.push({property:l,type:c,ordinalMeta:u}),t&&null!=l&&(!d||!d.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=m2e[c]||"f",u&&(i+=u.uid),i+="$"}var f=this.source;return{dimensions:o,hash:[f.seriesLayoutBy,f.startIndex,i].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,o=this.dimensions[r];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(i=o.name),r++;else{var a=this.getSourceDimension(t);a&&(i=a.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function qJ(n){return n instanceof GJ}function WJ(n){for(var e=rt(),t=0;t<(n||[]).length;t++){var r=n[t],i=Oe(r)?r.name:r;null!=i&&null==e.get(i)&&e.set(i,t)}return e}function YJ(n){var e=p2e(n);return e.dimNameMap||(e.dimNameMap=WJ(n.dimensionsDefine))}function KJ(n){return n>30}var QJ,mI,J_,ey,_F,ty,yF,Z_=Oe,yc=Fe,g2e=typeof Int32Array>"u"?Array:Int32Array,_2e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],y2e=["_approximateExtent"],b2e=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;qJ(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var o={},a=[],s={},l=!1,c={},u=0;u<r.length;u++){var d=r[u],h=we(d)?new pI({name:d}):d instanceof pI?d:new pI(d),f=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=f,h.coordDimIndex=0);var p=h.otherDims=h.otherDims||{};a.push(f),o[f]=h,null!=c[f]&&(l=!0),h.createInvertedIndices&&(s[f]=[]),0===p.itemName&&(this._nameDimIdx=u),0===p.itemId&&(this._idDimIdx=u),i&&(h.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=rt();L(a,function(v){g.set(o[v].storeDimIndex,v)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(null!=r)return r;var i=this._schema.getSourceDimension(t);return i?i.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if($t(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(null==t)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var o,i=this;if(e instanceof EN&&(o=e),!o){var a=this.dimensions,s=mN(e)||gi(e)?new TQ(e,a.length):e;o=new EN;var l=yc(a,function(c){return{type:i._dimInfos[c].type,property:c}});o.initData(s,l,r)}this._store=o,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=function u2e(n,e){var t={},r=t.encode={},i=rt(),o=[],a=[],s={};L(n.dimensions,function(h){var f=n.getDimensionInfo(h),p=f.coordDim;if(p){var g=f.coordDimIndex;vF(r,p)[g]=h,f.isExtraCoord||(i.set(p,1),function h2e(n){return!("ordinal"===n||"time"===n)}(f.type)&&(o[0]=h),vF(s,p)[g]=n.getDimensionIndex(f.name)),f.defaultTooltip&&a.push(h)}KX.each(function(v,_){var y=vF(r,_),w=f.otherDims[_];null!=w&&!1!==w&&(y[w]=f.name)})});var l=[],c={};i.each(function(h,f){var p=r[f];c[f]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Fe(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=r.label;u&&u.length&&(o=u.slice());var d=r.tooltip;return d&&d.length?a=d.slice():a.length||(a=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=a,t.userOutput=new c2e(s,e),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t&&t.length),i=r.start,o=r.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=i;s<o;s++)this._nameList[s]=t[s-i],a&&yF(this,s)},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==tl&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList;if(i.getSource().sourceFormat===$o&&!i.pure)for(var c=[],u=e;u<t;u++){var d=i.getItem(u,c);if(!this.hasItemOption&&tke(d)&&(this.hasItemOption=!0),d){var h=d.name;null==o[u]&&null!=h&&(o[u]=Da(h,null));var f=d.id;null==a[u]&&null!=f&&(a[u]=Da(f,null))}}if(this._shouldMakeIdFromName())for(u=e;u<t;u++)yF(this,u);QJ(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){Z_(e)?oe(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return null==r&&null!=this._nameDimIdx&&(r=J_(this,this._nameDimIdx,t)),null==r&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return mI(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var i=this._dimInfos[e];if(i)return this._store.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var i=this._dimInfos[e];if(i)return this._store.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return me(e)?i.getValues(yc(e,function(o){return r._getStoreDimIndex(o)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r&&r[t];return null==i||isNaN(i)?-1:i},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){Xe(e)&&(r=t,t=e,e=[]);var i=r||this,o=yc(ey(e),this._getStoreDimIndex,this);this._store.each(o,i?jt(t,i):t)},n.prototype.filterSelf=function(e,t,r){Xe(e)&&(r=t,t=e,e=[]);var i=r||this,o=yc(ey(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?jt(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=yn(e),o=[];return L(i,function(a){var s=t._getStoreDimIndex(a);r[s]=e[a],o.push(s)}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){Xe(e)&&(r=t,t=e,e=[]);var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r=r||this),i},n.prototype.map=function(e,t,r,i){var o=r||i||this,a=yc(ey(e),this._getStoreDimIndex,this),s=ty(this);return s._store=this._store.map(a,o?jt(t,o):t),s},n.prototype.modify=function(e,t,r,i){var a=r||i||this,s=yc(ey(e),this._getStoreDimIndex,this);this._store.modify(s,a?jt(t,a):t)},n.prototype.downSample=function(e,t,r,i){var o=ty(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),o},n.prototype.minmaxDownSample=function(e,t){var r=ty(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),r},n.prototype.lttbDownSample=function(e,t){var r=ty(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new fr(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new l2e(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return mI(e,r)},function(r){return mI(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},Z_(e)?oe(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e];return(r&&r[t])??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var o=i[t];return null==o&&(me(o=this.getVisual(t))?o=o.slice():Z_(o)&&(o=oe({},o)),i[t]=o),o},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Z_(t)?oe(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){Z_(e)?oe(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?oe(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){(function(n,e,t,r){if(r){var i=Dt(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,i.ssrType="chart","group"===r.type&&r.traverse(function(o){var a=Dt(o);a.seriesIndex=n,a.dataIndex=t,a.dataType=e,a.ssrType="chart"})}})(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){L(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:yc(this.dimensions,this._getDimInfo,this),this.hostModel)),_F(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];Xe(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(SE(arguments)))})},n.internalField=(QJ=function(e){var t=e._invertedIndicesMap;L(t,function(r,i){var o=e._dimInfos[i],a=o.ordinalMeta,s=e._store;if(a){r=t[i]=new g2e(a.categories.length);for(var l=0;l<r.length;l++)r[l]=-1;for(l=0;l<s.count();l++)r[s.get(o.storeDimIndex,l)]=l}})},J_=function(e,t,r){return Da(e._getCategory(t,r),null)},mI=function(e,t){var r=e._idList[t];return null==r&&null!=e._idDimIdx&&(r=J_(e,e._idDimIdx,t)),null==r&&(r="e\0\0"+t),r},ey=function(e){return me(e)||(e=null!=e?[e]:[]),e},ty=function(e){var t=new n(e._schema?e._schema:yc(e.dimensions,e._getDimInfo,e),e.hostModel);return _F(t,e),t},_F=function(e,t){L(_2e.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,L(y2e,function(r){e[r]=lt(t[r])}),e._calculationInfo=oe({},t._calculationInfo)},void(yF=function(e,t){var r=e._nameList,i=e._idList,o=e._nameDimIdx,a=e._idDimIdx,s=r[t],l=i[t];if(null==s&&null!=o&&(r[t]=s=J_(e,o,t)),null==l&&null!=a&&(i[t]=l=J_(e,a,t)),null==l&&null!=s){var c=e._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),i[t]=l}})),n}();const bF=b2e;function w2e(n,e){return wF(n,e).dimensions}function wF(n,e){mN(n)||(n=vN(n));var t=(e=e||{}).coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=rt(),o=[],a=function E2e(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return L(e,function(o){var a;Oe(o)&&(a=o.dimsDef)&&(i=Math.max(i,a.length))}),i}(n,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&KJ(a),l=r===n.dimensionsDefine,c=l?YJ(n):WJ(r),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(n,a));for(var d=rt(u),h=new NQ(a),f=0;f<h.length;f++)h[f]=-1;function p(D){var S=h[D];if(S<0){var x=r[D],N=Oe(x)?x:{name:x},R=new pI,q=N.name;return null!=q&&null!=c.get(q)&&(R.name=R.displayName=q),null!=N.type&&(R.type=N.type),null!=N.displayName&&(R.displayName=N.displayName),h[D]=o.length,R.storeDimIndex=D,o.push(R),R}return o[S]}if(!s)for(f=0;f<a;f++)p(f);d.each(function(D,S){var x=Gr(D).slice();if(1===x.length&&!we(x[0])&&x[0]<0)d.set(S,!1);else{var N=d.set(S,[]);L(x,function(R,q){var ee=we(R)?c.get(R):R;null!=ee&&ee<a&&(N[q]=ee,v(p(ee),S,q))})}});var g=0;function v(D,S,x){null!=KX.get(S)?D.otherDims[S]=x:(D.coordDim=S,D.coordDimIndex=x,i.set(S,!0))}L(t,function(D){var S,x,N,R;if(we(D))S=D,R={};else{S=(R=D).name;var q=R.ordinalMeta;R.ordinalMeta=null,(R=oe({},R)).ordinalMeta=q,x=R.dimsDef,N=R.otherDims,R.name=R.coordDim=R.coordDimIndex=R.dimsDef=R.otherDims=null}var ee=d.get(S);if(!1!==ee){if(!(ee=Gr(ee)).length)for(var re=0;re<(x&&x.length||1);re++){for(;g<a&&null!=p(g).coordDim;)g++;g<a&&ee.push(g++)}L(ee,function(ve,pe){var de=p(ve);if(l&&null!=R.type&&(de.type=R.type),v(tn(de,R),S,pe),null==de.name&&x){var Ee=x[pe];!Oe(Ee)&&(Ee={name:Ee}),de.name=de.displayName=Ee.name,de.defaultTooltip=Ee.defaultTooltip}N&&tn(de.otherDims,N)})}});var _=e.generateCoord,y=e.generateCoordCount,w=null!=y;y=_?y||1:0;var I=_||"value";function M(D){null==D.name&&(D.name=D.coordDim)}if(s)L(o,function(D){M(D)}),o.sort(function(D,S){return D.storeDimIndex-S.storeDimIndex});else for(var P=0;P<a;P++){var T=p(P);null==T.coordDim&&(T.coordDim=T2e(I,i,w),T.coordDimIndex=0,(!_||y<=0)&&(T.isExtraCoord=!0),y--),M(T),null==T.type&&(ZX(n,P)===Rr.Must||T.isExtraCoord&&(null!=T.otherDims.itemName||null!=T.otherDims.seriesName))&&(T.type="ordinal")}return function C2e(n){for(var e=rt(),t=0;t<n.length;t++){var r=n[t],i=r.name,o=e.get(i)||0;o>0&&(r.name=i+(o-1)),o++,e.set(i,o)}}(o),new GJ({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function T2e(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var I2e=function(){return function n(e){this.coordSysDims=[],this.axisMap=rt(),this.categoryAxisMap=rt(),this.coordSysName=e}}(),S2e={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",sd).models[0],o=n.getReferringComponents("yAxis",sd).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",o),Sp(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),Sp(o)&&(r.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",sd).models[0];e.coordSysDims=["single"],t.set("single",i),Sp(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",sd).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",a),Sp(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),Sp(a)&&(r.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,o=i.getComponent("parallel",n.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();L(o.parallelAxisIndex,function(s,l){var c=i.getComponent("parallelAxis",s),u=a[l];t.set(u,c),Sp(c)&&(r.set(u,c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=l))})}};function Sp(n){return"category"===n.get("type")}function ZJ(n,e,t){var o,a,s,r=(t=t||{}).byIndex,i=t.stackedCoordDimension;!function x2e(n){return!qJ(n.schema)}(e)?(o=(a=e.schema).dimensions,s=e.store):o=e;var c,u,d,h,l=!(!n||!n.get("stack"));if(L(o,function(y,w){we(y)&&(o[w]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!c&&y.ordinalMeta&&(c=y),!u&&"ordinal"!==y.type&&"time"!==y.type&&(!i||i===y.coordDim)&&(u=y))}),u&&!r&&!c&&(r=!0),u){d="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var f=u.coordDim,p=u.type,g=0;L(o,function(y){y.coordDim===f&&g++});var v={name:d,coordDim:f,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},_={name:h,coordDim:h,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(v.storeDimIndex=s.ensureCalculationDimension(h,p),_.storeDimIndex=s.ensureCalculationDimension(d,p)),a.appendCalculationDimension(v),a.appendCalculationDimension(_)):(o.push(v),o.push(_))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:r,stackedOverDimension:h,stackResultDimension:d}}function JJ(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}const N2e=function P2e(n,e,t){t=t||{};var i,r=e.getSourceManager(),o=!1;n?(o=!0,i=vN(n)):o=(i=r.getSource()).sourceFormat===$o;var a=function D2e(n){var e=n.get("coordinateSystem"),t=new I2e(e),r=S2e[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}(e),s=function M2e(n,e){var i,t=n.get("coordinateSystem"),r=MT.get(t);return e&&e.coordSysDims&&(i=Fe(e.coordSysDims,function(o){var a={name:o},s=e.axisMap.get(o);if(s){var l=s.get("type");a.type=function d2e(n){return"category"===n?"ordinal":"time"===n?"time":"float"}(l)}return a})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}(e,a),l=t.useEncodeDefaulter,c=Xe(l)?l:l?Nn(yNe,s,e):null,d=wF(i,{coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o}),h=function R2e(n,e,t){var r,i;return t&&L(n,function(o,a){var l=t.categoryAxisMap.get(o.coordDim);l&&(null==r&&(r=a),o.ordinalMeta=l.getOrdinalMeta(),e&&(o.createInvertedIndices=!0)),null!=o.otherDims.itemName&&(i=!0)}),!i&&null!=r&&(n[r].otherDims.itemName=0),r}(d.dimensions,t.createInvertedIndices,a),f=o?null:r.getSharedDataStore(d),p=ZJ(e,{schema:d,store:f}),g=new bF(d,e);g.setCalculationInfo(p);var v=null!=h&&function k2e(n){if(n.sourceFormat===$o){var e=function O2e(n){for(var e=0;e<n.length&&null==n[e];)e++;return n[e]}(n.data||[]);return!me(p_(e))}}(i)?function(_,y,w,I){return I===h?w:this.defaultDimValueGetter(_,y,w,I)}:null;return g.hasItemOption=!1,g.initData(o?i:f,null,v),g};var eee=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();iT(eee);const al=eee;var F2e=0,L2e=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++F2e}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&Fe(r,V2e);return new n({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!we(e)&&!r)return e;if(r&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var i=this._getOrCreateMap();return null==(t=i.get(e))&&(r?(this.categories[t=this.categories.length]=e,i.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=rt(this.categories))},n}();function V2e(n){return Oe(n)&&null!=n.value?n.value:n+""}const tee=L2e;function nee(n){return is(n)+2}function ree(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function gI(n,e){return n>=e[0]&&n<=e[1]}function vI(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function _I(n,e){return n*(e[1]-e[0])+e[0]}var iee=function(n){function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new tee({})),me(i)&&(i=new tee({categories:Fe(i,function(o){return Oe(o)?o.value:o})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return Lt(e,n),e.prototype.parse=function(t){return null==t?NaN:we(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return gI(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return vI(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(_I(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);a<l;++a){var c=r[a];i[a]=c,o[c]=a}for(var u=0;a<s;++a){for(;null!=o[u];)u++;i.push(u),o[u]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return null==i?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(al);al.registerClass(iee);const z2e=iee;var kd=bo,oee=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return Lt(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return gI(t,this._extent)},e.prototype.normalize=function(t){return vI(t,this._extent)},e.prototype.scale=function(t){return _I(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=nee(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!r)return s;i[0]<o[0]&&s.push(t?{value:kd(o[0]-r,a)}:{value:i[0]});for(var c=o[0];c<=o[1]&&(s.push({value:c}),(c=kd(c+r,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return i[1]>u&&s.push(t?{value:kd(u+r,a)}:{value:i[1]}),s},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],o=this.getExtent(),a=1;a<r.length;a++){for(var l=r[a-1],c=0,u=[],h=(r[a].value-l.value)/t;c<t-1;){var f=kd(l.value+(c+1)*h);f>o[0]&&f<o[1]&&u.push(f),c++}i.push(u)}return i},e.prototype.getLabel=function(t,r){if(null==t)return"";var i=r&&r.precision;return null==i?i=is(t.value)||0:"auto"===i&&(i=this._intervalPrecision),nN(kd(t.value,i,!0))},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=function B2e(n,e,t,r){var i={},a=i.interval=hO((n[1]-n[0])/e,!0);null!=t&&a<t&&(a=i.interval=t),null!=r&&a>r&&(a=i.interval=r);var s=i.intervalPrecision=nee(a);return function U2e(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),ree(n,0,e),ree(n,1,e),n[0]>n[1]&&(n[0]=n[1])}(i.niceTickExtent=[bo(Math.ceil(n[0]/a)*a,s),bo(Math.floor(n[1]/a)*a,s)],n),i}(o,t,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;isFinite(r[1]-r[0])||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(r[0]=kd(Math.floor(r[0]/a)*a)),t.fixMax||(r[1]=kd(Math.ceil(r[1]/a)*a))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(al);al.registerClass(oee);const yI=oee;var CF="__ec_stack_";function EF(n){return n.get("stack")||CF+n.seriesIndex}function TF(n){return n.dim+n.index}function see(n){var e=function H2e(n){var e={};L(n,function(l){var u=l.coordinateSystem.getBaseAxis();if("time"===u.type||"value"===u.type)for(var d=l.getData(),h=u.dim+"_"+u.index,f=d.getDimensionIndex(d.mapDimension(u.dim)),p=d.getStore(),g=0,v=p.count();g<v;++g){var _=p.get(f,g);e[h]?e[h].push(_):e[h]=[_]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,c){return l-c});for(var o=null,a=1;a<i.length;++a){var s=i[a]-i[a-1];s>0&&(o=null===o?s:Math.min(o,s))}t[r]=o}}return t}(n),t=[];return L(n,function(r){var s,o=r.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)s=o.getBandWidth();else if("value"===o.type||"time"===o.type){var c=e[o.dim+"_"+o.index],u=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),h=Math.abs(d[1]-d[0]);s=c?u/h*c:u}else{var f=r.getData();s=Math.abs(a[1]-a[0])/f.count()}var p=nn(r.get("barWidth"),s),g=nn(r.get("barMaxWidth"),s),v=nn(r.get("barMinWidth")||(function uee(n){return n.pipelineContext&&n.pipelineContext.large}(r)?.5:1),s),_=r.get("barGap"),y=r.get("barCategoryGap");t.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:v,barGap:_,barCategoryGap:y,axisKey:TF(o),stackId:EF(r)})}),function lee(n){var e={};L(n,function(r,i){var o=r.axisKey,a=r.bandWidth,s=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[o]=s;var c=r.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=r.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var d=r.barMaxWidth;d&&(l[c].maxWidth=d);var h=r.barMinWidth;h&&(l[c].minWidth=h);var f=r.barGap;null!=f&&(s.gap=f);var p=r.barCategoryGap;null!=p&&(s.categoryGap=p)});var t={};return L(e,function(r,i){t[i]={};var o=r.stacks,a=r.bandWidth,s=r.categoryGap;if(null==s){var l=yn(o).length;s=Math.max(35-4*l,15)+"%"}var c=nn(s,a),u=nn(r.gap,1),d=r.remainedWidth,h=r.autoWidthCount,f=(d-c)/(h+(h-1)*u);f=Math.max(f,0),L(o,function(_){var y=_.maxWidth,w=_.minWidth;if(_.width){var I=_.width;y&&(I=Math.min(I,y)),w&&(I=Math.max(I,w)),_.width=I,d-=I+u*I,h--}else I=f,y&&y<I&&(I=Math.min(y,d)),w&&w>I&&(I=w),I!==f&&(_.width=I,d-=I+u*I,h--)}),f=(d-c)/(h+(h-1)*u),f=Math.max(f,0);var g,p=0;L(o,function(_,y){_.width||(_.width=f),g=_,p+=_.width*(1+u)}),g&&(p-=g.width*u);var v=-p/2;L(o,function(_,y){t[i][y]=t[i][y]||{bandWidth:a,offset:v,width:_.width},v+=_.width*(1+u)})}),t}(t)}var dee=function(n){function e(t){var r=n.call(this,t)||this;return r.type="time",r}return Lt(e,n),e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return S_(t.value,NX[function lNe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(mp(this._minLevelUnit))]||NX.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var o=this.getSetting("useUTC");return function cNe(n,e,t,r,i){var o=null;if(we(t))o=t;else if(Xe(t))o=t(n.value,e,{level:n.level});else{var a=oe({},D_);if(n.level>0)for(var s=0;s<eN.length;++s)a[eN[s]]="{primary|"+a[eN[s]]+"}";var l=t?!1===t.inherit?t:tn(t,a):a,c=LX(n.value,i);if(l[c])o=l[c];else if(l.inherit){for(s=FX.indexOf(c)-1;s>=0;--s)if(l[c]){o=l[c];break}o=o||a.none}if(me(o)){var d=null==n.level?0:n.level>=0?n.level:o.length+n.level;o=o[d=Math.min(d,o.length-1)]}}return S_(new Date(n.value),o,i,r)}(t,r,i,this.getSetting("locale"),o)},e.prototype.getTicks=function(){var r=this._extent,i=[];if(!this._interval)return i;i.push({value:r[0],level:0});var o=this.getSetting("useUTC"),a=function Z2e(n,e,t,r){var o=FX,a=0;function s(S,x,N,R,q,ee,re){for(var ve=new Date(x),pe=x,de=ve[R]();pe<N&&pe<=r[1];)re.push({value:pe}),ve[q](de+=S),pe=ve.getTime();re.push({value:pe,notAdd:!0})}function l(S,x,N){var R=[],q=!x.length;if(!function q2e(n,e,t,r){var i=zo(e),o=zo(t),a=function(p){return VX(i,p,r)===VX(o,p,r)},s=function(){return a("year")},l=function(){return s()&&a("month")},c=function(){return l()&&a("day")},u=function(){return c()&&a("hour")},d=function(){return u()&&a("minute")},h=function(){return d()&&a("second")};switch(n){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return h();case"millisecond":return h()&&a("millisecond")}}(mp(S),r[0],r[1],t)){q&&(x=[{value:Q2e(new Date(r[0]),S,t)},{value:r[1]}]);for(var ee=0;ee<x.length-1;ee++){var re=x[ee].value,ve=x[ee+1].value;if(re!==ve){var pe=void 0,de=void 0,Ee=void 0;switch(S){case"year":pe=Math.max(1,Math.round(e/jo/365)),de=tN(t),Ee=uNe(t);break;case"half-year":case"quarter":case"month":pe=Y2e(e),de=gp(t),Ee=BX(t);break;case"week":case"half-week":case"day":pe=W2e(e),de=ET(t),Ee=UX(t);break;case"half-day":case"quarter-day":case"hour":pe=K2e(e),de=x_(t),Ee=zX(t);break;case"minute":pe=hee(e,!0),de=TT(t),Ee=HX(t);break;case"second":pe=hee(e,!1),de=IT(t),Ee=jX(t);break;case"millisecond":pe=X2e(e),de=DT(t),Ee=$X(t)}s(pe,re,ve,de,Ee,0,R),"year"===S&&N.length>1&&0===ee&&N.unshift({value:N[0].value-pe})}}for(ee=0;ee<R.length;ee++)N.push(R[ee]);return R}}for(var c=[],u=[],d=0,h=0,f=0;f<o.length&&a++<1e4;++f){var p=mp(o[f]);if(sNe(o[f])&&(l(o[f],c[c.length-1]||[],u),p!==(o[f+1]?mp(o[f+1]):null))){if(u.length){h=d,u.sort(function(S,x){return S.value-x.value});for(var v=[],_=0;_<u.length;++_){var y=u[_].value;(0===_||u[_-1].value!==y)&&(v.push(u[_]),y>=r[0]&&y<=r[1]&&d++)}var w=(r[1]-r[0])/e;if(d>1.5*w&&h>w/1.5||(c.push(v),d>w||n===o[f]))break}u=[]}}var I=On(Fe(c,function(S){return On(S,function(x){return x.value>=r[0]&&x.value<=r[1]&&!x.notAdd})}),function(S){return S.length>0}),M=[],P=I.length-1;for(f=0;f<I.length;++f)for(var T=I[f],E=0;E<T.length;++E)M.push({value:T[E].value,level:P-f});M.sort(function(S,x){return S.value-x.value});var D=[];for(f=0;f<M.length;++f)(0===f||M[f].value!==M[f-1].value)&&D.push(M[f]);return D}(this._minLevelUnit,this._approxInterval,o,r);return(i=i.concat(a)).push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=jo,r[1]+=jo),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-jo}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){var o=this._extent;this._approxInterval=(o[1]-o[0])/(t=t||10),null!=r&&this._approxInterval<r&&(this._approxInterval=r),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var s=bI.length,l=Math.min(function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t}(bI,this._approxInterval,0,s),s-1);this._interval=bI[l][1],this._minLevelUnit=bI[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return $t(t)?t:+zo(t)},e.prototype.contain=function(t){return gI(this.parse(t),this._extent)},e.prototype.normalize=function(t){return vI(this.parse(t),this._extent)},e.prototype.scale=function(t){return _I(t,this._extent)},e.type="time",e}(yI),bI=[["second",1e3],["minute",6e4],["hour",I_],["quarter-day",6*I_],["half-day",12*I_],["day",1.2*jo],["half-week",3.5*jo],["week",7*jo],["month",31*jo],["quarter",95*jo],["half-year",OX/2],["year",OX]];function W2e(n,e){return(n/=jo)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Y2e(n){return(n/=30*jo)>6?6:n>3?3:n>2?2:1}function K2e(n){return(n/=I_)>12?12:n>6?6:n>3.5?4:n>2?2:1}function hee(n,e){return(n/=e?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function X2e(n){return hO(n,!0)}function Q2e(n,e,t){var r=new Date(n);switch(mp(e)){case"year":case"month":r[BX(t)](0);case"day":r[UX(t)](1);case"hour":r[zX(t)](0);case"minute":r[HX(t)](0);case"second":r[jX(t)](0),r[$X(t)](0)}return r.getTime()}al.registerClass(dee);const J2e=dee;var fee=al.prototype,ny=yI.prototype,eBe=bo,tBe=Math.floor,nBe=Math.ceil,wI=Math.pow,Pa=Math.log,IF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new yI,t._interval=0,t}return Lt(e,n),e.prototype.getTicks=function(t){var i=this._extent,o=this._originalScale.getExtent();return Fe(ny.getTicks.call(this,t),function(s){var l=s.value,c=bo(wI(this.base,l));return c=l===i[0]&&this._fixMin?CI(c,o[0]):c,{value:c=l===i[1]&&this._fixMax?CI(c,o[1]):c}},this)},e.prototype.setExtent=function(t,r){var i=Pa(this.base);t=Pa(Math.max(0,t))/i,r=Pa(Math.max(0,r))/i,ny.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=fee.getExtent.call(this);r[0]=wI(t,r[0]),r[1]=wI(t,r[1]);var o=this._originalScale.getExtent();return this._fixMin&&(r[0]=CI(r[0],o[0])),this._fixMax&&(r[1]=CI(r[1],o[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=Pa(t[0])/Pa(r),t[1]=Pa(t[1])/Pa(r),fee.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var o=fK(i);for(t/i*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[bo(nBe(r[0]/o)*o),bo(tBe(r[1]/o)*o)];this._interval=o,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){ny.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return gI(t=Pa(t)/Pa(this.base),this._extent)},e.prototype.normalize=function(t){return vI(t=Pa(t)/Pa(this.base),this._extent)},e.prototype.scale=function(t){return t=_I(t,this._extent),wI(this.base,t)},e.type="log",e}(al),pee=IF.prototype;function CI(n,e){return eBe(n,is(e))}pee.getMinorTicks=ny.getMinorTicks,pee.getLabel=ny.getLabel,al.registerClass(IF);const rBe=IF;var iBe=function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=t.get("min",!0);null==o&&(o=t.get("startValue",!0));var a=this._modelMinRaw=o;Xe(a)?this._modelMinNum=EI(e,a({min:r[0],max:r[1]})):"dataMin"!==a&&(this._modelMinNum=EI(e,a));var s=this._modelMaxRaw=t.get("max",!0);if(Xe(s)?this._modelMaxNum=EI(e,s({min:r[0],max:r[1]})):"dataMax"!==s&&(this._modelMaxNum=EI(e,s)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),c=me(l)?l:[l||0,l||0];this._boundaryGapInner="boolean"==typeof c[0]||"boolean"==typeof c[1]?[0,0]:[uc(c[0],1),uc(c[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,a=e?null:r-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,l="dataMax"===this._modelMaxRaw?r:this._modelMaxNum,c=null!=s,u=null!=l;null==s&&(s=e?i?0:NaN:t-o[0]*a),null==l&&(l=e?i?i-1:NaN:r+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var d=Xv(s)||Xv(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var h=this._determinedMin,f=this._determinedMax;return null!=h&&(s=h,c=!0),null!=f&&(l=f,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:d}},n.prototype.modifyDataMinMax=function(e,t){this[aBe[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){this[oBe[e]]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),oBe={min:"_determinedMin",max:"_determinedMax"},aBe={min:"_dataMin",max:"_dataMax"};function EI(n,e){return null==e?null:Xv(e)?NaN:n.parse(e)}function xp(n){var e=n.getLabelModel().get("formatter"),t="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?function(r){return function(i,o){return n.scale.getFormattedLabel(i,o,r)}}(e):we(e)?function(r){return function(i){var o=n.scale.getLabel(i);return r.replace("{value}",o??"")}}(e):Xe(e)?function(r){return function(i,o){return null!=t&&(o=i.value-t),r(DF(n,i),o,null!=i.level?{level:i.level}:null)}}(e):function(r){return n.scale.getLabel(r)}}function DF(n,e){return"category"===n.type?n.scale.getLabel(e):e.value}function SF(n){return n.get("interval")??"auto"}function mee(n){return"category"===n.type&&0===SF(n.getLabelModel())}var pBe=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}();function mBe(n){return N2e(null,n)}var gBe={isDimensionStacked:JJ,enableDataStack:ZJ,getStackedDimension:function A2e(n,e){return JJ(n,e)?n.getCalculationInfo("stackResultDimension"):e}};function vBe(n,e){var t=e;e instanceof fr||(t=new fr(e));var r=function dBe(n,e){if(e=e||n.get("type"))switch(e){case"category":return new z2e({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new J2e({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(al.getClass(e)||yI)}}(t);return r.setExtent(n[0],n[1]),function uBe(n,e){var t=e,r=function lBe(n,e){var t=n.type,r=function sBe(n,e,t){var r=n.rawExtentInfo;return r||(r=new iBe(n,e,t),n.rawExtentInfo=r,r)}(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,o=r.max,a=e.ecModel;if(a&&"time"===t){var s=function aee(n,e){var t=[];return e.eachSeriesByType(n,function(r){(function cee(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type})(r)&&t.push(r)}),t}("bar",a),l=!1;if(L(s,function(d){l=l||d.getBaseAxis()===e.axis}),l){var c=see(s),u=function cBe(n,e,t,r){var i=t.axis.getExtent(),o=Math.abs(i[1]-i[0]),a=function j2e(n,e,t){if(n&&e){var r=n[TF(e)];return null!=r&&null!=t?r[EF(t)]:r}}(r,t.axis);if(void 0===a)return{min:n,max:e};var s=1/0;L(a,function(f){s=Math.min(f.offset,s)});var l=-1/0;L(a,function(f){l=Math.max(f.offset+f.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=e-n,h=u/(1-(s+l)/o)-u;return{min:n-=h*(s/c),max:e+=h*(l/c)}}(i,o,e,c);i=u.min,o=u.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}(n,t),i=r.extent,o=t.get("splitNumber");n instanceof rBe&&(n.base=t.get("logBase"));var a=n.type,s=t.get("interval"),l="interval"===a||"time"===a;n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),null!=s&&n.setInterval&&n.setInterval(s)}(r,t),r}function _Be(n){wa(n,pBe)}function yBe(n,e){return el(n,null,null,"normal"!==(e=e||{}).state)}function gee(n,e){return Math.abs(n-e)<1e-8}function vee(n,e,t){var r=0,i=n[0];if(!i)return!1;for(var o=1;o<n.length;o++){var a=n[o];r+=Zs(i[0],i[1],a[0],a[1],e,t),i=a}var s=n[0];return(!gee(i[0],s[0])||!gee(i[1],s[1]))&&(r+=Zs(i[0],i[1],s[0],s[1],e,t)),0!==r}var wBe=[];function xF(n,e){for(var t=0;t<n.length;t++)go(n[t],n[t],e)}function _ee(n,e,t,r){for(var i=0;i<n.length;i++){var o=n[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(nc(e,e,o),rc(t,t,o))}}var yee=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),bee=function(){return function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}}(),wee=function(){return function n(e){this.type="linestring",this.points=e}}(),EBe=function(n){function e(t,r,i){var o=n.call(this,t)||this;return o.type="geoJSON",o.geometries=r,o._center=i&&[i[0],i[1]],o}return Lt(e,n),e.prototype.calcCenter=function(){for(var r,t=this.geometries,i=0,o=0;o<t.length;o++){var a=t[o],s=a.exterior,l=s&&s.length;l>i&&(r=a,i=l)}if(r)return function CBe(n){for(var e=0,t=0,r=0,i=n.length,o=n[i-1][0],a=n[i-1][1],s=0;s<i;s++){var l=n[s][0],c=n[s][1],u=o*c-l*a;e+=u,t+=(o+l)*u,r+=(a+c)*u,o=l,a=c}return e?[t/e/3,r/e/3,e]:[n[0][0]||0,n[0][1]||0]}(r.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},e.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],o=[-1/0,-1/0];return L(this.geometries,function(s){"polygon"===s.type?_ee(s.exterior,i,o,t):L(s.points,function(l){_ee(l,i,o,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])||(i[0]=i[1]=o[0]=o[1]=0),r=new bt(i[0],i[1],o[0]-i[0],o[1]-i[1]),t||(this._rect=r),r},e.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var o=0,a=i.length;o<a;o++){var s=i[o];if("polygon"===s.type){var c=s.interiors;if(vee(s.exterior,t[0],t[1])){for(var u=0;u<(c?c.length:0);u++)if(vee(c[u],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,r,i,o){var a=this.getBoundingRect(),s=a.width/a.height;i?o||(o=i/s):i=s*o;for(var l=new bt(t,r,i,o),c=a.calculateTransform(l),u=this.geometries,d=0;d<u.length;d++){var h=u[d];"polygon"===h.type?(xF(h.exterior,c),L(h.interiors,function(f){xF(f,c)})):L(h.points,function(f){xF(f,c)})}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var r=new e(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e}(yee);function AF(n,e,t){for(var r=0;r<n.length;r++)n[r]=Cee(n[r],e[r],t)}function Cee(n,e,t){for(var r=[],i=e[0],o=e[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),i=s+=i,o=l+=o,r.push([s/t,l/t])}return r}function Eee(n,e){return n=function TBe(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;return null==t&&(t=1024),L(e.features,function(i){var o=i.geometry,a=o.encodeOffsets,s=o.coordinates;if(a)switch(o.type){case"LineString":o.coordinates=Cee(s,a,t);break;case"Polygon":case"MultiLineString":AF(s,a,t);break;case"MultiPolygon":L(s,function(l,c){return AF(l,a[c],t)})}}),e.UTF8Encoding=!1,e}(n),Fe(On(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,i=t.geometry,o=[];switch(i.type){case"Polygon":var a=i.coordinates;o.push(new bee(a[0],a.slice(1)));break;case"MultiPolygon":L(i.coordinates,function(l){l[0]&&o.push(new bee(l[0],l.slice(1)))});break;case"LineString":o.push(new wee([i.coordinates]));break;case"MultiLineString":o.push(new wee(i.coordinates))}var s=new EBe(r[e||"name"],o,r.cp);return s.properties=r,s})}function IBe(n,e,t,r,i,o,a,s){return new Mr({style:{text:n,font:e,align:t,verticalAlign:r,padding:i,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}!function(n){function e(t,r){var i=n.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}Lt(e,n),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],o=Zv(wBe),a=t;a&&!a.isGeoSVGGraphicRoot;)oc(o,a.getLocalTransform(),o),a=a.parent;return Jv(o,o),go(i,i,o),i}}(yee);var ry=In();function Tee(n,e){var t=Fe(e,function(r){return n.scale.parse(r)});return"time"===n.type&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function Iee(n,e){var o,a,t=Dee(n,"labels"),r=SF(e);return See(t,r)||(Xe(r)?o=Mee(n,r):(a="auto"===r?function RBe(n){return ry(n).autoInterval??(ry(n).autoInterval=n.calculateCategoryInterval())}(n):r,o=Aee(n,a)),xee(t,r,{labels:o,labelCategoryInterval:a}))}function Dee(n,e){return ry(n)[e]||(ry(n)[e]=[])}function See(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function xee(n,e,t){return n.push({key:e,value:t}),t}function Aee(n,e,t){var r=xp(n),i=n.scale,o=i.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=o[0],u=i.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=mee(n),h=a.get("showMinLabel")||d,f=a.get("showMaxLabel")||d;h&&c!==o[0]&&g(o[0]);for(var p=c;p<=o[1];p+=l)g(p);function g(v){var _={value:v};s.push(t?v:{formattedLabel:r(_),rawLabel:i.getLabel(_),tickValue:v})}return f&&p-l!==o[1]&&g(o[1]),s}function Mee(n,e,t){var r=n.scale,i=xp(n),o=[];return L(r.getTicks(),function(a){var s=r.getLabel(a),l=a.value;e(a.value,s)&&o.push(t?l:{formattedLabel:i(a),rawLabel:s,tickValue:l})}),o}var Ree=[0,1],OBe=function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return dK(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Pee(r=r.slice(),i.count()),rT(e,Ree,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Pee(r=r.slice(),i.count());var o=rT(e,r,Ree,t);return this.scale.scale(o)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),o=Fe(function SBe(n,e){var t=n.getTickModel().get("customValues");if(t){var r=n.scale.getExtent();return{ticks:On(Tee(n,t),function(o){return o>=r[0]&&o<=r[1]})}}return"category"===n.type?function ABe(n,e){var o,a,t=Dee(n,"ticks"),r=SF(e),i=See(t,r);if(i)return i;if((!e.get("show")||n.scale.isBlank())&&(o=[]),Xe(r))o=Mee(n,r,!0);else if("auto"===r){var s=Iee(n,n.getLabelModel());a=s.labelCategoryInterval,o=Fe(s.labels,function(l){return l.tickValue})}else o=Aee(n,a=r,!0);return xee(t,r,{ticks:o,tickCategoryInterval:a})}(n,e):{ticks:Fe(n.scale.getTicks(),function(o){return o.value})}}(this,t).ticks,function(s){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this);return function NBe(n,e,t,r){var i=e.length;if(n.onBand&&!t&&i){var a,o=n.getExtent();if(1===i)e[0].coord=o[0],a=e[1]={coord:o[1],tickValue:e[0].tickValue};else{var c=(e[i-1].coord-e[0].coord)/(e[i-1].tickValue-e[0].tickValue);L(e,function(f){f.coord-=c/2});var u=n.scale.getExtent();e.push(a={coord:e[i-1].coord+c*(1+u[1]-e[i-1].tickValue),tickValue:u[1]+1})}var d=o[0]>o[1];h(e[0].coord,o[0])&&(r?e[0].coord=o[0]:e.shift()),r&&h(o[0],e[0].coord)&&e.unshift({coord:o[0]}),h(o[1],a.coord)&&(r?a.coord=o[1]:e.pop()),r&&h(a.coord,o[1])&&e.push({coord:o[1]})}function h(f,p){return f=bo(f),p=bo(p),d?f>p:f<p}}(this,o,t.get("alignWithLabel"),e.clamp),o},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),Fe(this.scale.getMinorTicks(t),function(o){return Fe(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this)},n.prototype.getViewLabels=function(){return function DBe(n){var e=n.getLabelModel().get("customValues");if(e){var t=xp(n),r=n.scale.getExtent();return{labels:Fe(On(Tee(n,e),function(a){return a>=r[0]&&a<=r[1]}),function(a){var s={value:a};return{formattedLabel:t(s),rawLabel:n.scale.getLabel(s),tickValue:a}})}}return"category"===n.type?function xBe(n){var e=n.getLabelModel(),t=Iee(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(n):function MBe(n){var e=n.scale.getTicks(),t=xp(n);return{labels:Fe(e,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);0===r&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return function PBe(n){var e=function kBe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(n),t=xp(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=n.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],c=n.dataToCoord(l+1)-n.dataToCoord(l),u=Math.abs(c*Math.cos(r)),d=Math.abs(c*Math.sin(r)),h=0,f=0;l<=o[1];l+=s){var g,v=tO(t({value:l}),e.font,"center","top");g=1.3*v.height,h=Math.max(h,1.3*v.width,7),f=Math.max(f,g,7)}var _=h/u,y=f/d;isNaN(_)&&(_=1/0),isNaN(y)&&(y=1/0);var w=Math.max(0,Math.floor(Math.min(_,y))),I=ry(n.model),M=n.getExtent(),P=I.lastAutoInterval,T=I.lastTickCount;return null!=P&&null!=T&&Math.abs(P-w)<=1&&Math.abs(T-a)<=1&&P>w&&I.axisExtent0===M[0]&&I.axisExtent1===M[1]?w=P:(I.lastTickCount=a,I.lastAutoInterval=w,I.axisExtent0=M[0],I.axisExtent1=M[1]),w}(this)},n}();function Pee(n,e){var i=(n[1]-n[0])/e/2;n[0]+=i,n[1]-=i}const FBe=OBe;function LBe(n){var e=un.extend(n);return un.registerClass(e),e}function VBe(n){var e=Aa.extend(n);return Aa.registerClass(e),e}function BBe(n){var e=gc.extend(n);return gc.registerClass(e),e}function UBe(n){var e=il.extend(n);return il.registerClass(e),e}var iy=2*Math.PI,Od=md.CMD,zBe=["top","right","bottom","left"];function HBe(n,e,t,r,i){var o=t.width,a=t.height;switch(n){case"top":r.set(t.x+o/2,t.y-e),i.set(0,-1);break;case"bottom":r.set(t.x+o/2,t.y+a+e),i.set(0,1);break;case"left":r.set(t.x-e,t.y+a/2),i.set(-1,0);break;case"right":r.set(t.x+o+e,t.y+a/2),i.set(1,0)}}function jBe(n,e,t,r,i,o,a,s,l){a-=n,s-=e;var c=Math.sqrt(a*a+s*s),u=(a/=c)*t+n,d=(s/=c)*t+e;if(Math.abs(r-i)%iy<1e-4)return l[0]=u,l[1]=d,c-t;if(o){var h=r;r=Qs(i),i=Qs(h)}else r=Qs(r),i=Qs(i);r>i&&(i+=iy);var f=Math.atan2(s,a);if(f<0&&(f+=iy),f>=r&&f<=i||f+iy>=r&&f+iy<=i)return l[0]=u,l[1]=d,c-t;var p=t*Math.cos(r)+n,g=t*Math.sin(r)+e,v=t*Math.cos(i)+n,_=t*Math.sin(i)+e,y=(p-a)*(p-a)+(g-s)*(g-s),w=(v-a)*(v-a)+(_-s)*(_-s);return y<w?(l[0]=p,l[1]=g,Math.sqrt(y)):(l[0]=v,l[1]=_,Math.sqrt(w))}function TI(n,e,t,r,i,o,a,s){var l=i-n,c=o-e,u=t-n,d=r-e,h=Math.sqrt(u*u+d*d),p=(l*(u/=h)+c*(d/=h))/h;s&&(p=Math.min(Math.max(p,0),1));var g=a[0]=n+(p*=h)*u,v=a[1]=e+p*d;return Math.sqrt((g-i)*(g-i)+(v-o)*(v-o))}function kee(n,e,t,r,i,o,a){t<0&&(n+=t,t=-t),r<0&&(e+=r,r=-r);var s=n+t,l=e+r,c=a[0]=Math.min(Math.max(i,n),s),u=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((c-i)*(c-i)+(u-o)*(u-o))}var ka=[];function $Be(n,e,t){var r=kee(e.x,e.y,e.width,e.height,n.x,n.y,ka);return t.set(ka[0],ka[1]),r}function GBe(n,e,t){for(var s,l,r=0,i=0,o=0,a=0,c=1/0,u=e.data,d=n.x,h=n.y,f=0;f<u.length;){var p=u[f++];1===f&&(o=r=u[f],a=i=u[f+1]);var g=c;switch(p){case Od.M:r=o=u[f++],i=a=u[f++];break;case Od.L:g=TI(r,i,u[f],u[f+1],d,h,ka,!0),r=u[f++],i=u[f++];break;case Od.C:g=MY(r,i,u[f++],u[f++],u[f++],u[f++],u[f],u[f+1],d,h,ka),r=u[f++],i=u[f++];break;case Od.Q:g=kY(r,i,u[f++],u[f++],u[f],u[f+1],d,h,ka),r=u[f++],i=u[f++];break;case Od.A:var v=u[f++],_=u[f++],y=u[f++],w=u[f++],I=u[f++],M=u[f++];f+=1;var P=!!(1-u[f++]);s=Math.cos(I)*y+v,l=Math.sin(I)*w+_,f<=1&&(o=s,a=l),g=jBe(v,_,w,I,I+M,P,(d-v)*w/y+v,h,ka),r=Math.cos(I+M)*y+v,i=Math.sin(I+M)*w+_;break;case Od.R:g=kee(o=r=u[f++],a=i=u[f++],u[f++],u[f++],d,h,ka);break;case Od.Z:g=TI(r,i,o,a,d,h,ka,!0),r=o,i=a}g<c&&(c=g,t.set(ka[0],ka[1]))}return c}var Oa=new $e,Rt=new $e,Fn=new $e,fs=new $e,ps=new $e;function Oee(n,e){if(n){var t=n.getTextGuideLine(),r=n.getTextContent();if(r&&t){var i=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=i.candidates||zBe,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,c=i.anchor,u=n.getComputedTransform(),d=u&&Jv([],u),h=e.get("length2")||0;c&&Fn.copy(c);for(var f=0;f<a.length;f++){HBe(a[f],0,s,Oa,fs),$e.scaleAndAdd(Rt,Oa,fs,h),Rt.transform(d);var g=n.getBoundingRect(),v=c?c.distance(Rt):n instanceof rn?GBe(Rt,n.path,Fn):$Be(Rt,g,Fn);v<l&&(l=v,Rt.transform(u),Fn.transform(u),Fn.toArray(o[0]),Rt.toArray(o[1]),Oa.toArray(o[2]))}Nee(o,e.get("minTurnAngle")),t.setShape({points:o})}}}var II=[],Ti=new $e;function Nee(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Oa.fromArray(n[0]),Rt.fromArray(n[1]),Fn.fromArray(n[2]),$e.sub(fs,Oa,Rt),$e.sub(ps,Fn,Rt);var t=fs.len(),r=ps.len();if(!(t<.001||r<.001)){fs.scale(1/t),ps.scale(1/r);var i=fs.dot(ps);if(Math.cos(e)<i){var a=TI(Rt.x,Rt.y,Fn.x,Fn.y,Oa.x,Oa.y,II,!1);Ti.fromArray(II),Ti.scaleAndAdd(ps,a/Math.tan(Math.PI-e));var s=Fn.x!==Rt.x?(Ti.x-Rt.x)/(Fn.x-Rt.x):(Ti.y-Rt.y)/(Fn.y-Rt.y);if(isNaN(s))return;s<0?$e.copy(Ti,Rt):s>1&&$e.copy(Ti,Fn),Ti.toArray(n[1])}}}}function qBe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Oa.fromArray(n[0]),Rt.fromArray(n[1]),Fn.fromArray(n[2]),$e.sub(fs,Rt,Oa),$e.sub(ps,Fn,Rt);var r=fs.len(),i=ps.len();if(!(r<.001||i<.001)&&(fs.scale(1/r),ps.scale(1/i),fs.dot(e)<Math.cos(t))){var s=TI(Rt.x,Rt.y,Fn.x,Fn.y,Oa.x,Oa.y,II,!1);Ti.fromArray(II);var l=Math.PI/2,u=l+Math.acos(ps.dot(e))-t;if(u>=l)$e.copy(Ti,Fn);else{Ti.scaleAndAdd(ps,s/Math.tan(Math.PI/2-u));var d=Fn.x!==Rt.x?(Ti.x-Rt.x)/(Fn.x-Rt.x):(Ti.y-Rt.y)/(Fn.y-Rt.y);if(isNaN(d))return;d<0?$e.copy(Ti,Rt):d>1&&$e.copy(Ti,Fn)}Ti.toArray(n[1])}}}function MF(n,e,t,r){var i="normal"===t,o=i?n:n.ensureState(t);o.ignore=e;var a=r.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();i?n.useStyle(s):o.style=s}function WBe(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=PE(r[0],r[1]),o=PE(r[1],r[2]);if(!i||!o)return n.lineTo(r[1][0],r[1][1]),void n.lineTo(r[2][0],r[2][1]);var a=Math.min(i,o)*t,s=kE([],r[1],r[0],a/i),l=kE([],r[1],r[2],a/o),c=kE([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var u=1;u<r.length;u++)n.lineTo(r[u][0],r[u][1])}function Fee(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(i){for(var o=e.normal,a=o.get("show"),s=i.ignore,l=0;l<hT.length;l++){var c=hT[l],u=e[c],d="normal"===c;if(u){var h=u.get("show");if((d?s:qe(i.states[c]&&i.states[c].ignore,s))||!qe(h,a)){var p=d?r:r&&r.states[c];p&&(p.ignore=!0),r&&MF(r,!0,c,u);continue}r||(r=new j_,n.setTextGuideLine(r),!d&&(s||!a)&&MF(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),MF(r,!1,c,u)}}if(r){tn(r.style,t),r.style.fill=null;var g=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=g||!1,r.buildPath=WBe}}else r&&n.removeTextGuideLine()}function Lee(n,e){for(var t={normal:n.getModel(e=e||"labelLine")},r=0;r<cs.length;r++){var i=cs[r];t[i]=n.getModel([i,e])}return t}function Vee(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),a=i.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=i.style.margin||0,c=a.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new GT(a,o):null;e.push({label:i,labelLine:r.labelLine,rect:c,localRect:a,obb:u,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:o})}}return e}function Bee(n,e,t,r,i,o){var a=n.length;if(!(a<2)){n.sort(function(D,S){return D.rect[e]-S.rect[e]});for(var l,s=0,c=!1,u=[],d=0,h=0;h<a;h++){var f=n[h],p=f.rect;(l=p[e]-s)<0&&(p[e]-=l,f.label[e]-=l,c=!0);var g=Math.max(-l,0);u.push(g),d+=g,s=p[e]+p[t]}d>0&&o&&P(-d/a,0,a);var y,w,v=n[0],_=n[a-1];return I(),y<0&&T(-y,.8),w<0&&T(w,.8),I(),M(y,w,1),M(w,y,-1),I(),y<0&&E(-y),w<0&&E(w),c}function I(){y=v.rect[e]-r,w=i-_.rect[e]-_.rect[t]}function M(D,S,x){if(D<0){var N=Math.min(S,-D);if(N>0){P(N*x,0,a);var R=N+D;R<0&&T(-R*x,1)}else T(-D*x,1)}}function P(D,S,x){0!==D&&(c=!0);for(var N=S;N<x;N++){var R=n[N];R.rect[e]+=D,R.label[e]+=D}}function T(D,S){for(var x=[],N=0,R=1;R<a;R++){var q=n[R-1].rect,ee=Math.max(n[R].rect[e]-q[e]-q[t],0);x.push(ee),N+=ee}if(N){var re=Math.min(Math.abs(D)/N,S);if(D>0)for(R=0;R<a-1;R++)P(x[R]*re,0,R+1);else for(R=a-1;R>0;R--)P(-x[R-1]*re,R,a)}}function E(D){var S=D<0?-1:1;D=Math.abs(D);for(var x=Math.ceil(D/(a-1)),N=0;N<a-1;N++)if(S>0?P(x,0,N+1):P(-x,a-N-1,a),(D-=x)<=0)return}}function Uee(n,e,t,r){return Bee(n,"y","height",e,t,r)}function zee(n){var e=[];n.sort(function(g,v){return v.priority-g.priority});var t=new bt(0,0,0,0);function r(g){if(!g.ignore){var v=g.ensureState("emphasis");null==v.ignore&&(v.ignore=!1)}g.ignore=!0}for(var i=0;i<n.length;i++){var o=n[i],a=o.axisAligned,s=o.localRect,l=o.transform,c=o.label,u=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=o.obb,h=!1,f=0;f<e.length;f++){var p=e[f];if(t.intersect(p.rect)){if(a&&p.axisAligned){h=!0;break}if(p.obb||(p.obb=new GT(p.localRect,p.transform)),d||(d=new GT(s,l)),d.intersect(p.obb)){h=!0;break}}}h?(r(c),u&&r(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function KBe(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function XBe(n,e){var t=n.label,r=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:KBe(r&&r.shape.points)}}var Hee=["align","verticalAlign","width","height","fontSize"],Ii=new tT,RF=In(),QBe=In();function DI(n,e,t){for(var r=0;r<t.length;r++){var i=t[r];null!=e[i]&&(n[i]=e[i])}}var SI=["x","y","rotation"],ZBe=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,r,i,o){var a=i.style,l=i.__hostTarget.textConfig||{},c=i.getComputedTransform(),u=i.getBoundingRect().plain();bt.applyTransform(u,u,c),c?Ii.setLocalTransform(c):(Ii.x=Ii.y=Ii.rotation=Ii.originX=Ii.originY=0,Ii.scaleX=Ii.scaleY=1),Ii.rotation=Qs(Ii.rotation);var h,d=i.__hostTarget;if(d){h=d.getBoundingRect().plain();var f=d.getComputedTransform();bt.applyTransform(h,h,f)}var p=h&&d.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Ii.x,y:Ii.y,scaleX:Ii.scaleX,scaleY:Ii.scaleY,rotation:Ii.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");(Xe(i)||yn(i).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=Dt(o);a&&!a.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,a,i)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function i(w,I){return function(){Oee(w,I)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,c=a.defaultAttr,u=void 0;u=Xe(a.layoutOption)?a.layoutOption(XBe(a,l)):a.layoutOption,a.computedLayoutOption=u=u||{};var d=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:c.attachedPos,rotation:null!=u.rotate?u.rotate*d:c.attachedRot,offset:[u.dx||0,u.dy||0]});var h=!1;if(null!=u.x?(s.x=nn(u.x,t),s.setStyle("x",0),h=!0):(s.x=c.x,s.setStyle("x",c.style.x)),null!=u.y?(s.y=nn(u.y,r),s.setStyle("y",0),h=!0):(s.y=c.y,s.setStyle("y",c.style.y)),u.labelLinePoints){var f=l.getTextGuideLine();f&&(f.setShape({points:u.labelLinePoints}),h=!1)}RF(s).needsUpdateLabelLine=h,s.rotation=null!=u.rotate?u.rotate*d:c.rotation,s.scaleX=c.scaleX,s.scaleY=c.scaleY;for(var g=0;g<Hee.length;g++){var v=Hee[g];s.setStyle(v,null!=u[v]?u[v]:c.style[v])}if(u.draggable){if(s.draggable=!0,s.cursor="move",l){var _=a.seriesModel;null!=a.dataIndex&&(_=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",i(l,_.getModel("labelLine")))}}else s.off("drag"),s.cursor=c.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),i=Vee(this._labelList),o=On(i,function(l){return"shiftX"===l.layoutOption.moveOverlap}),a=On(i,function(l){return"shiftY"===l.layoutOption.moveOverlap});(function YBe(n,e,t,r){Bee(n,"x","width",e,t,r)})(o,0,t),Uee(a,0,r),zee(On(i,function(l){return l.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;L(this._chartViewList,function(t){var r=t.__model,i=t.ignoreLabelLineUpdate,o=r.isAnimationEnabled();t.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!i,l=a.getTextContent();!s&&l&&(s=RF(l).needsUpdateLabelLine),s&&e._updateLabelLine(a,r),o&&e._animateLabels(a,r)})})},n.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),i=Dt(e),o=i.dataIndex;if(r&&null!=o){var a=t.getData(i.dataType),s=a.getItemModel(o),l={},c=a.getItemVisual(o,"style");if(c){var u=a.getVisual("drawType");l.stroke=c[u]}var d=s.getModel("labelLine");Fee(e,Lee(s),l),Oee(e,d)}},n.prototype._animateLabels=function(e,t){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!fp(e))){var a=(o=RF(r)).oldLayout,s=Dt(e),l=s.dataIndex,c={x:r.x,y:r.y,rotation:r.rotation},u=t.getData(s.dataType);if(a){r.attr(a);var h=e.prevStates;h&&(Mt(h,"select")>=0&&r.attr(o.oldLayoutSelect),Mt(h,"emphasis")>=0&&r.attr(o.oldLayoutEmphasis)),us(r,c,t,l)}else if(r.attr(c),!_T(r).valueAnimation){var d=qe(r.style.opacity,1);r.style.opacity=0,pc(r,{style:{opacity:d}},t,l)}if(o.oldLayout=c,r.states.select){var f=o.oldLayoutSelect={};DI(f,c,SI),DI(f,r.states.select,SI)}if(r.states.emphasis){var p=o.oldLayoutEmphasis={};DI(p,c,SI),DI(p,r.states.emphasis,SI)}!function $Oe(n,e,t,r,i){var o=_T(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=qe(o.interpolatedValue,o.prevValue),l=o.value;n.percent=0,(null==o.prevValue?pc:us)(n,{percent:1},r,e,null,function c(u){var d=function pke(n,e,t,r,i){var o=null==e||"auto"===e;if(null==r)return r;if($t(r))return bo(a=_K(t||0,r,i),o?Math.max(is(t||0),is(r)):e);if(we(r))return i<1?t:r;for(var s=[],l=t,c=r,u=Math.max(l?l.length:0,c.length),d=0;d<u;++d){var h=n.getDimensionInfo(d);if(h&&"ordinal"===h.type)s[d]=(i<1&&l?l:c)[d];else{var f=l&&l[d]?l[d]:0,p=c[d],a=_K(f,p,i);s[d]=bo(a,o?Math.max(is(f),is(p)):e)}}return s}(t,o.precision,s,l,u);o.interpolatedValue=1===u?null:d;var h=qO({labelDataIndex:e,labelFetcher:i,defaultText:a?a(d):d+""},o.statesModels,d);TX(n,h)})}}(r,l,u,t,t)}if(i&&!i.ignore&&!i.invisible){var o=QBe(i),g={points:i.shape.points};(a=o.oldLayout)?(i.attr({shape:a}),us(i,{shape:g},t)):(i.setShape(g),i.style.strokePercent=0,pc(i,{style:{strokePercent:1}},t)),o.oldLayout=g}},n}();const JBe=ZBe;var PF=In();ol(function eUe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var i=PF(t).labelManager;i||(i=PF(t).labelManager=new JBe),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var i=PF(t).labelManager;r.updatedSeries.forEach(function(o){i.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})});var jee=2*Math.PI,xI=Math.PI/180;function $ee(n,e){return Cd(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Gee(n,e){var t=$ee(n,e),r=n.get("center"),i=n.get("radius");me(i)||(i=[0,i]);var u,d,o=nn(t.width,e.getWidth()),a=nn(t.height,e.getHeight()),s=Math.min(o,a),l=nn(i[0],s/2),c=nn(i[1],s/2),h=n.coordinateSystem;if(h){var f=h.dataToPoint(r);u=f[0]||0,d=f[1]||0}else me(r)||(r=[r,r]),u=nn(r[0],o)+t.x,d=nn(r[1],a)+t.y;return{cx:u,cy:d,r0:l,r:c}}function tUe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),o=i.mapDimension("value"),a=$ee(r,t),s=Gee(r,t),l=s.cx,c=s.cy,u=s.r,d=s.r0,h=-r.get("startAngle")*xI,f=r.get("endAngle"),p=r.get("padAngle")*xI;f="auto"===f?h-jee:-f*xI;var v=r.get("minAngle")*xI+p,_=0;i.each(o,function(ve){!isNaN(ve)&&_++});var y=i.getSum(o),w=Math.PI/(y||_)*2,I=r.get("clockwise"),M=r.get("roseType"),P=r.get("stillShowZeroSum"),T=i.getDataExtent(o);T[0]=0;var E=I?1:-1,D=[h,f],S=E*p/2;LK(D,!I),h=D[0],f=D[1];var x=qee(r);x.startAngle=h,x.endAngle=f,x.clockwise=I;var N=Math.abs(f-h),R=N,q=0,ee=h;if(i.setLayout({viewRect:a,r:u}),i.each(o,function(ve,pe){var de;if(isNaN(ve))i.setItemLayout(pe,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:l,cy:c,r0:d,r:M?NaN:u});else{(de="area"!==M?0===y&&P?w:ve*w:N/_)<v?(de=v,R-=v):q+=ve;var Ee=ee+E*de,ze=0,Ce=0;p>de?Ce=ze=ee+E*de/2:(ze=ee+S,Ce=Ee-S),i.setItemLayout(pe,{angle:de,startAngle:ze,endAngle:Ce,clockwise:I,cx:l,cy:c,r0:d,r:M?rT(ve,T,[d,u]):u}),ee=Ee}}),R<jee&&_)if(R<=.001){var re=N/_;i.each(o,function(ve,pe){if(!isNaN(ve)){var de=i.getItemLayout(pe);de.angle=re;var Ee=0,ze=0;re<p?ze=Ee=h+E*(pe+.5)*re:(Ee=h+E*pe*re+S,ze=h+E*(pe+1)*re-S),de.startAngle=Ee,de.endAngle=ze}})}else w=R/q,ee=h,i.each(o,function(ve,pe){if(!isNaN(ve)){var de=i.getItemLayout(pe),Ee=de.angle===v?v:ve*w,ze=0,Ce=0;Ee<p?Ce=ze=ee+E*Ee/2:(ze=ee+S,Ce=ee+E*Ee-S),de.startAngle=ze,de.endAngle=Ce,ee+=E*Ee}})})}var qee=In(),rUe=Math.PI/180;function Wee(n,e,t,r,i,o,a,s,l,c){if(!(n.length<2)){for(var h=n.length,f=0;f<h;f++)"outer"===n[f].position&&"labelLine"===n[f].labelAlignTo&&(n[f].linePoints[1][0]+=n[f].label.x-c,n[f].label.x=c);Uee(n,l,l+a)&&function d(g){for(var v={list:[],maxY:0},_={list:[],maxY:0},y=0;y<g.length;y++)if("none"===g[y].labelAlignTo){var w=g[y],I=w.label.y>t?_:v,M=Math.abs(w.label.y-t);if(M>=I.maxY){var P=w.label.x-e-w.len2*i,T=r+w.len,E=Math.abs(P)<T?Math.sqrt(M*M/(1-P*P/T/T)):T;I.rB=E,I.maxY=M}I.list.push(w)}u(v),u(_)}(n)}function u(g){for(var v=g.rB,_=v*v,y=0;y<g.list.length;y++){var w=g.list[y],I=Math.abs(w.label.y-t),M=r+w.len,T=Math.sqrt(Math.abs(M*M*(1-I*I/_))),E=e+(T+w.len2)*i;Yee(w,w.targetTextWidth-(E-w.label.x)*i,!0),w.label.x=E}}}function Yee(n,e,t){if(void 0===t&&(t=!1),null==n.labelStyleWidth){var r=n.label,i=r.style,o=n.rect,a=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,c=i.overflow,u=o.width+(a?0:l);if(e<u||t){var d=o.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var h=r.getBoundingRect();r.setStyle("width",Math.ceil(h.width)),r.setStyle("backgroundColor",a)}else{var f=e-l;r.setStyle("width",e<u?f:t?f>n.unconstrainedWidth?null:f:null)}var g=r.getBoundingRect();o.width=g.width,o.height=g.height+((r.style.margin||0)+2.1),o.y-=(o.height-d)/2}}}function kF(n){return"center"===n.position}function AI(n,e,t){var r=n.get("borderRadius");if(null==r)return t?{cornerRadius:0}:null;me(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Fe(r,function(o){return uc(o,i)})}}var aUe=function(n){function e(t,r,i){var o=n.call(this)||this;o.z2=2;var a=new Mr;return o.setTextContent(a),o.updateData(t,r,i,!0),o}return Lt(e,n),e.prototype.updateData=function(t,r,i,o){var a=this,s=t.hostModel,l=t.getItemModel(r),c=l.getModel("emphasis"),u=t.getItemLayout(r),d=oe(AI(l.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle))a.setShape(d);else{if(o){a.setShape(d);var h=s.getShallow("animationType");s.ecModel.ssr?(pc(a,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),a.originX=d.cx,a.originY=d.cy):"scale"===h?(a.shape.r=u.r0,pc(a,{shape:{r:u.r}},s,r)):null!=i?(a.setShape({startAngle:i,endAngle:i}),pc(a,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,r)):(a.shape.endAngle=u.startAngle,us(a,{shape:{endAngle:u.endAngle}},s,r))}else(function BOe(n){bX(n).oldStyle=n.style})(a),us(a,{shape:d},s,r);a.useStyle(t.getItemVisual(r,"style")),function NOe(n,e,t,r){t=t||"itemStyle";for(var i=0;i<vX.length;i++){var o=vX[i],a=e.getModel([o,t]);n.ensureState(o).style=r?r(a):a[OOe[t]]()}}(a,l);var f=(u.startAngle+u.endAngle)/2,p=s.get("selectedOffset"),g=Math.cos(f)*p,v=Math.sin(f)*p,_=l.getShallow("cursor");_&&a.attr("cursor",_),this._updateLabel(s,t,r),a.ensureState("emphasis").shape=oe({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},AI(c.getModel("itemStyle"),u)),oe(a.ensureState("select"),{x:g,y:v,shape:AI(l.getModel(["select","itemStyle"]),u)}),oe(a.ensureState("blur"),{shape:AI(l.getModel(["blur","itemStyle"]),u)});var y=a.getTextGuideLine(),w=a.getTextContent();y&&oe(y.ensureState("select"),{x:g,y:v}),oe(w.ensureState("select"),{x:g,y:v}),function POe(n,e,t,r){r?function ROe(n){_X(n,!1)}(n):gT(n,e,t)}(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},e.prototype._updateLabel=function(t,r,i){var o=this,a=r.getItemModel(i),s=a.getModel("labelLine"),l=r.getItemVisual(i,"style"),c=l&&l.fill,u=l&&l.opacity;IX(o,function UOe(n,e){for(var t={normal:n.getModel(e=e||"label")},r=0;r<cs.length;r++){var i=cs[r];t[i]=n.getModel([i,e])}return t}(a),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var d=o.getTextContent();o.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=t.get(["label","position"]);if("outside"!==h&&"outer"!==h)o.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new j_,this.setTextGuideLine(f)),Fee(this,Lee(a),{stroke:c,opacity:ep(s.get(["lineStyle","opacity"]),u,1)})}},e}(H_),sUe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return Lt(e,n),e.prototype.render=function(t,r,i,o){var c,a=t.getData(),s=this._data,l=this.group;if(!s&&a.count()>0){for(var u=a.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<a.count();++d)u=a.getItemLayout(d);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===a.count()&&t.get("showEmptyCircle")){var h=qee(t),f=new H_({shape:oe(Gee(t,i),h)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}a.diff(s).add(function(p){var g=new aUe(a,p,c);a.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var v=s.getItemGraphicEl(g);v.updateData(a,p,c),v.off("click"),l.add(v),a.setItemGraphicEl(p,v)}).remove(function(p){EX(s.getItemGraphicEl(p),t,p)}).execute(),function oUe(n){var r,i,e=n.getData(),t=[],o=!1,a=(n.get("minShowLabelAngle")||0)*rUe,s=e.getLayout("viewRect"),l=e.getLayout("r"),c=s.width,u=s.x,d=s.y,h=s.height;function f(P){P.ignore=!0}e.each(function(P){var T=e.getItemGraphicEl(P),E=T.shape,D=T.getTextContent(),S=T.getTextGuideLine(),x=e.getItemModel(P),N=x.getModel("label"),R=N.get("position")||x.get(["emphasis","label","position"]),q=N.get("distanceToLabelLine"),ee=N.get("alignTo"),re=nn(N.get("edgeDistance"),c),ve=N.get("bleedMargin"),pe=x.getModel("labelLine"),de=pe.get("length");de=nn(de,c);var Ee=pe.get("length2");if(Ee=nn(Ee,c),Math.abs(E.endAngle-E.startAngle)<a)return L(D.states,f),D.ignore=!0,void(S&&(L(S.states,f),S.ignore=!0));if(function p(P){if(!P.ignore)return!0;for(var T in P.states)if(!1===P.states[T].ignore)return!0;return!1}(D)){var ir,mr,ta,Tr,ze=(E.startAngle+E.endAngle)/2,Ce=Math.cos(ze),Qe=Math.sin(ze);r=E.cx,i=E.cy;var Ri="inside"===R||"inner"===R;if("center"===R)ir=E.cx,mr=E.cy,Tr="center";else{var gr=(Ri?(E.r+E.r0)/2*Ce:E.r*Ce)+r,an=(Ri?(E.r+E.r0)/2*Qe:E.r*Qe)+i;if(ir=gr+3*Ce,mr=an+3*Qe,!Ri){var Le=gr+Ce*(de+l-E.r),Ze=an+Qe*(de+l-E.r),to=Le+(Ce<0?-1:1)*Ee;ir="edge"===ee?Ce<0?u+re:u+c-re:to+(Ce<0?-q:q),mr=Ze,ta=[[gr,an],[Le,Ze],[to,Ze]]}Tr=Ri?"center":"edge"===ee?Ce>0?"right":"left":Ce>0?"left":"right"}var na=Math.PI,ra=0,ru=N.get("rotate");if($t(ru))ra=ru*(na/180);else if("center"===R)ra=0;else if("radial"===ru||!0===ru)ra=Ce<0?-ze+na:-ze;else if("tangential"===ru&&"outside"!==R&&"outer"!==R){var Sl=Math.atan2(Ce,Qe);Sl<0&&(Sl=2*na+Sl),Qe>0&&(Sl=na+Sl),ra=Sl-na}if(o=!!ra,D.x=ir,D.y=mr,D.rotation=ra,D.setStyle({verticalAlign:"middle"}),Ri){D.setStyle({align:Tr});var Zb=D.states.select;Zb&&(Zb.x+=D.x,Zb.y+=D.y)}else{var xl=D.getBoundingRect().clone();xl.applyTransform(D.getComputedTransform());var Qb=(D.style.margin||0)+2.1;xl.y-=Qb/2,xl.height+=Qb,t.push({label:D,labelLine:S,position:R,len:de,len2:Ee,minTurnAngle:pe.get("minTurnAngle"),maxSurfaceAngle:pe.get("maxSurfaceAngle"),surfaceNormal:new $e(Ce,Qe),linePoints:ta,textAlign:Tr,labelDistance:q,labelAlignTo:ee,edgeDistance:re,bleedMargin:ve,rect:xl,unconstrainedWidth:xl.width,labelStyleWidth:D.style.width})}T.setTextConfig({inside:Ri})}}),!o&&n.get("avoidLabelOverlap")&&function iUe(n,e,t,r,i,o,a,s){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<n.length;h++){var f=n[h].label;kF(n[h])||(f.x<e?(u=Math.min(u,f.x),l.push(n[h])):(d=Math.max(d,f.x),c.push(n[h])))}for(h=0;h<n.length;h++)if(!kF(p=n[h])&&p.linePoints){if(null!=p.labelStyleWidth)continue;f=p.label;var v,g=p.linePoints;p.targetTextWidth=v="edge"===p.labelAlignTo?f.x<e?g[2][0]-p.labelDistance-a-p.edgeDistance:a+i-p.edgeDistance-g[2][0]-p.labelDistance:"labelLine"===p.labelAlignTo?f.x<e?u-a-p.bleedMargin:a+i-d-p.bleedMargin:f.x<e?f.x-a-p.bleedMargin:a+i-f.x-p.bleedMargin,Yee(p,v)}for(Wee(c,e,t,r,1,0,o,0,s,d),Wee(l,e,t,r,-1,0,o,0,s,u),h=0;h<n.length;h++){var p;if(!kF(p=n[h])&&p.linePoints){var y=(f=p.label).style.padding,M=p.rect.width+(f.style.backgroundColor?0:y?y[1]+y[3]:0),P=(g=p.linePoints)[1][0]-g[2][0];"edge"===p.labelAlignTo?g[2][0]=f.x<e?a+p.edgeDistance+M+p.labelDistance:a+i-p.edgeDistance-M-p.labelDistance:(g[2][0]=f.x<e?f.x+p.labelDistance:f.x-p.labelDistance,g[1][0]=g[2][0]+P),g[1][1]=g[2][1]=f.y}}}(t,r,i,l,c,h,u,d);for(var g=0;g<t.length;g++){var v=t[g],_=v.label,y=v.labelLine,w=isNaN(_.x)||isNaN(_.y);if(_){_.setStyle({align:v.textAlign}),w&&(L(_.states,f),_.ignore=!0);var I=_.states.select;I&&(I.x+=_.x,I.y+=_.y)}if(y){var M=v.linePoints;w||!M?(L(y.states,f),y.ignore=!0):(Nee(M,v.minTurnAngle),qBe(M,v.surfaceNormal,v.maxSurfaceAngle),y.setShape({points:M}),_.__hostTarget.textGuideLineConfig={anchor:new $e(M[0][0],M[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=a)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var o=r.getData().getItemLayout(0);if(o){var a=t[0]-o.cx,s=t[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="pie",e}(il);const lUe=sUe;var uUe=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}();const dUe=uUe;var hUe=In(),fUe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Lt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new dUe(jt(this.getData,this),jt(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return function cUe(n,e,t){e=me(e)&&{coordDimensions:e}||oe({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=wF(r,e).dimensions,o=new bF(i,n);return o.initData(r,t),o}(this,{coordDimensions:["value"],encodeDefaulter:Nn(bNe,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=hUe(r),o=i.seats;if(!o){var a=[];r.each(r.mapDimension("value"),function(l){a.push(l)}),o=i.seats=hK(a,r.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,t);return s.percent=o[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){fO(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(gc);const pUe=fUe;function Kee(n){n.registerChartView(lUe),n.registerSeriesModel(pUe),function eVe(n,e){function t(r,i){var o=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(a){o.push(a.seriesIndex)}),o}L([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,o,a){i=oe({},i),a.dispatchAction(oe(i,{type:r[1],seriesIndex:t(o,i)}))})})}("pie",n.registerAction),n.registerLayout(Nn(tUe,"pie")),n.registerProcessor(function nUe(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(r&&r.length){var i=e.getData();i.filterSelf(function(o){for(var a=i.getName(o),s=0;s<r.length;s++)if(!r[s].isSelected(a))return!1;return!0})}}}}("pie")),n.registerProcessor(function mUe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var o=r.mapDimension("value"),a=r.get(o,i);return!($t(a)&&!isNaN(a)&&a<0)})}}}("pie"))}var gUe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return Lt(e,n),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(un),vUe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Lt(e,n),e.prototype.render=function(t,r,i){if(this.group.removeAll(),t.get("show")){var o=this.group,a=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=qe(t.get("textBaseline"),t.get("textVerticalAlign")),u=new Mr({style:el(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),h=t.get("subtext"),f=new Mr({style:el(s,{text:h,fill:s.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),g=t.get("sublink"),v=t.get("triggerEvent",!0);u.silent=!p&&!v,f.silent=!g&&!v,p&&u.on("click",function(){WX(p,"_"+t.get("target"))}),g&&f.on("click",function(){WX(g,"_"+t.get("subtarget"))}),Dt(u).eventData=Dt(f).eventData=v?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(u),h&&o.add(f);var _=o.getBoundingRect(),y=t.getBoxLayoutParams();y.width=_.width,y.height=_.height;var w=Cd(y,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?w.x+=w.width:"center"===l&&(w.x+=w.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?w.y+=w.height:"middle"===c&&(w.y+=w.height/2),c=c||"top"),o.x=w.x,o.y=w.y,o.markRedraw();var I={align:l,verticalAlign:c};u.setStyle(I),f.setStyle(I),_=o.getBoundingRect();var M=w.margin,P=t.getItemStyle(["color","opacity"]);P.fill=t.get("backgroundColor");var T=new wi({shape:{x:_.x-M[3],y:_.y-M[0],width:_.width+M[1]+M[3],height:_.height+M[0]+M[2],r:t.get("borderRadius")},style:P,subPixelOptimize:!0,silent:!0});o.add(T)}},e.type="title",e}(Aa);function Xee(n){n.registerComponentModel(gUe),n.registerComponentView(vUe)}function OF(n,e){return"all"===n||me(n)&&Mt(n,e)>=0||n===e}function NF(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[oy(n)]}function FF(n){return!!n.get(["handle","show"])}function oy(n){return n.type+"||"+n.id}var Qee={},IUe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Lt(e,n),e.prototype.render=function(t,r,i,o){this.axisPointerClass&&function EUe(n){var e=NF(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,o=t.get("status"),a=t.get("value");null!=a&&(a=r.parse(a));var s=FF(t);null==o&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),i.value=a,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,o){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=function TUe(n){var e=NF(n);return e&&e.axisPointerModel}(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){Qee[t]=r},e.getAxisPointerClass=function(t){return t&&Qee[t]},e.type="axis",e}(Aa);const DUe=IUe;var Nd=In(),Zee=lt,LF=jt,SUe=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var c={};this.makeElOption(c,o,e,t,r);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=Nn(Jee,t,d);this.updatePointerEl(s,c,h),this.updateLabelEl(s,c,h,t)}else s=this._group=new Ia,this.createPointerEl(s,c,e,t),this.createLabelEl(s,c,e,t),r.getZr().add(s);nte(s,t,!0),this._renderHandle(o)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,o="category"===i.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"===r||null==r){var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=NF(e).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===r},n.prototype.makeElOption=function(e,t,r,i,o){},n.prototype.createPointerEl=function(e,t,r,i){var o=t.pointer;if(o){var a=Nd(e).pointerEl=new Ax[o.type](Zee(t.pointer));e.add(a)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var o=Nd(e).labelEl=new Mr(Zee(t.label));e.add(o),tte(o,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=Nd(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var o=Nd(e).labelEl;o&&(o.setStyle(t.label.style),r(o,{x:t.label.x,y:t.label.y}),tte(o,i))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var s,t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=t.getModel("handle"),a=t.get("status");if(!o.get("show")||!a||"hide"===a)return i&&r.remove(i),void(this._handle=null);this._handle||(s=!0,i=this._handle=KT(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){uY(c.event)},onmousedown:LF(this._onHandleDragMove,this,0,0),drift:LF(this._onHandleDragMove,this),ondragend:LF(this._onHandleDragEnd,this)}),r.add(i)),nte(i,t,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");me(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,LZ(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){Jee(this._axisPointerModel,!t&&this._moveAnimation,this._handle,VF(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(VF(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(VF(i)),Nd(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),$N(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return{x:e[r=r||0],y:e[1-r],width:t[r],height:t[1-r]}},n}();function Jee(n,e,t,r){ete(Nd(t).lastProp,r)||(Nd(t).lastProp=r,e?us(t,r,n):(t.stopAnimation(),t.attr(r)))}function ete(n,e){if(Oe(n)&&Oe(e)){var t=!0;return L(e,function(r,i){t=t&&ete(n[i],r)}),!!t}return n===e}function tte(n,e){n[e.get(["label","show"])?"show":"hide"]()}function VF(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function nte(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=r&&(o.z=r),null!=i&&(o.zlevel=i),o.silent=t)})}const xUe=SUe;var bc=Math.PI,Fd=function(){function n(e,t){this.group=new Ia,this.opt=t,this.axisModel=e,tn(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Ia({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!rte[e]},n.prototype.add=function(e){rte[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var o,a,i=uO(t-e);return f_(i)?(a=r>0?"top":"bottom",o="center"):f_(i-bc)?(a=r>0?"bottom":"top",o="center"):(a="middle",o=i>0&&i<bc?r>0?"right":"left":r>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:a}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),rte={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if("auto"===i&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),i){var o=e.axis.getExtent(),a=r.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(go(s,s,a),go(l,l,a));var u=oe({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new Tp({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});BN(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var h=e.get(["axisLine","symbol"]);if(null!=h){var f=e.get(["axisLine","symbolSize"]);we(h)&&(h=[h,h]),(we(f)||$t(f))&&(f=[f,f]);var p=function pVe(n,e){if(null!=n)return me(n)||(n=[n,n]),[nn(n[0],e[0])||0,nn(qe(n[1],n[0]),e[1])||0]}(e.get(["axisLine","symbolOffset"])||0,f),g=f[0],v=f[1];L([{rotate:n.rotation+Math.PI/2,offset:p[0],r:0},{rotate:n.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(_,y){if("none"!==h[y]&&null!=h[y]){var w=tI(h[y],-g/2,-v/2,g,v,u.stroke,!0),I=_.r+_.offset,M=c?l:s;w.attr({rotation:_.rotate,x:M[0]+I*Math.cos(n.rotation),y:M[1]-I*Math.sin(n.rotation),silent:!0,z2:11}),t.add(w)}})}}},axisTickLabel:function(n,e,t,r){var i=function RUe(n,e,t,r){var i=t.axis,o=t.getModel("axisTick"),a=o.get("show");if("auto"===a&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick")),a&&!i.scale.isBlank()){for(var s=o.getModel("lineStyle"),l=r.tickDirection*o.get("length"),u=ate(i.getTicksCoords(),e.transform,l,tn(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}(t,r,e,n),o=function kUe(n,e,t,r){var i=t.axis;if(Jf(r.axisLabelShow,t.get(["axisLabel","show"]))&&!i.scale.isBlank()){var a=t.getModel("axisLabel"),s=a.get("margin"),l=i.getViewLabels(),c=(Jf(r.labelRotate,a.get("rotate"))||0)*bc/180,u=Fd.innerTextLayout(r.rotation,c,r.labelDirection),d=t.getCategories&&t.getCategories(!0),h=[],f=Fd.isLabelSilent(t),p=t.get("triggerEvent");return L(l,function(g,v){var _="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,y=g.formattedLabel,w=g.rawLabel,I=a;if(d&&d[_]){var M=d[_];Oe(M)&&M.textStyle&&(I=new fr(M.textStyle,a,t.ecModel))}var P=I.getTextColor()||t.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(_),E=I.getShallow("align",!0)||u.textAlign,D=qe(I.getShallow("alignMinLabel",!0),E),S=qe(I.getShallow("alignMaxLabel",!0),E),x=I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||u.textVerticalAlign,N=qe(I.getShallow("verticalAlignMinLabel",!0),x),R=qe(I.getShallow("verticalAlignMaxLabel",!0),x),q=new Mr({x:T,y:r.labelOffset+r.labelDirection*s,rotation:u.rotation,silent:f,z2:10+(g.level||0),style:el(I,{text:y,align:0===v?D:v===l.length-1?S:E,verticalAlign:0===v?N:v===l.length-1?R:x,fill:Xe(P)?P("category"===i.type?w:"value"===i.type?_+"":_,v):P})});if(q.anid="label_"+_,XT({el:q,componentModel:t,itemName:y,formatterParamsExtra:{isTruncated:function(){return q.isTruncated},value:w,tickIndex:v}}),p){var ee=Fd.makeAxisEventDataBase(t);ee.targetType="axisLabel",ee.value=w,ee.tickIndex=v,"category"===i.type&&(ee.dataIndex=_),Dt(q).eventData=ee}e.add(q),q.updateTransform(),h.push(q),n.add(q),q.decomposeTransform()}),h}}(t,r,e,n);(function MUe(n,e,t){if(!mee(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]),o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],c=(t=t||[])[0],u=t[1],d=t[t.length-1],h=t[t.length-2];!1===r?(Yo(o),Yo(c)):ite(o,a)&&(r?(Yo(a),Yo(u)):(Yo(o),Yo(c))),!1===i?(Yo(s),Yo(d)):ite(l,s)&&(i?(Yo(l),Yo(h)):(Yo(s),Yo(d)))}})(e,o,i),function PUe(n,e,t,r){var i=t.axis,o=t.getModel("minorTick");if(o.get("show")&&!i.scale.isBlank()){var a=i.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=r*o.get("length"),c=tn(s.getLineStyle(),tn(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var d=ate(a[u],e.transform,l,c,"minorticks_"+u),h=0;h<d.length;h++)n.add(d[h])}}(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&zee(Vee(Fe(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,e,t,r){var i=Jf(n.axisName,e.get("name"));if(i){var h,p,o=e.get("nameLocation"),a=n.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,d=["start"===o?c[0]-u*l:"end"===o?c[1]+u*l:(c[0]+c[1])/2,ote(o)?n.labelOffset+a*l:0],f=e.get("nameRotate");null!=f&&(f=f*bc/180),ote(o)?h=Fd.innerTextLayout(n.rotation,f??n.rotation,a):(h=function AUe(n,e,t,r){var o,a,i=uO(t-n),s=r[0]>r[1],l="start"===e&&!s||"start"!==e&&s;return f_(i-bc/2)?(a=l?"bottom":"top",o="center"):f_(i-1.5*bc)?(a=l?"top":"bottom",o="center"):(a="middle",o=i<1.5*bc&&i>bc/2?l?"left":"right":l?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:a}}(n.rotation,o,f||0,c),null!=(p=n.axisNameAvailableWidth)&&(p=Math.abs(p/Math.sin(h.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),v=e.get("nameTruncate",!0)||{},_=v.ellipsis,y=Jf(n.nameTruncateMaxWidth,v.maxWidth,p),w=new Mr({x:d[0],y:d[1],rotation:h.rotation,silent:Fd.isLabelSilent(e),style:el(s,{text:i,font:g,overflow:"truncate",width:y,ellipsis:_,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(XT({el:w,componentModel:e,itemName:i}),w.__fullText=i,w.anid="name",e.get("triggerEvent")){var I=Fd.makeAxisEventDataBase(e);I.targetType="axisName",I.name=i,Dt(w).eventData=I}r.add(w),w.updateTransform(),t.add(w),w.decomposeTransform()}}};function Yo(n){n&&(n.ignore=!0)}function ite(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(t&&r){var i=Zv([]);return NE(i,i,-n.rotation),t.applyTransform(oc([],i,n.getLocalTransform())),r.applyTransform(oc([],i,e.getLocalTransform())),t.intersect(r)}}function ote(n){return"middle"===n||"center"===n}function ate(n,e,t,r,i){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var c=n[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=t,e&&(go(a,a,e),go(s,s,e));var u=new Tp({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});BN(u.shape,u.style.lineWidth),u.anid=i+"_"+n[l].tickValue,o.push(u)}return o}const OUe=Fd;function ste(n,e,t,r,i){n=e.scale.parse(n);var o=e.scale.getLabel({value:n},{precision:i.precision}),a=i.formatter;if(a){var s={value:DF(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};L(r,function(l){var c=t.getSeriesByIndex(l.seriesIndex),d=c&&c.getDataParams(l.dataIndexInside);d&&s.seriesData.push(d)}),we(a)?o=a.replace("{value}",o):Xe(a)&&(o=a(s))}return o}function lte(n,e,t){var r=[1,0,0,1,0,0];return NE(r,r,t.rotation),OE(r,r,t.position),UN([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function UUe(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function cte(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,l=a?"onZero":s,c=i.dim,u=r.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===c?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[h.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===c?p[h[l]]:d[0],"x"===c?p[h[l]]:d[3]],o.rotation=Math.PI/2*("x"===c?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[h[s]]-p[h.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Jf(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var _=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-_:_,o.z2=1,o}var zUe=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Lt(e,n),e.prototype.makeElOption=function(t,r,i,o,a){var s=i.axis,l=s.grid,c=o.get("type"),u=ute(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(r,!0));if(c&&"none"!==c){var h=function NUe(n){var r,e=n.get("type"),t=n.getModel(e+"Style");return"line"===e?(r=t.getLineStyle()).fill=null:"shadow"===e&&((r=t.getAreaStyle()).stroke=null),r}(o),f=HUe[c](s,d,u);f.style=h,t.graphicKey=f.type,t.pointer=f}!function VUe(n,e,t,r,i,o){var a=OUe.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),function FUe(n,e,t,r,i){var a=ste(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=A_(s.get("padding")||0),c=s.getFont(),u=tO(a,c),d=i.position,h=u.width+l[1]+l[3],f=u.height+l[0]+l[2],p=i.align;"right"===p&&(d[0]-=h),"center"===p&&(d[0]-=h/2);var g=i.verticalAlign;"bottom"===g&&(d[1]-=f),"middle"===g&&(d[1]-=f/2),function LUe(n,e,t,r){var i=r.getWidth(),o=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,o)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}(d,h,f,r);var v=s.get("backgroundColor");(!v||"auto"===v)&&(v=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:el(s,{text:a,font:c,fill:s.getTextColor(),padding:l,backgroundColor:v}),z2:10}}(e,r,i,o,{position:lte(r.axis,n,t),align:a.textAlign,verticalAlign:a.textVerticalAlign})}(r,t,cte(l.model,i),i,o,a)},e.prototype.getHandleTransform=function(t,r,i){var o=cte(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var a=lte(r.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,o){var a=i.axis,s=a.grid,l=a.getGlobalExtent(!0),c=ute(s,a).getOtherAxis(a).getGlobalExtent(),u="x"===a.dim?0:1,d=[t.x,t.y];d[u]+=r[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var h=(c[1]+c[0])/2,f=[h,h];return f[u]=d[u],{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},e}(xUe);function ute(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var HUe={line:function(n,e,t){var r=function BUe(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}([e,t[0]],[e,t[1]],dte(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth());return{type:"Rect",shape:UUe([e-r/2,t[0]],[r,t[1]-t[0]],dte(n))}}};function dte(n){return"x"===n.dim?0:1}const jUe=zUe;var $Ue=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Lt(e,n),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(un);const GUe=$Ue;var sl=In(),qUe=L;function hte(n,e,t){if(!nt.node){var r=e.getZr();sl(r).records||(sl(r).records={}),function WUe(n,e){function t(r,i){n.on(r,function(o){var a=function XUe(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}(e);qUe(sl(n).records,function(s){s&&i(s,o,a.dispatchAction)}),function YUe(n,e){var i,t=n.showTip.length,r=n.hideTip.length;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}(a.pendings,e)})}sl(n).initialized||(sl(n).initialized=!0,t("click",Nn(fte,"click")),t("mousemove",Nn(fte,"mousemove")),t("globalout",KUe))}(r,e),(sl(r).records[n]||(sl(r).records[n]={})).handler=t}}function KUe(n,e,t){n.handler("leave",null,t)}function fte(n,e,t,r){e.handler(n,t,r)}function BF(n,e){if(!nt.node){var t=e.getZr();(sl(t).records||{})[n]&&(sl(t).records[n]=null)}}var QUe=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Lt(e,n),e.prototype.render=function(t,r,i){var o=r.getComponent("tooltip"),a=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";hte("axisPointer",i,function(s,l,c){"none"!==a&&("leave"===s||a.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){BF("axisPointer",r)},e.prototype.dispose=function(t,r){BF("axisPointer",r)},e.type="axisPointer",e}(Aa);const ZUe=QUe;function pte(n,e){var i,t=[],r=n.seriesIndex;if(null==r||!(i=e.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),a=v_(o,n);if(null==a||a<0||me(a))return{point:[]};var s=o.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),d=l.getOtherAxis(c).dim,f="x"===d||"radius"===d?1:0,p=o.mapDimension(c.dim),g=[];g[f]=o.get(p,a),g[1-f]=o.get(o.getCalculationInfo("stackResultDimension"),a),t=l.dataToPoint(g)||[]}else t=l.dataToPoint(o.getValues(Fe(l.dimensions,function(_){return o.mapDimension(_)}),a))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),t=[v.x+v.width/2,v.y+v.height/2]}return{point:t,el:s}}var mte=In();function JUe(n,e,t){var r=n.currTrigger,i=[n.x,n.y],o=n,a=n.dispatchAction||jt(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){MI(i)&&(i=pte({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=MI(i),c=o.axesInfo,u=s.axesInfo,d="leave"===r||MI(i),h={},f={},p={list:[],map:{}},g={showPointer:Nn(tze,f),showTooltip:Nn(nze,p)};L(s.coordSysMap,function(_,y){var w=l||_.containPoint(i);L(s.coordSysAxesInfo[y],function(I,M){var P=I.axis,T=function aze(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}(c,I);if(!d&&w&&(!c||T)){var E=T&&T.value;null==E&&!l&&(E=P.pointToData(i)),null!=E&&gte(I,E,g,!1,h)}})});var v={};return L(u,function(_,y){var w=_.linkGroup;w&&!f[y]&&L(w.axesInfo,function(I,M){var P=f[M];if(I!==_&&P){var T=P.value;w.mapper&&(T=_.axis.scale.parse(w.mapper(T,vte(I),vte(_)))),v[_.key]=T}})}),L(v,function(_,y){gte(u[y],_,g,!0,h)}),function rze(n,e,t){var r=t.axesInfo=[];L(e,function(i,o){var a=i.axisPointerModel.option,s=n[o];s?(!i.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(a.status="hide"),"show"===a.status&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:a.value})})}(f,u,h),function ize(n,e,t,r){if(!MI(e)&&n.list.length){var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}else r({type:"hideTip"})}(p,i,n,a),function oze(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",o=mte(r)[i]||{},a=mte(r)[i]={};L(n,function(c,u){var d=c.axisPointerModel.option;"show"===d.status&&c.triggerEmphasis&&L(d.seriesDataIndices,function(h){a[h.seriesIndex+" | "+h.dataIndex]=h})});var s=[],l=[];L(o,function(c,u){!a[u]&&l.push(c)}),L(a,function(c,u){!o[u]&&s.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,t),h}}function gte(n,e,t,r,i){var o=n.axis;if(!o.scale.isBlank()&&o.containData(e)){if(!n.involveSeries)return void t.showPointer(n,e);var a=function eze(n,e){var t=e.axis,r=t.dim,i=n,o=[],a=Number.MAX_VALUE,s=-1;return L(e.seriesModels,function(l,c){var d,h,u=l.getData().mapDimensionsAll(r);if(l.getAxisTooltipData){var f=l.getAxisTooltipData(u,n,t);h=f.dataIndices,d=f.nestestValue}else{if(!(h=l.getData().indicesOfNearest(u[0],n,"category"===t.type?.5:null)).length)return;d=l.getData().get(u[0],h[0])}if(null!=d&&isFinite(d)){var p=n-d,g=Math.abs(p);g<=a&&((g<a||p>=0&&s<0)&&(a=g,s=p,i=d,o.length=0),L(h,function(v){o.push({seriesIndex:l.seriesIndex,dataIndexInside:v,dataIndex:l.getData().getRawIndex(v)})}))}}),{payloadBatch:o,snapToValue:i}}(e,n),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==i.seriesIndex&&oe(i,s[0]),!r&&n.snap&&o.containData(l)&&null!=l&&(e=l),t.showPointer(n,e,s),t.showTooltip(n,a,l)}}function tze(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function nze(n,e,t,r){var i=t.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&i.length){var l=e.coordSys.model,c=oy(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function vte(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function MI(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function sze(n){DUe.registerAxisPointerClass("CartesianAxisPointer",jUe),n.registerComponentModel(GUe),n.registerComponentView(ZUe),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!me(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function _Ue(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function yUe(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];L(t.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var l=oy(s.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var d=s.model.getModel("tooltip",r);if(L(s.getAxes(),Nn(g,!1,null)),s.getTooltipAxes&&r&&d.get("show")){var h="axis"===d.get("trigger"),f="cross"===d.get(["axisPointer","type"]),p=s.getTooltipAxes(d.get(["axisPointer","axis"]));(h||f)&&L(p.baseAxes,Nn(g,!f||"cross",h)),f&&L(p.otherAxes,Nn(g,"cross",!1))}}function g(v,_,y){var w=y.model.getModel("axisPointer",i),I=w.get("show");if(I&&("auto"!==I||v||FF(w))){null==_&&(_=w.get("triggerTooltip")),w=v?function bUe(n,e,t,r,i,o){var a=e.getModel("axisPointer"),l={};L(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(h){l[h]=lt(a.get(h))}),l.snap="category"!==n.type&&!!o,"cross"===a.get("type")&&(l.type="line");var c=l.label||(l.label={});if(null==c.show&&(c.show=!1),"cross"===i){var u=a.get(["label","show"]);if(c.show=u??!0,!o){var d=l.lineStyle=a.get("crossStyle");d&&tn(c,d.textStyle)}}return n.model.getModel("axisPointer",new fr(l,t,r))}(y,d,i,e,v,_):w;var M=w.get("snap"),P=w.get("triggerEmphasis"),T=oy(y.model),E=_||M||"category"===y.type,D=n.axesInfo[T]={key:T,axis:y,coordSys:s,axisPointerModel:w,triggerTooltip:_,triggerEmphasis:P,involveSeries:E,snap:M,useHandle:FF(w),seriesModels:[],linkGroup:null};c[T]=D,n.seriesInvolved=n.seriesInvolved||E;var S=function CUe(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var o=n[i]||{};if(OF(o[r+"AxisId"],t.id)||OF(o[r+"AxisIndex"],t.componentIndex)||OF(o[r+"AxisName"],t.name))return i}}(o,y);if(null!=S){var x=a[S]||(a[S]={axesInfo:{}});x.axesInfo[T]=D,x.mapper=o[S].mapper,D.linkGroup=x}}}})}(t,n,e),t.seriesInvolved&&function wUe(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),o=t.get(["tooltip","show"],!0);!r||"none"===i||!1===i||"item"===i||!1===o||!1===t.get(["axisPointer","show"],!0)||L(n.coordSysAxesInfo[oy(r.model)],function(a){var s=a.axis;r.getAxis(s.dim)===s&&(a.seriesModels.push(t),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=t.getData().count())})})}(t,n),t}(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},JUe)}var lze=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Lt(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(un);const cze=lze;function _te(n){var e=n.get("confine");return null!=e?!!e:"richText"===n.get("renderMode")}function yte(n){if(nt.domSupported)for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}var bte=yte(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function wte(n,e){if(!n)return e;e=rN(e,!0);var t=n.indexOf(e);return(n=-1===t?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var hze=wte(yte(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),UF=wte(bte,"transform"),fze="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(nt.transform3dSupported?"will-change:transform;":"");function Cte(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!nt.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=nt.transform3dSupported,a="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return t?"top:0;left:0;"+UF+":"+a+";":[["top",0],["left",0],[bte,a]]}function Ete(n,e,t,r,i){var o=e&&e.painter;if(t){var a=o&&o.getViewportRoot();a&&function CRe(n,e,t,r,i){Ck(wk,e,r,i,!0)&&Ck(n,t,wk[0],wk[1])}(n,a,t,r,i)}else{n[0]=r,n[1]=i;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var yze=function(){function n(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,nt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),o=t.appendTo,a=o&&(we(o)?document.querySelector(o):Zf(o)?o:Xe(o)&&o(e.getDom()));Ete(this._styleCoord,i,a,e.getWidth()/2,e.getHeight()/2),(a||e.getDom()).appendChild(r),this._api=e,this._container=a;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=i.handler;Vo(i.painter.getViewportRoot(),l,!0),c.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=function dze(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}(t,"position"),i=t.style;"absolute"!==i.position&&"absolute"!==r&&(i.position="relative")}var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,o=this._styleCoord;r.innerHTML?i.cssText=fze+function _ze(n,e,t){var r=[],i=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=qQ(n,"html");return r.push("box-shadow:"+l+"px "+c+"px "+a+"px "+s),e&&i&&r.push(function gze(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=nt.transformSupported?","+UF+r:",left"+r+",top"+r),hze+":"+i}(i,t)),o&&r.push("background-color:"+o),L(["width","color","radius"],function(f){var p="border-"+f,g=rN(p),v=n.get(g);null!=v&&r.push(p+":"+v+("color"===f?"":"px"))}),r.push(function vze(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont());var i=qe(n.get("lineHeight"),Math.round(3*t/2));t&&e.push("line-height:"+i+"px");var o=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return o&&a&&e.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),L(["decoration","align"],function(c){var u=n.get(c);u&&e.push("text-"+c+":"+u)}),e.join(";")}(u)),null!=d&&r.push("padding:"+A_(d).join("px ")+"px"),r.join(";")+";"}(e,!this._firstShow,this._longHide)+Cte(o[0],o[1],!0)+"border-color:"+M_(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,o){var a=this.el;if(null!=e){var s="";if(we(o)&&"item"===r.get("trigger")&&!_te(r)&&(s=function mze(n,e,t){if(!we(t)||"inside"===t)return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=M_(e);var c,o=function pze(n){return"left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"}(t),a=Math.max(1.5*Math.round(i),6),s="",l=UF+":";Mt(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c="left"===o?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c="top"===o?225:45)+"deg)");var u=c*Math.PI/180,d=a+i,h=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),p=e+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",(s+=";"+o+":-"+Math.round(100*((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-d)/2))/100+"px")+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"].join("")+'"></div>'}(r,i,o)),we(e))a.innerHTML=e+s;else if(e){a.innerHTML="",me(e)||(e=[e]);for(var l=0;l<e.length;l++)Zf(e[l])&&e[l].parentNode!==a&&a.appendChild(e[l]);if(s&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=s,a.appendChild(c)}}}else a.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},n.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if(Ete(r,this._zr,this._container,e,t),null!=r[0]&&null!=r[1]){var i=this.el.style;L(Cte(r[0],r[1]),function(a){i[a[0]]=a[1]})}}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",nt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(jt(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},n}();const bze=yze;var wze=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Ite(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,o){var a=this;Oe(e)&&Ei(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new Mr({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:qQ(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),L(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=r.get(c)}),L(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Tte(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;Ite(i,this._zr,e,t),e=i[0],t=i[1];var o=r.style,a=wc(o.borderWidth||0),s=Tte(o);r.x=e+a+s.left,r.y=t+a+s.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(jt(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function wc(n){return Math.max(0,n)}function Tte(n){var e=wc(n.shadowBlur||0),t=wc(n.shadowOffsetX||0),r=wc(n.shadowOffsetY||0);return{left:wc(e-t),right:wc(e+t),top:wc(e-r),bottom:wc(e+r)}}function Ite(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const Cze=wze;var Eze=new wi({shape:{x:-1,y:-1,width:2,height:2}}),Tze=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Lt(e,n),e.prototype.init=function(t,r){if(!nt.node&&r.getDom()){var i=t.getComponent("tooltip"),o=this._renderMode=function fke(n){return"auto"===n?nt.domSupported?"html":"richText":n||"html"}(i.get("renderMode"));this._tooltipContent="richText"===o?new Cze(r):new bze(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,r,i){if(!nt.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?LZ(this,"_updatePosition",50,"fixRate"):$N(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel.get("triggerOn");hte("itemTooltip",this._api,jt(function(i,o,a){"none"!==r&&(r.indexOf(i)>=0?this._tryShow(o,a):"leave"===i&&this._hide(a))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,o=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(t,r,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,o){if(o.from!==this.uid&&!nt.node&&i.getDom()){var a=Dte(o,i);this._ticket="";var s=o.dataByCoordSys,l=function xze(n,e,t){var r=gO(n).queryOptionMap,i=r.keys()[0];if(i&&"series"!==i){var l,a=__(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(a&&(t.getViewOfComponentModel(a).group.traverse(function(c){var u=Dt(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l))return{componentMainType:i,componentIndex:a.componentIndex,el:l}}}(o,r,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var u=Eze;u.x=o.x,u.y=o.y,u.update(),Dt(u).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:u},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,r,i,o))return;var d=pte(o,r),h=d.point[0],f=d.point[1];null!=h&&null!=f&&this._tryShow({offsetX:h,offsetY:f,target:d.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(t,r,i,o){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(Dte(o,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,o){var a=o.seriesIndex,s=o.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=s&&null!=l){var c=r.getSeriesByIndex(a);if(c&&"axis"===ay([c.getData().getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},e.prototype._tryShow=function(t,r){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,t);else if(i){var l,c;if("legend"===Dt(i).ssrType)return;this._lastDataByCoordSys=null,q_(i,function(u){return null!=Dt(u).dataIndex?(l=u,!0):null!=Dt(u).tooltipConfig?(c=u,!0):void 0},!0),l?this._showSeriesItemTooltip(t,l,r):c?this._showComponentItemTooltip(t,c,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=jt(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,o=this._tooltipModel,a=[r.offsetX,r.offsetY],s=ay([r.tooltipOption],o),l=this._renderMode,c=[],u=V_("section",{blocks:[],noHeader:!0}),d=[],h=new DN;L(t,function(y){L(y.dataByAxis,function(w){var I=i.getComponent(w.axisDim+"Axis",w.axisIndex),M=w.value;if(I&&null!=M){var P=ste(M,I.axis,i,w.seriesDataIndices,w.valueLabelOpt),T=V_("section",{header:P,noHeader:!Ca(P),sortBlocks:!0,blocks:[]});u.blocks.push(T),L(w.seriesDataIndices,function(E){var D=i.getSeriesByIndex(E.seriesIndex),S=E.dataIndexInside,x=D.getDataParams(S);if(!(x.dataIndex<0)){x.axisDim=w.axisDim,x.axisIndex=w.axisIndex,x.axisType=w.axisType,x.axisId=w.axisId,x.axisValue=DF(I.axis,{value:M}),x.axisValueLabel=P,x.marker=h.makeTooltipMarker("item",M_(x.color),l);var N=MQ(D.formatTooltip(S,!0,null)),R=N.frag;if(R){var q=ay([D],o).get("valueFormatter");T.blocks.push(q?oe({valueFormatter:q},R):R)}N.text&&d.push(N.text),c.push(x)}})}})}),u.blocks.reverse(),d.reverse();var f=r.position,p=s.get("order"),g=$Q(u,h,l,p,i.get("useUTC"),s.get("textStyle"));g&&d.unshift(g);var _=d.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(s,f,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(s,_,c,Math.random()+"",a[0],a[1],f,null,h)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var o=this._ecModel,a=Dt(r),s=a.seriesIndex,l=o.getSeriesByIndex(s),c=a.dataModel||l,u=a.dataIndex,d=a.dataType,h=c.getData(d),f=this._renderMode,p=t.positionDefault,g=ay([h.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),v=g.get("trigger");if(null==v||"item"===v){var _=c.getDataParams(u,d),y=new DN;_.marker=y.makeTooltipMarker("item",M_(_.color),f);var w=MQ(c.formatTooltip(u,!1,d)),I=g.get("order"),M=g.get("valueFormatter"),P=w.frag,T=P?$Q(M?oe({valueFormatter:M},P):P,y,f,I,o.get("useUTC"),g.get("textStyle")):w.text,E="item_"+c.name+"_"+u;this._showOrMove(g,function(){this._showTooltipContent(g,T,_,E,t.offsetX,t.offsetY,t.position,t.target,y)}),i({type:"showTip",dataIndexInside:u,dataIndex:h.getRawIndex(u),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var o="html"===this._renderMode,a=Dt(r),l=a.tooltipConfig.option||{},c=l.encodeHTMLContent;we(l)&&(l={content:l,formatter:l},c=!0),c&&o&&l.content&&((l=lt(l)).content=yi(l.content));var d=[l],h=this._ecModel.getComponent(a.componentMainType,a.componentIndex);h&&d.push(h),d.push({formatter:l.content});var f=t.positionDefault,p=ay(d,this._tooltipModel,f?{position:f}:null),g=p.get("content"),v=Math.random()+"",_=new DN;this._showOrMove(p,function(){var y=lt(p.get("formatterParams")||{});this._showTooltipContent(p,g,y,v,t.offsetX,t.offsetY,t.position,r,_)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,o,a,s,l,c,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var f=r,g=this._getNearestPoint([a,s],i,t.get("trigger"),t.get("borderColor")).color;if(h)if(we(h)){var v=t.ecModel.get("useUTC"),_=me(i)?i[0]:i;f=h,_&&_.axisType&&_.axisType.indexOf("time")>=0&&(f=S_(_.axisValue,f,v)),f=aN(f,i,!0)}else if(Xe(h)){var w=jt(function(I,M){I===this._ticket&&(d.setContent(M,u,t,g,l),this._updatePosition(t,l,a,s,d,i,c))},this);this._ticket=o,f=h(i,o,w)}else f=h;d.setContent(f,u,t,g,l),d.show(t,g),this._updatePosition(t,l,a,s,d,i,c)}},e.prototype._getNearestPoint=function(t,r,i,o){return"axis"===i||me(r)?{color:o||("html"===this._renderMode?"#fff":"none")}:me(r)?void 0:{color:o||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,o,a,s,l){var c=this._api.getWidth(),u=this._api.getHeight();r=r||t.get("position");var d=a.getSize(),h=t.get("align"),f=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Xe(r)&&(r=r([i,o],s,a.el,p,{viewSize:[c,u],contentSize:d.slice()})),me(r))i=nn(r[0],c),o=nn(r[1],u);else if(Oe(r)){var g=r;g.width=d[0],g.height=d[1];var v=Cd(g,{width:c,height:u});i=v.x,o=v.y,h=null,f=null}else if(we(r)&&l){var _=function Sze(n,e,t,r){var i=t[0],o=t[1],a=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,c=e.width,u=e.height;switch(n){case"inside":s=e.x+c/2-i/2,l=e.y+u/2-o/2;break;case"top":s=e.x+c/2-i/2,l=e.y-o-a;break;case"bottom":s=e.x+c/2-i/2,l=e.y+u+a;break;case"left":s=e.x-i-a,l=e.y+u/2-o/2;break;case"right":s=e.x+c+a,l=e.y+u/2-o/2}return[s,l]}(r,p,d,t.get("borderWidth"));i=_[0],o=_[1]}else _=function Ize(n,e,t,r,i,o,a){var s=t.getSize(),l=s[0],c=s[1];return null!=o&&(n+l+o+2>r?n-=l+o:n+=o),null!=a&&(e+c+a>i?e-=c+a:e+=a),[n,e]}(i,o,a,c,u,h?null:20,f?null:20),i=_[0],o=_[1];h&&(i-=Ste(h)?d[0]/2:"right"===h?d[0]:0),f&&(o-=Ste(f)?d[1]/2:"bottom"===f?d[1]:0),_te(t)&&(_=function Dze(n,e,t,r,i){var o=t.getSize(),a=o[0],s=o[1];return n=Math.min(n+a,r)-a,e=Math.min(e+s,i)-s,[n=Math.max(n,0),e=Math.max(e,0)]}(i,o,a,c,u),i=_[0],o=_[1]),a.moveTo(i,o)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,o=this._cbParamsList,a=!!i&&i.length===t.length;return a&&L(i,function(s,l){var c=s.dataByAxis||[],d=(t[l]||{}).dataByAxis||[];(a=a&&c.length===d.length)&&L(c,function(h,f){var p=d[f]||{},g=h.seriesDataIndices||[],v=p.seriesDataIndices||[];(a=a&&h.value===p.value&&h.axisType===p.axisType&&h.axisId===p.axisId&&g.length===v.length)&&L(g,function(_,y){var w=v[y];a=a&&_.seriesIndex===w.seriesIndex&&_.dataIndex===w.dataIndex}),o&&L(h.seriesDataIndices,function(_){var y=_.seriesIndex,w=r[y],I=o[y];w&&I&&I.data!==w.data&&(a=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!a},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){nt.node||!r.getDom()||($N(this,"_updatePosition"),this._tooltipContent.dispose(),BF("itemTooltip",r))},e.type="tooltip",e}(Aa);function ay(n,e,t){var i,r=e.ecModel;t?(i=new fr(t,r,r),i=new fr(e.option,i,r)):i=e;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof fr&&(a=a.get("tooltip",!0)),we(a)&&(a={formatter:a}),a&&(i=new fr(a,i,r)))}return i}function Dte(n,e){return n.dispatchAction||jt(e.dispatchAction,e)}function Ste(n){return"center"===n||"middle"===n}const Aze=Tze;function xte(n){ol(sze),n.registerComponentModel(cze),n.registerComponentView(Aze),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},_i),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},_i)}var Rze=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return Lt(e,n),e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;!0===r&&(r=t.selector=["all","inverse"]),me(r)&&L(r,function(o,a){we(o)&&(o={type:o}),r[a]=en(o,function(n,e){return"all"===e?{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var r=!1,i=0;i<t.length;i++){var o=t[i].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var u;if(i.push(l.name),l.legendVisualProvider){var h=l.legendVisualProvider.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(h)),h.length?r=r.concat(h):u=!0}else u=!0;u&&pO(l)&&r.push(l.name)}),this._availableNames=i;var o=this.get("data")||r,a=rt(),s=Fe(o,function(l){return(we(l)||$t(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new fr(l,this,this.ecModel))},this);this._data=On(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected;"single"===this.get("selectedMode")&&L(this._data,function(a){r[a.get("name")]=!1}),r[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var r=this.option.selected;L(this._data,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this.option.selected;L(this._data,function(i){var o=i.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&Mt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(un);const zF=Rze;var Ap=Nn,HF=L,RI=Ia,kze=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return Lt(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new RI),this.group.add(this._selectorGroup=new RI),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var a=t.get("align"),s=t.get("orient");(!a||"auto"===a)&&(a="right"===t.get("left")&&"vertical"===s?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||"auto"===c)&&(c="horizontal"===s?"end":"start"),this.renderInner(a,t,r,i,l,s,c);var u=t.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},h=t.get("padding"),f=Cd(u,d,h),p=this.layoutInner(t,a,f,o,l,c),g=Cd(tn({width:p.width,height:p.height},u),d,h);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=function Pze(n,e){var t=A_(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),new wi({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1})}(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,o,a,s,l){var c=this.getContentGroup(),u=rt(),d=r.get("selectedMode"),h=[];i.eachRawSeries(function(f){!f.get("legendHoverLink")&&h.push(f.id)}),HF(r.getData(),function(f,p){var g=f.get("name");if(!this.newlineDisabled&&(""===g||"\n"===g)){var v=new RI;return v.newline=!0,void c.add(v)}var _=i.getSeriesByName(g)[0];if(!u.get(g))if(_){var y=_.getData(),w=y.getVisual("legendLineStyle")||{},I=y.getVisual("legendIcon"),M=y.getVisual("style"),P=this._createItem(_,g,p,f,r,t,w,M,I,d,o);P.on("click",Ap(Ate,g,null,o,h)).on("mouseover",Ap(jF,_.name,null,o,h)).on("mouseout",Ap($F,_.name,null,o,h)),i.ssr&&P.eachChild(function(T){var E=Dt(T);E.seriesIndex=_.seriesIndex,E.dataIndex=p,E.ssrType="legend"}),u.set(g,!0)}else i.eachRawSeries(function(T){if(!u.get(g)&&T.legendVisualProvider){var E=T.legendVisualProvider;if(!E.containName(g))return;var D=E.indexOfName(g),S=E.getItemVisual(D,"style"),x=E.getItemVisual(D,"legendIcon"),N=_o(S.fill);N&&0===N[3]&&(N[3]=.2,S=oe(oe({},S),{fill:cc(N,"rgba")}));var R=this._createItem(T,g,p,f,r,t,{},S,x,d,o);R.on("click",Ap(Ate,null,g,o,h)).on("mouseover",Ap(jF,null,g,o,h)).on("mouseout",Ap($F,null,g,o,h)),i.ssr&&R.eachChild(function(q){var ee=Dt(q);ee.seriesIndex=T.seriesIndex,ee.dataIndex=p,ee.ssrType="legend"}),u.set(g,!0)}},this)},this),a&&this._createSelector(a,r,o,s,l)},e.prototype._createSelector=function(t,r,i,o,a){var s=this.getSelectorGroup();HF(t,function(c){var u=c.type,d=new Mr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(d),IX(d,{normal:r.getModel("selectorLabel"),emphasis:r.getModel(["emphasis","selectorLabel"])},{defaultText:c.title}),gT(d)})},e.prototype._createItem=function(t,r,i,o,a,s,l,c,u,d,h){var f=t.visualDrawType,p=a.get("itemWidth"),g=a.get("itemHeight"),v=a.isSelected(r),_=o.get("symbolRotate"),y=o.get("symbolKeepAspect"),w=o.get("icon"),I=function Oze(n,e,t,r,i,o,a){function s(v,_){"auto"===v.lineWidth&&(v.lineWidth=_.lineWidth>0?2:0),HF(v,function(y,w){"inherit"===v[w]&&(v[w]=_[w])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=0===n.lastIndexOf("empty",0)?"fill":"stroke",d=l.getShallow("decal");c.decal=d&&"inherit"!==d?QN(d,a):r.decal,"inherit"===c.fill&&(c.fill=r[i]),"inherit"===c.stroke&&(c.stroke=r[u]),"inherit"===c.opacity&&(c.opacity=("fill"===i?r:t).opacity),s(c,r);var h=e.getModel("lineStyle"),f=h.getLineStyle();if(s(f,t),"auto"===c.fill&&(c.fill=r.fill),"auto"===c.stroke&&(c.stroke=r.fill),"auto"===f.stroke&&(f.stroke=r.fill),!o){var p=e.get("inactiveBorderWidth");c.lineWidth="auto"===p?r.lineWidth>0&&c[u]?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),f.stroke=h.get("inactiveColor"),f.lineWidth=h.get("inactiveWidth")}return{itemStyle:c,lineStyle:f}}(u=w||u||"roundRect",o,l,c,f,v,h),M=new RI,P=o.getModel("textStyle");if(!Xe(t.getLegendIcon)||w&&"inherit"!==w){var T="inherit"===w&&t.getData().getVisual("symbol")?"inherit"===_?t.getData().getVisual("symbolRotate"):_:0;M.add(function Nze(n){var e=n.icon||"roundRect",t=tI(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:p,itemHeight:g,icon:u,iconRotate:T,itemStyle:I.itemStyle,lineStyle:I.lineStyle,symbolKeepAspect:y}))}else M.add(t.getLegendIcon({itemWidth:p,itemHeight:g,icon:u,iconRotate:_,itemStyle:I.itemStyle,lineStyle:I.lineStyle,symbolKeepAspect:y}));var E="left"===s?p+5:-5,D=s,S=a.get("formatter"),x=r;we(S)&&S?x=S.replace("{name}",r??""):Xe(S)&&(x=S(r));var N=v?P.getTextColor():o.get("inactiveColor");M.add(new Mr({style:el(P,{text:x,x:E,y:g/2,fill:N,align:D,verticalAlign:"middle"},{inheritColor:N})}));var R=new wi({shape:M.getBoundingRect(),style:{fill:"transparent"}}),q=o.getModel("tooltip");return q.get("show")&&XT({el:R,componentModel:a,itemName:r,itemTooltipOption:q.option}),M.add(R),M.eachChild(function(ee){ee.silent=!0}),R.silent=!d,this.getContentGroup().add(M),gT(M),M.__legendDataIndex=i,M},e.prototype.layoutInner=function(t,r,i,o,a,s){var l=this.getContentGroup(),c=this.getSelectorGroup();R_(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),a){R_("horizontal",c,t.get("selectorItemGap",!0));var h=c.getBoundingRect(),f=[-h.x,-h.y],p=t.get("selectorButtonGap",!0),g=t.getOrient().index,v=0===g?"width":"height",_=0===g?"height":"width",y=0===g?"y":"x";"end"===s?f[g]+=u[v]+p:d[g]+=h[v]+p,f[1-g]+=u[_]/2-h[_]/2,c.x=f[0],c.y=f[1],l.x=d[0],l.y=d[1];var w={x:0,y:0};return w[v]=u[v]+p+h[v],w[_]=Math.max(u[_],h[_]),w[y]=Math.min(0,h[y]+f[1-g]),w}return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Aa);function Ate(n,e,t,r){$F(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),jF(n,e,t,r)}function Mte(n){for(var t,e=n.getZr().storage.getDisplayList(),r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function jF(n,e,t,r){Mte(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function $F(n,e,t,r){Mte(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}const Rte=kze;function Fze(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function sy(n,e,t){var r="allSelect"===n||"inverseSelect"===n,i={},o=[];t.eachComponent({mainType:"legend",query:e},function(s){r?s[n]():s[n](e.name),Pte(s,i),o.push(s.componentIndex)});var a={};return t.eachComponent("legend",function(s){L(i,function(l,c){s[l?"select":"unSelect"](c)}),Pte(s,a)}),r?{selected:a,legendIndex:o}:{name:e.name,selected:a}}function Pte(n,e){var t=e||{};return L(n.getData(),function(r){var i=r.get("name");if("\n"!==i&&""!==i){var o=n.isSelected(i);t[i]=tc(t,i)?t[i]&&o:o}}),t}function kte(n){n.registerComponentModel(zF),n.registerComponentView(Rte),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Fze),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function Lze(n){n.registerAction("legendToggleSelect","legendselectchanged",Nn(sy,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Nn(sy,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Nn(sy,"inverseSelect")),n.registerAction("legendSelect","legendselected",Nn(sy,"select")),n.registerAction("legendUnSelect","legendunselected",Nn(sy,"unSelect"))}(n)}var Vze=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Lt(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var o=lN(t);n.prototype.init.call(this,t,r,i),Ote(this,t,o)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),Ote(this,this.option,t)},e.type="legend.scroll",e.defaultOption=function tNe(n,e){return en(en({},n,!0),e,!0)}(zF.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(zF);function Ote(n,e,t){var i=[1,1];i[n.getOrient().index]=0,P_(e,t,{type:"box",ignoreSize:!!i})}const Bze=Vze;var Nte=Ia,GF=["width","height"],qF=["x","y"],Uze=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return Lt(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new Nte),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Nte)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,o,a,s,l){var c=this;n.prototype.renderInner.call(this,t,r,i,o,a,s,l);var u=this._controllerGroup,d=r.get("pageIconSize",!0),h=me(d)?d:[d,d];p("pagePrev",0);var f=r.getModel("pageTextStyle");function p(g,v){var _=g+"DataIndex",y=KT(r.get("pageIcons",!0)[r.getOrient().name][v],{onclick:jt(c._pageGo,c,_,r,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});y.name=g,u.add(y)}u.add(new Mr({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},e.prototype.layoutInner=function(t,r,i,o,a,s){var l=this.getSelectorGroup(),c=t.getOrient().index,u=GF[c],d=qF[c],h=GF[1-c],f=qF[1-c];a&&R_("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),g=l.getBoundingRect(),v=[-g.x,-g.y],_=lt(i);a&&(_[u]=i[u]-g[u]-p);var y=this._layoutContentAndController(t,o,_,c,u,h,f,d);if(a){if("end"===s)v[c]+=y[u]+p;else{var w=g[u]+p;v[c]-=w,y[d]-=w}y[u]+=g[u]+p,v[1-c]+=y[f]+y[h]/2-g[h]/2,y[h]=Math.max(y[h],g[h]),y[f]=Math.min(y[f],g[f]+v[1-c]),l.x=v[0],l.y=v[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,r,i,o,a,s,l,c){var u=this.getContentGroup(),d=this._containerGroup,h=this._controllerGroup;R_(t.get("orient"),u,t.get("itemGap"),o?i.width:null,o?null:i.height),R_("horizontal",h,t.get("pageButtonItemGap",!0));var f=u.getBoundingRect(),p=h.getBoundingRect(),g=this._showController=f[a]>i[a],v=[-f.x,-f.y];r||(v[o]=u[c]);var _=[0,0],y=[-p.x,-p.y],w=qe(t.get("pageButtonGap",!0),t.get("itemGap",!0));g&&("end"===t.get("pageButtonPosition",!0)?y[o]+=i[a]-p[a]:_[o]+=p[a]+w),y[1-o]+=f[s]/2-p[s]/2,u.setPosition(v),d.setPosition(_),h.setPosition(y);var M={x:0,y:0};if(M[a]=g?i[a]:f[a],M[s]=Math.max(f[s],p[s]),M[l]=Math.min(0,p[l]+y[1-o]),d.__rectSize=i[a],g){var P={x:0,y:0};P[a]=Math.max(i[a]-p[a]-w,0),P[s]=M[s],d.setClipPath(new wi({shape:P})),d.__rectSize=P[a]}else h.eachChild(function(E){E.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(t);return null!=T.pageIndex&&us(u,{x:T.contentPosition[0],y:T.contentPosition[1]},g?t:null),this._updatePageInfoView(t,T),M},e.prototype._pageGo=function(t,r,i){var o=this._getPageInfo(r)[t];null!=o&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;L(["pagePrev","pageNext"],function(u){var h=null!=r[u+"DataIndex"],f=i.childOfName(u);f&&(f.setStyle("fill",t.get(h?"pageIconColor":"pageIconInactiveColor",!0)),f.cursor=h?"pointer":"default")});var o=i.childOfName("pageText"),a=t.get("pageFormatter"),s=r.pageIndex,l=null!=s?s+1:0,c=r.pageCount;o&&a&&o.setStyle("text",we(a)?a.replace("{current}",null==l?"":l+"").replace("{total}",null==c?"":c+""):a({current:l,total:c}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,a=t.getOrient().index,s=GF[a],l=qF[a],c=this._findTargetItemIndex(r),u=i.children(),d=u[c],h=u.length,f=h?1:0,p={contentPosition:[i.x,i.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var g=I(d);p.contentPosition[a]=-g.s;for(var v=c+1,_=g,y=g,w=null;v<=h;++v)(!(w=I(u[v]))&&y.e>_.s+o||w&&!M(w,_.s))&&(_=y.i>_.i?y:w)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=_.i),++p.pageCount),y=w;for(v=c-1,_=g,y=g,w=null;v>=-1;--v)(!(w=I(u[v]))||!M(y,w.s))&&_.i<y.i&&(y=_,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=_.i),++p.pageCount,++p.pageIndex),_=w;return p;function I(P){if(P){var T=P.getBoundingRect(),E=T[l]+P[l];return{s:E,e:E+T[s],i:P.__legendDataIndex}}}function M(P,T){return P.e>=T&&P.s<=T+o}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(a,s){var l=a.__legendDataIndex;null==o&&null!=l&&(o=s),l===t&&(r=s)}),r??o):0;var r,o},e.type="legend.scroll",e}(Rte);const zze=Uze;function jze(n){ol(kte),n.registerComponentModel(Bze),n.registerComponentView(zze),function Hze(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;null!=r&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}(n)}function Fte(n){ol(kte),ol(jze)}function Lte(n,e,t){var r=Ws.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=o*t,r}var $ze=function(n){function e(t,r,i){var a,o=n.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||eT,"string"==typeof t?a=Lte(t,r,i):Oe(t)&&(t=(a=t).id),o.id=t,o.dom=a;var s=a.style;return s&&(mk(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=r,o.dpr=i,o}return Vt(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Lte("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var v,a=[],s=this.maxRepaintRectCount,l=!1,c=new bt(0,0,0,0);function u(y){if(y.isFinite()&&!y.isZero())if(0===a.length)(w=new bt(0,0,0,0)).copy(y),a.push(w);else{for(var I=!1,M=1/0,P=0,T=0;T<a.length;++T){var E=a[T];if(E.intersect(y)){var D=new bt(0,0,0,0);D.copy(E),D.union(y),a[T]=D,I=!0;break}if(l){c.copy(y),c.union(E);var R=c.width*c.height-y.width*y.height-E.width*E.height;R<M&&(M=R,P=T)}}var w;l&&(a[P].union(y),I=!0),I||((w=new bt(0,0,0,0)).copy(y),a.push(w)),l||(l=a.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d)if(h=t[d]){var f=h.shouldBePainted(i,o,!0,!0);(p=h.__isRendered&&(h.__dirty&vo||!f)?h.getPrevPaintRect():null)&&u(p);var g=f&&(h.__dirty&vo||!h.__isRendered)?h.getPaintRect():null;g&&u(g)}for(d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h,p;f=(h=r[d])&&h.shouldBePainted(i,o,!0,!0),!h||f&&h.__zr||!h.__isRendered||(p=h.getPrevPaintRect())&&u(p)}do{for(v=!1,d=0;d<a.length;)if(a[d].isZero())a.splice(d,1);else{for(var _=d+1;_<a.length;)a[d].intersect(a[_])?(v=!0,a[d].union(a[_]),a.splice(_,1)):_++;d++}}while(v);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=t+"px",a.height=r+"px"),o.width=t*i,o.height=r*i,s&&(s.width=t*i,s.height=r*i,1!==i&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var o=this.dom,a=this.ctx,s=o.width,l=o.height;r=r||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,d=this.dpr,h=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/d,l/d));var f=this.domBack;function p(g,v,_,y){if(a.clearRect(g,v,_,y),r&&"transparent"!==r){var w=void 0;Kv(r)?(w=(r.global||r.__width===_&&r.__height===y)&&r.__canvasGradient||WN(a,r,{x:0,y:0,width:_,height:y}),r.__canvasGradient=w,r.__width=_,r.__height=y):W7(r)&&(r.scaleX=r.scaleX||d,r.scaleY=r.scaleY||d,w=YN(a,r,{dirty:function(){h.setUnpainted(),h.painter.refresh()}})),a.save(),a.fillStyle=w||r,a.fillRect(g,v,_,y),a.restore()}c&&(a.save(),a.globalAlpha=u,a.drawImage(f,g,v,_,y),a.restore())}!i||c?p(0,0,s,l):i.length&&L(i,function(g){p(g.x*d,g.y*d,g.width*d,g.height*d)})},e}(ns);const WF=$ze;var Ld=314159,Yze=function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=r=oe({},r||{}),this.dpr=r.devicePixelRatio||eT,this._singleCanvas=o,this.root=e,e.style&&(mk(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=e,d=u.width,h=u.height;null!=r.width&&(d=r.width),null!=r.height&&(h=r.height),this.dpr=r.devicePixelRatio||1,u.width=d*this.dpr,u.height=h*this.dpr,this._width=d,this._height=h;var f=new WF(u,this,this.dpr);f.__builtin__=!0,f.initContext(),l[Ld]=f,f.zlevel=Ld,s.push(Ld),this._domRoot=e}else{this._width=rI(e,0,r),this._height=rI(e,1,r);var c=this._domRoot=function Wze(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);e.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var o=0;o<i.length;o++){var s=this._layers[i[o]];!s.__builtin__&&s.refresh&&s.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),t){for(var o,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var s=e[a];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(1e5)),o||(o=r.ctx).save(),Md(o,s,i,a===t-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(e,t){KN(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,r),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;Pk(function(){l._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(Ld).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var c=this._layers[this._zlevelList[s]];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&o.push(c)}for(var u=!0,d=!1,h=function(g){var v=o[g],_=v.ctx,y=a&&v.createRepaintRects(e,t,f._width,f._height),w=r?v.__startIndex:v.__drawIndex,I=!r&&v.incremental&&Date.now,M=I&&Date.now(),P=v.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,P,y);else if(w===v.__startIndex){var T=e[w];(!T.incremental||!T.notClear||r)&&v.clear(!1,P,y)}-1===w&&(console.error("For some unknown reason. drawIndex is -1"),w=v.__startIndex);var E,D=function(R){var q={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(E=w;E<v.__endIndex;E++){var ee=e[E];if(ee.__inHover&&(d=!0),i._doPaintEl(ee,v,a,R,q,E===v.__endIndex-1),I&&Date.now()-M>15)break}q.prevElClipPaths&&_.restore()};if(y)if(0===y.length)E=v.__endIndex;else for(var S=f.dpr,x=0;x<y.length;++x){var N=y[x];_.save(),_.beginPath(),_.rect(N.x*S,N.y*S,N.width*S,N.height*S),_.clip(),D(N),_.restore()}else _.save(),D(),_.restore();v.__drawIndex=E,v.__drawIndex<v.__endIndex&&(u=!1)},f=this,p=0;p<o.length;p++)h(p);return nt.wxa&&L(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,r,i,o,a){var s=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Md(s,e,o,a),e.setPrevPaintRect(l))}else Md(s,e,o,a)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Ld);var r=this._layers[e];return r||((r=new WF("zr_"+e,this,this.dpr)).zlevel=e,r.__builtin__=!0,this._layerConfig[e]?en(r,this._layerConfig[e],!0):this._layerConfig[e-.01]&&en(r,this._layerConfig[e-.01],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,o=i.length,a=this._domRoot,s=null,l=-1;if(!r[e]&&function qze(n){return!(!n||!n.__builtin__&&("function"!=typeof n.resize||"function"!=typeof n.refresh))}(t)){if(o>0&&e>i[0]){for(l=0;l<o-1&&!(i[l]<e&&i[l+1]>e);l++);s=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(t.dom,c.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.painter||(t.painter=this)}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i];e.call(t,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],a=this._layers[o];a.__builtin__&&e.call(t,a,o)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],a=this._layers[o];a.__builtin__||e.call(t,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this.eachBuiltinLayer(function(d,h){d.__dirty=d.__used=!1}),this._singleCanvas)for(var r=1;r<e.length;r++)if((i=e[r]).zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}var s,l,o=null,a=0;for(l=0;l<e.length;l++){var i,c=(i=e[l]).zlevel,u=void 0;s!==c&&(s=c,a=0),i.incremental?((u=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(c+(a>0?.01:0),this._needsManuallyCompositing),u.__builtin__||IE("ZLevel "+c+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.__drawIndex=u.incremental?-1:l,t(l),o=u),i.__dirty&vo&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,h){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,L(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?en(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];o!==e&&o!==e+.01||en(this._layers[o],r[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(Mt(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,o=this.root;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=rI(o,0,i),t=rI(o,1,i),r.style.display="",this._width!==e||t!==this._height){for(var a in r.style.width=e+"px",r.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(Ld).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[Ld].dom;var t=new WF("image",this,(e=e||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,o=t.dom.height;this.eachLayer(function(d){d.__builtin__?r.drawImage(d.dom,0,0,i,o):d.renderToCanvas&&(r.save(),d.renderToCanvas(r),r.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++)Md(r,s[l],a,l===c-1);return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const Kze=Yze;function Bte(n){n.registerPainter("canvas",Kze)}ol([Kee,Xee,xte,Fte,Bte]),ol([Kee,Xee,xte,Fte,Bte]);let Xze=(()=>{class n{data$;title="T\xedtulo";legendColor="white";corLabelFormatter="white";labelShow=!1;legendShow=!1;colors=[];radius=["40%","70%"];labelFormatter="{c} ({d}%)";prioridadeSelecionada=new fe;chartOption={};subscription;ngOnInit(){this.subscribeData()}ngOnChanges(t){t.data$&&this.subscribeData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}subscribeData(){this.subscription&&this.subscription.unsubscribe(),this.data$&&(this.subscription=this.data$.subscribe(t=>{this.setupChart(t)}))}setupChart(t){this.chartOption={color:this.colors.length?this.colors:void 0,tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",textStyle:{color:this.legendColor,fontSize:14,fontWeight:"bold"},show:this.legendShow},series:[{name:this.title,type:"pie",radius:this.radius,data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{formatter:this.labelFormatter,show:this.labelShow,backgroundColor:"transparent",color:this.corLabelFormatter,fontWeight:"bold"}}]}}onChartInit(t){t.on("click",r=>{console.log("Clicou no gr\xe1fico:",r),this.prioridadeSelecionada.emit(r.name)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ale-chart-pie"]],inputs:{data$:"data$",title:"title",legendColor:"legendColor",corLabelFormatter:"corLabelFormatter",labelShow:"labelShow",legendShow:"legendShow",colors:"colors",radius:"radius",labelFormatter:"labelFormatter"},outputs:{prioridadeSelecionada:"prioridadeSelecionada"},features:[vt([V1e({echarts:Fx})]),vn],decls:5,vars:2,consts:[[1,"container__chart"],[1,"chart__title"],["echarts","",1,"chart__area",3,"chartInit","options"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"h3"),xe(3),V()(),z(4,"div",2),ce("chartInit",function(a){return i.onChartInit(a)}),V()()),2&r&&(H(3),Zn(i.title),H(),X("options",i.chartOption))},dependencies:[ju,L1e],styles:[".container__chart[_ngcontent-%COMP%]{display:block;width:300px;height:200px}.chart__title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.chart__area[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return n})();const Ute=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},KF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],a=i+1<n.length,s=a?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&s)<<2|c>>6,f=63&c;l||(f=64,a||(h=64)),r.push(t[o>>2],t[(3&o)<<4|s>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ute(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],a=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],s=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==d)throw new tHe;r.push(o<<2|s>>4),64!==c&&(r.push(s<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tHe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kI=function(n){return function(n){const e=Ute(n);return KF.encodeByteArray(e,!0)}(n).replace(/\./g,"")},ly=function(n){try{return KF.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const OI=()=>{try{return function Hte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ly(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},jte=n=>{var e,t;return null===(t=null===(e=OI())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},$te=()=>{var n;return null===(n=OI())||void 0===n?void 0:n.config},Gte=n=>{var e;return null===(e=OI())||void 0===e?void 0:e[`_${n}`]};class NI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function cy(n){return n.endsWith(".cloudworkstations.dev")}function qte(n){return XF.apply(this,arguments)}function XF(){return XF=F(function*(n){return(yield fetch(n,{credentials:"include"})).ok}),XF.apply(this,arguments)}const uy={};let Wte=!1;function Yte(n,e){if(typeof window>"u"||typeof document>"u"||!cy(window.location.host)||uy[n]===e||uy[n]||Wte)return;function t(h){return`__firebase__banner__${h}`}uy[n]=e;const r="__firebase__banner",o=function cHe(){const n={prod:[],emulator:[]};for(const e of Object.keys(uy))uy[e]?n.emulator.push(e):n.prod.push(e);return n}().prod.length>0;function d(){const h=function uHe(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}(r),f=t("text"),p=document.getElementById(f)||document.createElement("span"),g=t("learnmore"),v=document.getElementById(g)||document.createElement("a"),_=t("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;(function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"})(w),function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}(v,g);const I=function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Wte=!0,function a(){const h=document.getElementById(r);h&&h.remove()}()},h}();(function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"})(y,_),w.append(y,p,v,I),document.body.appendChild(w)}o?(p.innerText="Preview backend disconnected.",y.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(y.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",d):d()}function qn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xte(){return!function Kte(){var n;const e=null===(n=OI())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QF(){try{return"object"==typeof indexedDB}catch{return!1}}class ll extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mp.prototype.create)}}class Mp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?function yHe(n,e){return n.replace(bHe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ll(i,`${this.serviceName}: ${a} (${i}).`,r)}}const bHe=/\{\$([^}]+)}/g;function cl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],a=e[i];if(Jte(o)&&Jte(a)){if(!cl(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Jte(n){return null!==n&&"object"==typeof n}function dy(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hy(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function fy(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class EHe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function THe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=ZF),void 0===i.error&&(i.error=ZF),void 0===i.complete&&(i.complete=ZF);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZF(){}function Ln(n){return n&&n._delegate?n._delegate:n}class ul{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vd="[DEFAULT]";class MHe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new NI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function PHe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vd})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return F(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Vd){return this.instances.has(e)}getOptions(e=Vd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&a.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RHe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vd){return this.component?this.component.multipleInstances?e:Vd:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function RHe(n){return n===Vd?void 0:n}class kHe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MHe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const eL=[];var ct=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ct||{});const ene={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},OHe=ct.INFO,NHe={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},FHe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=NHe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class LI{constructor(e){this.name=e,this._logLevel=OHe,this._logHandler=FHe,this._userLogHandler=null,eL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ene[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}let tne,nne;const rne=new WeakMap,tL=new WeakMap,ine=new WeakMap,nL=new WeakMap,rL=new WeakMap;let iL={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return tL.get(n);if("objectStoreNames"===e)return n.objectStoreNames||ine.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function $He(n){return"function"==typeof n?function jHe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function BHe(){return nne||(nne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(oL(this),e),Cc(rne.get(this))}:function(...e){return Cc(n.apply(oL(this),e))}:function(e,...t){const r=n.call(oL(this),e,...t);return ine.set(r,e.sort?e.sort():[e]),Cc(r)}}(n):(n instanceof IDBTransaction&&function zHe(n){if(tL.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});tL.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function VHe(){return tne||(tne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,iL):n)}function Cc(n){if(n instanceof IDBRequest)return function UHe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{t(Cc(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&rne.set(t,n)}).catch(()=>{}),rL.set(e,n),e}(n);if(nL.has(n))return nL.get(n);const e=$He(n);return e!==n&&(nL.set(n,e),rL.set(e,n)),e}const oL=n=>rL.get(n),qHe=["get","getKey","getAll","getAllKeys","count"],WHe=["put","add","delete","clear"],aL=new Map;function one(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(aL.get(e))return aL.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=WHe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qHe.includes(t))return;const o=function(){var a=F(function*(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return a.apply(this,arguments)}}();return aL.set(e,o),o}!function HHe(n){iL=n(iL)}(n=>({...n,get:(e,t,r)=>one(e,t)||n.get(e,t,r),has:(e,t)=>!!one(e,t)||n.has(e,t)}));class YHe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function KHe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const VI="@firebase/app",dl=new LI("@firebase/app"),XHe="@firebase/app-compat",QHe="@firebase/analytics-compat",ZHe="@firebase/analytics",JHe="@firebase/app-check-compat",e3e="@firebase/app-check",t3e="@firebase/auth",n3e="@firebase/auth-compat",r3e="@firebase/database",i3e="@firebase/data-connect",o3e="@firebase/database-compat",a3e="@firebase/functions",s3e="@firebase/functions-compat",l3e="@firebase/installations",c3e="@firebase/installations-compat",u3e="@firebase/messaging",d3e="@firebase/messaging-compat",h3e="@firebase/performance",f3e="@firebase/performance-compat",p3e="@firebase/remote-config",m3e="@firebase/remote-config-compat",g3e="@firebase/storage",v3e="@firebase/storage-compat",_3e="@firebase/firestore",y3e="@firebase/ai",b3e="@firebase/firestore-compat",w3e="firebase",BI="[DEFAULT]",E3e={[VI]:"fire-core",[XHe]:"fire-core-compat",[ZHe]:"fire-analytics",[QHe]:"fire-analytics-compat",[e3e]:"fire-app-check",[JHe]:"fire-app-check-compat",[t3e]:"fire-auth",[n3e]:"fire-auth-compat",[r3e]:"fire-rtdb",[i3e]:"fire-data-connect",[o3e]:"fire-rtdb-compat",[a3e]:"fire-fn",[s3e]:"fire-fn-compat",[l3e]:"fire-iid",[c3e]:"fire-iid-compat",[u3e]:"fire-fcm",[d3e]:"fire-fcm-compat",[h3e]:"fire-perf",[f3e]:"fire-perf-compat",[p3e]:"fire-rc",[m3e]:"fire-rc-compat",[g3e]:"fire-gcs",[v3e]:"fire-gcs-compat",[_3e]:"fire-fst",[b3e]:"fire-fst-compat",[y3e]:"fire-vertex","fire-js":"fire-js",[w3e]:"fire-js-all"},Bd=new Map,py=new Map,my=new Map;function ane(n,e){try{n.container.addComponent(e)}catch(t){dl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ec(n){const e=n.name;if(my.has(e))return dl.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,n);for(const t of Bd.values())ane(t,n);for(const t of py.values())ane(t,n);return!0}function UI(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ko(n){return null!=n&&void 0!==n.settings}const Xo=new Mp("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sne{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}const Rp="11.8.0";function cne(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:BI,automaticDataCollectionEnabled:!0},e),i=r.name;if("string"!=typeof i||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(t||(t=$te()),!t)throw Xo.create("no-options");const o=Bd.get(i);if(o){if(cl(t,o.options)&&cl(r,o.config))return o;throw Xo.create("duplicate-app",{appName:i})}const a=new kHe(i);for(const l of my.values())a.addComponent(l);const s=new sne(t,r,a);return Bd.set(i,s),s}function lL(n=BI){const e=Bd.get(n);if(!e&&n===BI&&$te())return cne();if(!e)throw Xo.create("no-app",{appName:n});return e}function une(){return Array.from(Bd.values())}function Di(n,e,t){var r;let i=null!==(r=E3e[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];return o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void dl.warn(s.join(" "))}Ec(new ul(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gy="firebase-heartbeat-store";let uL=null;function dne(){return uL||(uL=function GHe(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(n,e),s=Cc(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Cc(a.result),l.oldVersion,l.newVersion,Cc(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(gy)}catch(t){console.warn(t)}}}).catch(n=>{throw Xo.create("idb-open",{originalErrorMessage:n.message})})),uL}function dL(){return dL=F(function*(n){try{const t=(yield dne()).transaction(gy),r=yield t.objectStore(gy).get(fne(n));return yield t.done,r}catch(e){if(e instanceof ll)dl.warn(e.message);else{const t=Xo.create("idb-get",{originalErrorMessage:e?.message});dl.warn(t.message)}}}),dL.apply(this,arguments)}function hne(n,e){return hL.apply(this,arguments)}function hL(){return hL=F(function*(n,e){try{const r=(yield dne()).transaction(gy,"readwrite");yield r.objectStore(gy).put(e,fne(n)),yield r.done}catch(t){if(t instanceof ll)dl.warn(t.message);else{const r=Xo.create("idb-set",{originalErrorMessage:t?.message});dl.warn(r.message)}}}),hL.apply(this,arguments)}function fne(n){return`${n.name}!${n.options.appId}`}class k3e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new N3e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return F(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pne();if(null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===a||e._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(e._heartbeatsCache.heartbeats.push({date:a,agent:o}),e._heartbeatsCache.heartbeats.length>30){const s=function F3e(n){if(0===n.length)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(s,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){dl.warn(i)}})()}getHeartbeatsHeader(){var e=this;return F(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=pne(),{heartbeatsToSend:i,unsentEntries:o}=function O3e(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),mne(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mne(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),a=kI(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),a}catch(r){return dl.warn(r),""}})()}}function pne(){return(new Date).toISOString().substring(0,10)}class N3e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return F(function*(){return!!QF()&&function vHe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return F(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function M3e(n){return dL.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return F(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return hne(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return F(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return hne(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function mne(n){return kI(JSON.stringify({version:2,heartbeats:n})).length}!function L3e(n){Ec(new ul("platform-logger",e=>new YHe(e),"PRIVATE")),Ec(new ul("heartbeat",e=>new k3e(e),"PRIVATE")),Di(VI,"0.13.0",n),Di(VI,"0.13.0","esm2017"),Di("fire-js","")}(""),Di("firebase","11.8.1","app");const q3e=new class G3e extends wE{}(class $3e extends bE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),zI=new Lf("ANGULARFIRE2_VERSION");function fL(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(a=>a.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const pL=(n,e)=>{const t=e?[e]:une(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r};var Pp=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Pp||{}),mL=IW()&&typeof Zone<"u"?Pp.WARN:Pp.SILENT;class yne{zone;delegate;constructor(e,t=q3e){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(a){i?i.runGuarded(()=>{e.apply(this,[a])}):e.apply(this,[a])},t,r)}}let HI=(()=>{class n{outsideAngular;insideAngular;constructor(){const t=O(De);this.outsideAngular=t.runOutsideAngular(()=>new yne(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new yne(typeof Zone>"u"?void 0:Zone.current,Xf))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bne=!1;function Ud(n){const e=O(De,{optional:!0});return e?e.run(()=>n()):n()}const K3e=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Vi(t,()=>Ud(()=>n.apply(void 0,r)))),wo=(n,e,t)=>(t||=e?Pp.WARN:Pp.VERBOSE,function(){let r;const i=arguments;let o,a,s;try{o=O(HI),a=O(sw),s=O(vr)}catch{return function W3e(n,e){!bne&&(mL>Pp.SILENT||!1)&&(bne=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),mL>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(r||=Ud(()=>a.add())),i[c]=K3e(i[c],r,s));const l=function Y3e(n){const e=O(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}(()=>n.apply(this,i));return e?l instanceof Wt?l.pipe(qC(o.outsideAngular),GC(o.insideAngular),function _ne(n){void 0===n&&(vu(),n=O(pt));const e=n.get(sw);return t=>new Wt(r=>{const i=e.add();let o=!1;function a(){o||(i(),o=!0)}const s=t.subscribe({next:l=>{r.next(l),a()},complete:()=>{r.complete(),a()},error:l=>{r.error(l),a()}});return s.add(()=>{r.unsubscribe(),a()}),s})}(s)):l instanceof Promise?Ud(()=>new Promise((c,u)=>{a.run(()=>l).then(d=>Vi(s,()=>Ud(()=>c(d))),d=>Vi(s,()=>Ud(()=>u(d))))})):"function"==typeof l&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Ud(()=>l):l instanceof Wt?l.pipe(qC(o.outsideAngular),GC(o.insideAngular)):Ud(()=>l)});class kp{constructor(e){return e}}class gL{constructor(){return une()}}const vL=new W("angularfire2._apps"),Q3e={provide:kp,useFactory:function X3e(n){return n&&1===n.length?n[0]:new kp(lL())},deps:[[new Dr,vL]]},Z3e={provide:gL,deps:[[new Dr,vL]]};function J3e(n){return(e,t)=>{const r=t.get(Su);Di("angularfire",zI.full,"core"),Di("angularfire",zI.full,"app"),Di("angular",kR.full,r.toString());const i=e.runOutsideAngular(()=>n(t));return new kp(i)}}const tje=wo(cne,!0),_L=new Map,wne={activated:!1,tokenObservers:[]},nje={initialized:!1,enabled:!1};function Vn(n){return _L.get(n)||Object.assign({},wne)}function jI(){return nje}class lje{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return F(function*(){t.stop();try{t.pending=new NI,t.pending.promise.catch(r=>{}),yield function cje(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new NI,t.pending.promise.catch(r=>{}),yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pr=new Mp("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function bL(n){if(!Vn(n).activated)throw Pr.create("use-before-activation",{appName:n.name})}function qI(n,e){return CL.apply(this,arguments)}function CL(){return CL=F(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let a,s;try{a=yield fetch(n,o)}catch(d){throw Pr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==a.status)throw Pr.create("fetch-status-error",{httpStatus:a.status});try{s=yield a.json()}catch(d){throw Pr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=s.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Pr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:s.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}}),CL.apply(this,arguments)}function Ene(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const vy="firebase-app-check-store";let WI=null;function EL(){return EL=F(function*(n,e){const r=(yield function Ine(){return WI||(WI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Pr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vy,{keyPath:"compositeKey"})}}catch(t){e(Pr.create("storage-open",{originalErrorMessage:t?.message}))}}),WI)}()).transaction(vy,"readwrite"),o=r.objectStore(vy).put({compositeKey:n,value:e});return new Promise((a,s)=>{o.onsuccess=l=>{a()},r.onerror=l=>{var c;s(Pr.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})}),EL.apply(this,arguments)}const Tc=new LI("@firebase/app-check");function DL(n,e){return QF()?function gje(n,e){return function Dne(n,e){return EL.apply(this,arguments)}(function xne(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xL(){return jI().enabled}function AL(){return ML.apply(this,arguments)}function ML(){return ML=F(function*(){const n=jI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ML.apply(this,arguments)}const Cje={error:"UNKNOWN_ERROR"};function Eje(n){return KF.encodeString(JSON.stringify(n),!1)}function YI(n){return RL.apply(this,arguments)}function RL(){return RL=F(function*(n,e=!1,t=!1){const r=n.app;bL(r);const i=Vn(r);let a,o=i.token;if(o&&!Op(o)&&(i.token=void 0,o=void 0),!o){const c=yield i.cachedTokenPromise;c&&(Op(c)?o=c:yield DL(r,void 0))}if(!e&&o&&Op(o))return{token:o.token};let l,s=!1;if(xL())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qI(Ene(r,yield AL()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield DL(r,c),i.token=c,{token:c.token}}catch(c){return"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?Tc.warn(c.message):t&&Tc.error(c),NL(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),o=yield Vn(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?Tc.warn(c.message):t&&Tc.error(c),a=c}return o?a?l=Op(o)?{token:o.token,internalError:a}:NL(a):(l={token:o.token},i.token=o,yield DL(r,o)):l=NL(a),s&&function Rne(n,e){const t=Vn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,l),l}),RL.apply(this,arguments)}function PL(){return PL=F(function*(n){const e=n.app;bL(e);const{provider:t}=Vn(e);if(xL()){const r=yield AL(),{token:i}=yield qI(Ene(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),PL.apply(this,arguments)}function OL(n,e){const t=Vn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Mne(n){const{app:e}=n,t=Vn(e);let r=t.tokenRefresher;r||(r=function Tje(n){const{app:e}=n;return new lje(F(function*(){let r;if(r=Vn(e).token?yield YI(n,!0):yield YI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Op(n){return n.expireTimeMillis-Date.now()>0}function NL(n){return{token:Eje(Cje),error:n}}class Ije{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vn(this.app);for(const t of e)OL(this.app,t.next);return Promise.resolve()}}const Bne="app-check-internal";!function Bje(){Ec(new ul("app-check",n=>function Dje(n,e){return new Ije(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Bne).initialize()})),Ec(new ul(Bne,n=>function Sje(n){return{getToken:e=>YI(n,e),getLimitedUseToken:()=>function Ane(n){return PL.apply(this,arguments)}(n),addTokenListener:e=>function kL(n,e,t,r){const{app:i}=n,o=Vn(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Op(o.token)){const s=o.token;Promise.resolve().then(()=>{t({token:s.token}),Mne(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Mne(n))}(n,"INTERNAL",e),removeTokenListener:e=>OL(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Di("@firebase/app-check","0.10.0")}();class BL{constructor(){return pL("app-check")}}typeof window<"u"&&window;const Gje=function zne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Hne=new Mp("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),XI=new LI("@firebase/auth");function QI(n,...e){XI.logLevel<=ct.ERROR&&XI.error(`Auth (${Rp}): ${n}`,...e)}function Zi(n,...e){throw HL(n,...e)}function Qo(n,...e){return HL(n,...e)}function zL(n,e,t){const r=Object.assign(Object.assign({},Gje()),{[e]:t});return new Mp("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return zL(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HL(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Hne.create(n,...e)}function ne(n,e,...t){if(!n)throw HL(e,...t)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw QI(e),new Error(e)}function Ic(n,e){n||ms(e)}function _y(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function jne(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Wje(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function jL(){return"http:"===jne()||"https:"===jne()}()||function pHe(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class yy{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ic(t>e,"Short delay should be less than long delay!"),this.isMobile=function dHe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}()||function mHe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Wje()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $L(n,e){Ic(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class $ne{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kje={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xje=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qje=new yy(3e4,6e4);function dn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function hn(n,e,t,r){return GL.apply(this,arguments)}function GL(){return GL=F(function*(n,e,t,r,i={}){return Gne(n,i,F(function*(){let o={},a={};r&&("GET"===e?a=r:o={body:JSON.stringify(r)});const s=dy(Object.assign({key:n.config.apiKey},a)).slice(1),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},o);return function fHe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&cy(n.emulatorConfig.host)&&(c.credentials="include"),$ne.fetch()(yield qne(n,n.config.apiHost,t,s),c)}))}),GL.apply(this,arguments)}function Gne(n,e,t){return qL.apply(this,arguments)}function qL(){return qL=F(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Kje),e);try{const i=new Jje(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=yield o.json();if("needConfirmation"in a)throw by(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,c]=s.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw by(n,"credential-already-in-use",a);if("EMAIL_EXISTS"===l)throw by(n,"email-already-in-use",a);if("USER_DISABLED"===l)throw by(n,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zL(n,u,c);Zi(n,u)}}catch(i){if(i instanceof ll)throw i;Zi(n,"network-request-failed",{message:String(i)})}}),qL.apply(this,arguments)}function hl(n,e,t,r){return WL.apply(this,arguments)}function WL(){return WL=F(function*(n,e,t,r,i={}){const o=yield hn(n,e,t,r,i);return"mfaPendingCredential"in o&&Zi(n,"multi-factor-auth-required",{_serverResponse:o}),o}),WL.apply(this,arguments)}function qne(n,e,t,r){return YL.apply(this,arguments)}function YL(){return YL=F(function*(n,e,t,r){const i=`${e}${t}?${r}`,o=n,a=o.config.emulator?$L(n.config,i):`${n.config.apiScheme}://${i}`;return Xje.includes(t)&&(yield o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(a).toString():a}),YL.apply(this,arguments)}function Zje(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jje{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qo(this.auth,"network-request-failed")),Qje.get())})}}function by(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Qo(n,e,r);return i.customData._tokenResponse=t,i}function Yne(n){return void 0!==n&&void 0!==n.enterprise}class Kne{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zje(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function XL(){return XL=F(function*(n,e){return hn(n,"GET","/v2/recaptchaConfig",dn(n,e))}),XL.apply(this,arguments)}function QL(){return QL=F(function*(n,e){return hn(n,"POST","/v1/accounts:delete",e)}),QL.apply(this,arguments)}function ZI(n,e){return JL.apply(this,arguments)}function JL(){return JL=F(function*(n,e){return hn(n,"POST","/v1/accounts:lookup",e)}),JL.apply(this,arguments)}function wy(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function eV(){return eV=F(function*(n,e=!1){const t=Ln(n),r=yield t.getIdToken(e),i=JI(r);ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:wy(tV(i.auth_time)),issuedAtTime:wy(tV(i.iat)),expirationTime:wy(tV(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}),eV.apply(this,arguments)}function tV(n){return 1e3*Number(n)}function JI(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return QI("JWT malformed, contained fewer than 3 sections"),null;try{const i=ly(t);return i?JSON.parse(i):(QI("Failed to decode base64 JWT payload"),null)}catch(i){return QI("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qne(n){const e=JI(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fl(n,e){return nV.apply(this,arguments)}function nV(){return nV=F(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ll&&function i4e({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),nV.apply(this,arguments)}class o4e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(F(function*(){yield t.iteration()}),r)}iteration(){var e=this;return F(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class rV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wy(this.lastLoginAt),this.creationTime=wy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cy(n){return iV.apply(this,arguments)}function iV(){return iV=F(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield fl(n,ZI(t,{idToken:r}));ne(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const a=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Zne(o.providerUserInfo):[],s=function s4e(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,a),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||s?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new rV(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),iV.apply(this,arguments)}function oV(){return oV=F(function*(n){const e=Ln(n);yield Cy(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),oV.apply(this,arguments)}function Zne(n){return n.map(e=>{var{providerId:t}=e,r=$C(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function aV(){return aV=F(function*(n,e){const t=yield Gne(n,{},F(function*(){const r=dy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=yield qne(n,i,"/v1/token",`key=${o}`),s=yield n._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",$ne.fetch()(a,{method:"POST",headers:s,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),aV.apply(this,arguments)}function sV(){return sV=F(function*(n,e){return hn(n,"POST","/v2/accounts:revokeToken",dn(n,e))}),sV.apply(this,arguments)}class Fp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qne(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(0!==e.length,"internal-error");const t=Qne(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return F(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(ne(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return F(function*(){const{accessToken:i,refreshToken:o,expiresIn:a}=yield function l4e(n,e){return aV.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(a))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,a=new Fp;return r&&(ne("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(ne("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),o&&(ne("number"==typeof o,"internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fp,this.toJSON())}_performRefresh(){return ms("not implemented")}}function Dc(n,e){ne("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Na{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=$C(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o4e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rV(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return F(function*(){const r=yield fl(t,t.stsTokenManager.getToken(t.auth,e));return ne(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function r4e(n){return eV.apply(this,arguments)}(this,e)}reload(){return function a4e(n){return oV.apply(this,arguments)}(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return F(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield Cy(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return F(function*(){if(Ko(e.auth.app))return Promise.reject(br(e.auth));const t=yield e.getIdToken();return yield fl(e,function t4e(n,e){return QL.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,a,s,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,g=null!==(s=t.tenantId)&&void 0!==s?s:void 0,v=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,_=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:I,isAnonymous:M,providerData:P,stsTokenManager:T}=t;ne(w&&T,e,"internal-error");const E=Fp.fromJSON(this.name,T);ne("string"==typeof w,e,"internal-error"),Dc(d,e.name),Dc(h,e.name),ne("boolean"==typeof I,e,"internal-error"),ne("boolean"==typeof M,e,"internal-error"),Dc(f,e.name),Dc(p,e.name),Dc(g,e.name),Dc(v,e.name),Dc(_,e.name),Dc(y,e.name);const D=new Na({uid:w,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:M,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:E,createdAt:_,lastLoginAt:y});return P&&Array.isArray(P)&&(D.providerData=P.map(S=>Object.assign({},S))),v&&(D._redirectEventId=v),D}static _fromIdTokenResponse(e,t){return F(function*(r,i,o=!1){const a=new Fp;a.updateFromServerResponse(i);const s=new Na({uid:i.localId,auth:r,stsTokenManager:a,isAnonymous:o});return yield Cy(s),s}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return F(function*(){const i=t.users[0];ne(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?Zne(i.providerUserInfo):[],a=!(i.email&&i.passwordHash||o?.length),s=new Fp;s.updateFromIdToken(r);const l=new Na({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rV(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(l,c),l})()}}const Jne=new Map;function pl(n){Ic(n instanceof Function,"Expected a class definition");let e=Jne.get(n);return e?(Ic(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jne.set(n,e),e)}const ere=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return F(function*(){return!0})()}_set(t,r){var i=this;return F(function*(){i.storage[t]=r})()}_get(t){var r=this;return F(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return F(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function eD(n,e,t){return`firebase:${n}:${e}:${t}`}class Lp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=eD(this.userKey,i.apiKey,o),this.fullPersistenceKey=eD("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return F(function*(){const t=yield e.persistence._get(e.fullUserKey);if(!t)return null;if("string"==typeof t){const r=yield ZI(e.auth,{idToken:t}).catch(()=>{});return r?Na._fromGetAccountInfoResponse(e.auth,r,t):null}return Na._fromJSON(e.auth,t)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return F(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return F(function*(r,i,o="authUser"){if(!i.length)return new Lp(pl(ere),r,o);const a=(yield Promise.all(i.map(function(){var d=F(function*(h){if(yield h._isAvailable())return h});return function(h){return d.apply(this,arguments)}}()))).filter(d=>d);let s=a[0]||pl(ere);const l=eD(o,r.config.apiKey,r.name);let c=null;for(const d of i)try{const h=yield d._get(l);if(h){let f;if("string"==typeof h){const p=yield ZI(r,{idToken:h}).catch(()=>{});if(!p)break;f=yield Na._fromGetAccountInfoResponse(r,p,h)}else f=Na._fromJSON(r,h);d!==s&&(c=f),s=d;break}}catch{}const u=a.filter(d=>d._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],c&&(yield s._set(l,c.toJSON())),yield Promise.all(i.map(function(){var d=F(function*(h){if(h!==s)try{yield h._remove(l)}catch{}});return function(h){return d.apply(this,arguments)}}())),new Lp(s,r,o)):new Lp(s,r,o)}).apply(this,arguments)}}function tre(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ore(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nre(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sre(e))return"Blackberry";if(lre(e))return"Webos";if(rre(e))return"Safari";if((e.includes("chrome/")||ire(e))&&!e.includes("edge/"))return"Chrome";if(are(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nre(n=qn()){return/firefox\//i.test(n)}function rre(n=qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ire(n=qn()){return/crios\//i.test(n)}function ore(n=qn()){return/iemobile/i.test(n)}function are(n=qn()){return/android/i.test(n)}function sre(n=qn()){return/blackberry/i.test(n)}function lre(n=qn()){return/webos/i.test(n)}function lV(n=qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cre(n=qn()){return lV(n)||are(n)||lre(n)||sre(n)||/windows phone/i.test(n)||ore(n)}function ure(n,e=[]){let t;switch(n){case"Browser":t=tre(qn());break;case"Worker":t=`${tre(qn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rp}/${r}`}class h4e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((a,s)=>{try{a(e(o))}catch(l){s(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return F(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function cV(){return cV=F(function*(n,e={}){return hn(n,"GET","/v2/passwordPolicy",dn(n,e))}),cV.apply(this,arguments)}class m4e{constructor(e){var t,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNumericCharacter)||void 0===a||a),l.isValid&&(l.isValid=null===(s=l.containsNonAlphanumericCharacter)||void 0===s||s),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class g4e{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dre(this),this.idTokenSubscription=new dre(this),this.beforeStateQueue=new h4e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hne,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=pl(t)),this._initializationPromise=this.queue(F(function*(){var i,o,a;if(!r._deleted&&(r.persistenceManager=yield Lp.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return F(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return F(function*(){try{const r=yield ZI(t,{idToken:e}),i=yield Na._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return F(function*(){var r;if(Ko(t.app)){const s=t.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(s).then(l,l))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(o=c.user,a=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{yield t.beforeStateQueue.runMiddleware(o)}catch(s){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(s))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return ne(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return F(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return F(function*(){try{yield Cy(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Yje(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return F(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return F(function*(){if(Ko(t.app))return Promise.reject(br(t));const r=e?Ln(e):null;return r&&ne(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return F(function*(r,i=!1){if(!t._deleted)return r&&ne(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue(F(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return F(function*(){return Ko(e.app)?Promise.reject(br(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Ko(this.app)?Promise.reject(br(this)):this.queue(F(function*(){yield t.assertedPersistence.setPersistence(pl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return F(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return F(function*(){const t=yield function f4e(n){return cV.apply(this,arguments)}(e),r=new m4e(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return F(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function c4e(n,e){return sV.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return F(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return F(function*(){if(!t.redirectPersistenceManager){const r=e&&pl(e)||t._popupRedirectResolver;ne(r,t,"argument-error"),t.redirectPersistenceManager=yield Lp.create(t,[pl(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return F(function*(){var r,i;return t._isInitialized&&(yield t.queue(F(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return F(function*(){if(e===t.currentUser)return t.queue(F(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{a=!0,l()}}{const l=e.addObserver(t);return()=>{a=!0,l()}}}directlySetCurrentUser(e){var t=this;return F(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ure(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return F(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return F(function*(){var t;if(Ko(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function qje(n,...e){XI.logLevel<=ct.WARN&&XI.warn(`Auth (${Rp}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wn(n){return Ln(n)}class dre{constructor(e){this.auth=e,this.observer=null,this.addObserver=function CHe(n,e){const t=new EHe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ey={loadJS:()=>F(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uV(n){return Ey.loadJS(n)}function hre(n){return`__${n}${Math.floor(1e6*Math.random())}`}class T4e{constructor(){this.enterprise=new I4e}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class I4e{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ty="NO_RECAPTCHA";class fre{constructor(e){this.type="recaptcha-enterprise",this.auth=Wn(e)}verify(){var e=this;return F(function*(t="verify",r=!1){function o(){return o=F(function*(s){if(!r){if(null==s.tenantId&&null!=s._agentRecaptchaConfig)return s._agentRecaptchaConfig.siteKey;if(null!=s.tenantId&&void 0!==s._tenantRecaptchaConfigs[s.tenantId])return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(function(){var l=F(function*(c,u){(function Xne(n,e){return XL.apply(this,arguments)})(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new Kne(d);return null==s.tenantId?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function a(s,l,c){const u=window.grecaptcha;Yne(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(d=>{l(d)}).catch(()=>{l(Ty)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return e.auth.settings.appVerificationDisabledForTesting?(new T4e).execute("siteKey",{action:"verify"}):new Promise((s,l)=>{(function i(s){return o.apply(this,arguments)})(e.auth).then(c=>{if(!r&&Yne(window.grecaptcha))a(c,s,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));let u=function y4e(){return Ey.recaptchaEnterpriseScript}();0!==u.length&&(u+=c),uV(u).then(()=>{a(c,s,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}).apply(this,arguments)}}function Iy(n,e,t){return dV.apply(this,arguments)}function dV(){return dV=F(function*(n,e,t,r=!1,i=!1){const o=new fre(n);let a;if(i)a=Ty;else try{a=yield o.verify(t)}catch{a=yield o.verify(t,!0)}const s=Object.assign({},e);return"mfaSmsEnrollment"===t||"mfaSmsSignIn"===t?("phoneEnrollmentInfo"in s?Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:s.phoneEnrollmentInfo.phoneNumber,recaptchaToken:s.phoneEnrollmentInfo.recaptchaToken,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in s&&Object.assign(s,{phoneSignInInfo:{recaptchaToken:s.phoneSignInInfo.recaptchaToken,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),s):(Object.assign(s,r?{captchaResp:a}:{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s)}),dV.apply(this,arguments)}function Sc(n,e,t,r,i){return hV.apply(this,arguments)}function hV(){return hV=F(function*(n,e,t,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null!==(o=n._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield Iy(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=F(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=yield Iy(n,e,t,"getOobCode"===t);return r(n,c)}return Promise.reject(l)});return function(l){return s.apply(this,arguments)}}())}if("PHONE_PROVIDER"===i){if(null!==(a=n._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const s=yield Iy(n,e,t);return r(n,s).catch(function(){var l=F(function*(c){var u;if("AUDIT"===(null===(u=n._getRecaptchaConfig())||void 0===u?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===c.code||"auth/invalid-app-credential"===c.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=yield Iy(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)});return function(c){return l.apply(this,arguments)}}())}{const s=yield Iy(n,e,t,!1,!0);return r(n,s)}}return Promise.reject(i+" provider is not supported.")}),hV.apply(this,arguments)}function mre(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gre(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Dy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}function N4e(n,e){return gV.apply(this,arguments)}function gV(){return gV=F(function*(n,e){return hn(n,"POST","/v1/accounts:signUp",e)}),gV.apply(this,arguments)}function L4e(n,e){return _V.apply(this,arguments)}function _V(){return _V=F(function*(n,e){return hl(n,"POST","/v1/accounts:signInWithPassword",dn(n,e))}),_V.apply(this,arguments)}function TV(){return TV=F(function*(n,e){return hl(n,"POST","/v1/accounts:signInWithEmailLink",dn(n,e))}),TV.apply(this,arguments)}function IV(){return IV=F(function*(n,e){return hl(n,"POST","/v1/accounts:signInWithEmailLink",dn(n,e))}),IV.apply(this,arguments)}class Sy extends Dy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Sy(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Sy(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return F(function*(){switch(t.signInMethod){case"password":return Sc(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",L4e,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function H4e(n,e){return TV.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Zi(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return F(function*(){switch(r.signInMethod){case"password":return Sc(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N4e,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function j4e(n,e){return IV.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Zi(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ml(n,e){return DV.apply(this,arguments)}function DV(){return DV=F(function*(n,e){return hl(n,"POST","/v1/accounts:signInWithIdp",dn(n,e))}),DV.apply(this,arguments)}class My{constructor(e){var t,r,i,o,a,s;const l=hy(fy(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function K4e(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);ne(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=l.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function X4e(n){const e=hy(fy(n)).link,t=e?hy(fy(e)).deep_link_id:null,r=hy(fy(n)).deep_link_id;return(r?hy(fy(r)).link:null)||r||t||e||n}(e);try{return new My(t)}catch{return null}}}let yre=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Sy._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=My.parseLink(r);return ne(i,"argument-error"),Sy._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class gl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Q4e extends gl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function bre(n,e){return PV.apply(this,arguments)}function PV(){return PV=F(function*(n,e){return hl(n,"POST","/v1/accounts:signUp",dn(n,e))}),PV.apply(this,arguments)}class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return F(function*(i,o,a,s=!1){const l=yield Na._fromIdTokenResponse(i,a,s),c=wre(a);return new Zo({user:l,providerId:c,_tokenResponse:a,operationType:o})}).apply(this,arguments)}static _forOperation(e,t,r){return F(function*(){yield e._updateTokensIfNecessary(r,!0);const i=wre(r);return new Zo({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function wre(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class iD extends ll{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,iD.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new iD(e,t,r,i)}}function Cre(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?iD._fromErrorAndOperation(n,o,e,r):o})}function FV(){return FV=F(function*(n,e,t=!1){const r=yield fl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zo._forOperation(n,"link",r)}),FV.apply(this,arguments)}function VV(){return VV=F(function*(n,e,t=!1){const{auth:r}=n;if(Ko(r.app))return Promise.reject(br(r));const i="reauthenticate";try{const o=yield fl(n,Cre(r,i,e,n),t);ne(o.idToken,r,"internal-error");const a=JI(o.idToken);ne(a,r,"internal-error");const{sub:s}=a;return ne(n.uid===s,r,"user-mismatch"),Zo._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Zi(r,"user-mismatch"),o}}),VV.apply(this,arguments)}function Ire(n,e){return BV.apply(this,arguments)}function BV(){return BV=F(function*(n,e,t=!1){if(Ko(n.app))return Promise.reject(br(n));const r="signIn",i=yield Cre(n,r,e),o=yield Zo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o}),BV.apply(this,arguments)}function zV(){return zV=F(function*(n,e){return Ire(Wn(n),e)}),zV.apply(this,arguments)}function YV(n){return KV.apply(this,arguments)}function KV(){return KV=F(function*(n){const e=Wn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),KV.apply(this,arguments)}function t2(){return t2=F(function*(n,e,t){if(Ko(n.app))return Promise.reject(br(n));const r=Wn(n),a=yield Sc(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bre,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw"auth/password-does-not-meet-requirements"===l.code&&YV(n),l}),s=yield Zo._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(s.user),s}),t2.apply(this,arguments)}function o5e(n,e,t){return Ko(n.app)?Promise.reject(br(n)):function UV(n,e){return zV.apply(this,arguments)}(Ln(n),yre.credential(e,t)).catch(function(){var r=F(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&YV(n),i});return function(i){return r.apply(this,arguments)}}())}function xre(n,e,t,r){return Ln(n).onAuthStateChanged(e,t,r)}function m5e(n){return Ln(n).signOut()}const sD="__sak";class Mre{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sD,"1"),this.storage.removeItem(sD),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const w5e=(()=>{class n extends Mre{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cre(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});const i=t.key;r?this.detachListener():this.stopPolling();const o=()=>{const s=this.storage.getItem(i);!r&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);!function d4e(){return function gHe(){const n=qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||a===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return F(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return F(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return F(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Rre=(()=>{class n extends Mre{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let E5e=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return F(function*(){const i=t,{eventId:o,eventType:a,data:s}=i.data,l=r.handlersMap[a];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const c=Array.from(l).map(function(){var d=F(function*(h){return h(i.origin,s)});return function(h){return d.apply(this,arguments)}}()),u=yield function C5e(n){return Promise.all(n.map(function(){var e=F(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function g2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class T5e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return F(function*(i,o,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((u,d)=>{const h=g2("",20);s.port1.start();const f=setTimeout(()=>{d(new Error("unsupported_event"))},a);c={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),u(g.data.response);break;default:clearTimeout(f),clearTimeout(l),d(new Error("invalid_response"))}}},r.handlers.add(c),s.port1.addEventListener("message",c.onMessage),r.target.postMessage({eventType:i,eventId:h,data:o},[s.port2])}).finally(()=>{c&&r.removeMessageHandler(c)})}).apply(this,arguments)}}function tr(){return window}function v2(){return typeof tr().WorkerGlobalScope<"u"&&"function"==typeof tr().importScripts}function _2(){return(_2=F(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pre="firebaseLocalStorageDb",lD="firebaseLocalStorage",kre="fbase_key";class ky{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cD(n,e){return n.transaction([lD],e?"readwrite":"readonly").objectStore(lD)}function y2(){const n=indexedDB.open(Pre,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lD,{keyPath:"fbase_key"})}catch(i){t(i)}}),n.addEventListener("success",F(function*(){const r=n.result;r.objectStoreNames.contains(lD)?e(r):(r.close(),yield function M5e(){const n=indexedDB.deleteDatabase(Pre);return new ky(n).toPromise()}(),e(yield y2()))}))})}function Ore(n,e,t){return b2.apply(this,arguments)}function b2(){return b2=F(function*(n,e,t){const r=cD(n,!0).put({[kre]:e,value:t});return new ky(r).toPromise()}),b2.apply(this,arguments)}function w2(){return w2=F(function*(n,e){const t=cD(n,!1).get(e),r=yield new ky(t).toPromise();return void 0===r?null:r.value}),w2.apply(this,arguments)}function Nre(n,e){const t=cD(n,!0).delete(e);return new ky(t).toPromise()}const O5e=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return F(function*(){return t.db||(t.db=yield y2()),t.db})()}_withRetries(t){var r=this;return F(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return F(function*(){return v2()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return F(function*(){t.receiver=E5e._getInstance(function x5e(){return v2()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=F(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=F(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return F(function*(){var r,i;if(t.activeServiceWorker=yield function D5e(){return _2.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new T5e(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return F(function*(){if(r.sender&&r.activeServiceWorker&&function S5e(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return F(function*(){try{if(!indexedDB)return!1;const t=yield y2();return yield Ore(t,sD,"1"),yield Nre(t,sD),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return F(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return F(function*(){return i._withPendingWrite(F(function*(){return yield i._withRetries(o=>Ore(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return F(function*(){const i=yield r._withRetries(o=>function R5e(n,e){return w2.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return F(function*(){return r._withPendingWrite(F(function*(){return yield r._withRetries(i=>Nre(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return F(function*(){const r=yield t._withRetries(a=>{const s=cD(a,!1).getAll();return new ky(s).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:a,value:s}of r)o.add(a),JSON.stringify(t.localCache[a])!==JSON.stringify(s)&&(t.notifyListeners(a,s),i.push(a));for(const a of Object.keys(t.localCache))t.localCache[a]&&!o.has(a)&&(t.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(F(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();hre("rcb"),new yy(3e4,6e4);class P2 extends Dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ml(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function j5e(n){return Ire(n.auth,new P2(n),n.bypassAuthState)}function $5e(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),function Tre(n,e){return VV.apply(this,arguments)}(t,new P2(n),n.bypassAuthState)}function G5e(n){return k2.apply(this,arguments)}function k2(){return k2=F(function*(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),function NV(n,e){return FV.apply(this,arguments)}(t,new P2(n),n.bypassAuthState)}),k2.apply(this,arguments)}class q5e{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=F(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return F(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:a,error:s,type:l}=e;if(s)return void t.reject(s);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j5e;case"linkViaPopup":case"linkViaRedirect":return G5e;case"reauthViaPopup":case"reauthViaRedirect":return $5e;default:Zi(this.auth,"internal-error")}}resolve(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new yy(2e3,1e4);const Ny=new Map;class Y5e extends q5e{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return F(function*(){let r=Ny.get(t.auth._key());if(!r){try{const o=(yield function K5e(n,e){return V2.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Ny.set(t.auth._key(),r)}return t.bypassAuthState||Ny.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return F(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return F(function*(){})()}cleanUp(){}}function V2(){return V2=F(function*(n,e){const t=function Vre(n){return eD("pendingRedirect",n.config.apiKey,n.name)}(e),r=function Lre(n){return pl(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),V2.apply(this,arguments)}function X5e(n,e){Ny.set(n._key(),e)}function Bre(n,e){return G2.apply(this,arguments)}function G2(){return G2=F(function*(n,e,t=!1){if(Ko(n.app))return Promise.reject(br(n));const r=Wn(n),i=function Hd(n,e){return e?pl(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),a=yield new Y5e(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a}),G2.apply(this,arguments)}class t$e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function n$e(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hre(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Hre(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zre(e))}saveEventToCache(e){this.cachedEventUids.add(zre(e)),this.lastProcessedEventTime=Date.now()}}function zre(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Hre({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function W2(){return W2=F(function*(n,e={}){return hn(n,"GET","/v1/projects",e)}),W2.apply(this,arguments)}const i$e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o$e=/^https?/;function Y2(){return Y2=F(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function r$e(n){return W2.apply(this,arguments)}(n);for(const t of e)try{if(s$e(t))return}catch{}Zi(n,"unauthorized-domain")}),Y2.apply(this,arguments)}function s$e(n){const e=_y(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return""===a.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&a.hostname===r}if(!o$e.test(t))return!1;if(i$e.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const l$e=new yy(3e4,6e4);function jre(){const n=tr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let uD=null;const d$e=new yy(5e3,15e3),p$e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m$e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g$e(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$L(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Rp},i=m$e.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dy(r).slice(1)}`}function K2(){return K2=F(function*(n){const e=yield function u$e(n){return uD=uD||function c$e(n){return new Promise((e,t)=>{var r,i,o;function a(){jre(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jre(),t(Qo(n,"network-request-failed"))},timeout:l$e.get()})}if(null!==(i=null===(r=tr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=tr().gapi)||void 0===o||!o.load){const s=hre("iframefcb");return tr()[s]=()=>{gapi.load?a():t(Qo(n,"network-request-failed"))},uV(`${function b4e(){return Ey.gapiScript}()}?onload=${s}`).catch(l=>t(l))}a()}}).catch(e=>{throw uD=null,e})}(n),uD}(n),t=tr().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:g$e(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p$e,dontclear:!0},r=>new Promise(function(){var i=F(function*(o,a){yield r.restyle({setHideOnLeave:!1});const s=Qo(n,"network-request-failed"),l=tr().setTimeout(()=>{a(s)},d$e.get());function c(){tr().clearTimeout(l),o(r)}r.ping(c).then(c,()=>{a(s)})});return function(o,a){return i.apply(this,arguments)}}()))}),K2.apply(this,arguments)}const _$e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $re{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const S$e=encodeURIComponent("fac");function Gre(n,e,t,r,i,o){return X2.apply(this,arguments)}function X2(){return X2=F(function*(n,e,t,r,i,o){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Rp,eventId:i};if(e instanceof gl){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",function wHe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))a[u]=d}if(e instanceof Q4e){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(a.scopes=u.join(","))}n.tenantId&&(a.tid=n.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=yield n._getAppCheckToken(),c=l?`#${S$e}=${encodeURIComponent(l)}`:"";return`${function x$e({config:n}){return n.emulator?$L(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${dy(s).slice(1)}${c}`}),X2.apply(this,arguments)}const Q2="webStorageSupport",M$e=class A$e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rre,this._completeRedirectFn=Bre,this._overrideRedirectResult=X5e}_openPopup(e,t,r,i){var o=this;return F(function*(){var a;Ic(null===(a=o.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const s=yield Gre(e,t,r,_y(),i);return function E$e(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},_$e),{width:r.toString(),height:i.toString(),top:o,left:a}),c=qn().toLowerCase();t&&(s=ire(c)?"_blank":t),nre(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function u4e(n=qn()){var e;return lV(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==s)return function T$e(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",s),new $re(null);const d=window.open(e||"",s,u);ne(d,n,"popup-blocked");try{d.focus()}catch{}return new $re(d)}(e,s,g2())})()}_openRedirect(e,t,r,i){var o=this;return F(function*(){return yield o._originValidation(e),function I5e(n){tr().location.href=n}(yield Gre(e,t,r,_y(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ic(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return F(function*(){const r=yield function v$e(n){return K2.apply(this,arguments)}(e),i=new t$e(e);return r.register("authEvent",o=>(ne(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Q2,{type:Q2},i=>{var o;const a=null===(o=i?.[0])||void 0===o?void 0:o[Q2];void 0!==a&&t(!!a),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function a$e(n){return Y2.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cre()||rre()||lV()}};var Kre="@firebase/auth";class R$e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return F(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const N$e=Gte("authIdTokenMaxAge")||300;let Qre=null;const F$e=n=>function(){var e=F(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>N$e)return;const o=r?.token;Qre!==o&&(Qre=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function L$e(n=lL()){const e=UI(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function A4e(n,e){const t=UI(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(cl(t.getOptions(),e??{}))return i;Zi(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:M$e,persistence:[O5e,w5e,Rre]}),r=Gte("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=F$e(o.toString());(function p5e(n,e,t){Ln(n).beforeAuthStateChanged(e,t)})(t,a,()=>a(t.currentUser)),function f5e(n,e,t,r){Ln(n).onIdTokenChanged(e,t,r)}(t,s=>a(s))}}const i=jte("auth");return i&&function R4e(n,e,t){const r=Wn(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=mre(e),{host:a,port:s}=function P4e(n){const e=mre(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:gre(r.substr(o.length+1))}}{const[o,a]=r.split(":");return{host:o,port:gre(a)}}}(e),l=null===s?"":`:${s}`,c={url:`${o}//${a}${l}/`},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ne(cl(c,r.config.emulator)&&cl(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,cy(a)?(qte(`${o}//${a}${l}`),Yte("Auth",!0)):i||function k4e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function v4e(n){Ey=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Qo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function V$e(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function k$e(n){Ec(new ul("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ure(n)},c=new g4e(r,i,o,l);return function M4e(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(pl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ec(new ul("auth-internal",e=>{const t=Wn(e.getProvider("auth").getImmediate());return new R$e(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(Kre,"1.10.6",function P$e(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Di(Kre,"1.10.6","esm2017")}("Browser");class Fy{constructor(e){return e}}class Jre{constructor(){return pL("auth")}}const J2=new W("angularfire2.auth-instances");function U$e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Fy(r)}}const z$e={provide:Jre,deps:[[new Dr,J2]]},H$e={provide:Fy,useFactory:function B$e(n,e){const t=fL("auth",n,e);return t&&new Fy(t)},deps:[[new Dr,J2],kp]},$$e=wo(L$e,!0),eie=wo(o5e,!0,2),G$e=wo(m5e,!0,2);var xc,rie,tie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nie={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(T,E,D){D||(D=0);var S=Array(16);if("string"==typeof E)for(var x=0;16>x;++x)S[x]=E.charCodeAt(D++)|E.charCodeAt(D++)<<8|E.charCodeAt(D++)<<16|E.charCodeAt(D++)<<24;else for(x=0;16>x;++x)S[x]=E[D++]|E[D++]<<8|E[D++]<<16|E[D++]<<24;var N=T.g[3],R=(E=T.g[0])+(N^(D=T.g[1])&((x=T.g[2])^N))+S[0]+3614090360&4294967295;R=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=(D=(x=(N=(E=D+(R<<7&4294967295|R>>>25))+((R=N+(x^E&(D^x))+S[1]+3905402710&4294967295)<<12&4294967295|R>>>20))+((R=x+(D^N&(E^D))+S[2]+606105819&4294967295)<<17&4294967295|R>>>15))+((R=D+(E^x&(N^E))+S[3]+3250441966&4294967295)<<22&4294967295|R>>>10))+((R=E+(N^D&(x^N))+S[4]+4118548399&4294967295)<<7&4294967295|R>>>25))+((R=N+(x^E&(D^x))+S[5]+1200080426&4294967295)<<12&4294967295|R>>>20))+((R=x+(D^N&(E^D))+S[6]+2821735955&4294967295)<<17&4294967295|R>>>15))+((R=D+(E^x&(N^E))+S[7]+4249261313&4294967295)<<22&4294967295|R>>>10))+((R=E+(N^D&(x^N))+S[8]+1770035416&4294967295)<<7&4294967295|R>>>25))+((R=N+(x^E&(D^x))+S[9]+2336552879&4294967295)<<12&4294967295|R>>>20))+((R=x+(D^N&(E^D))+S[10]+4294925233&4294967295)<<17&4294967295|R>>>15))+((R=D+(E^x&(N^E))+S[11]+2304563134&4294967295)<<22&4294967295|R>>>10))+((R=E+(N^D&(x^N))+S[12]+1804603682&4294967295)<<7&4294967295|R>>>25))+((R=N+(x^E&(D^x))+S[13]+4254626195&4294967295)<<12&4294967295|R>>>20))+((R=x+(D^N&(E^D))+S[14]+2792965006&4294967295)<<17&4294967295|R>>>15))+((R=D+(E^x&(N^E))+S[15]+1236535329&4294967295)<<22&4294967295|R>>>10))+((R=E+(x^N&(D^x))+S[1]+4129170786&4294967295)<<5&4294967295|R>>>27))+((R=N+(D^x&(E^D))+S[6]+3225465664&4294967295)<<9&4294967295|R>>>23))+((R=x+(E^D&(N^E))+S[11]+643717713&4294967295)<<14&4294967295|R>>>18))+((R=D+(N^E&(x^N))+S[0]+3921069994&4294967295)<<20&4294967295|R>>>12))+((R=E+(x^N&(D^x))+S[5]+3593408605&4294967295)<<5&4294967295|R>>>27))+((R=N+(D^x&(E^D))+S[10]+38016083&4294967295)<<9&4294967295|R>>>23))+((R=x+(E^D&(N^E))+S[15]+3634488961&4294967295)<<14&4294967295|R>>>18))+((R=D+(N^E&(x^N))+S[4]+3889429448&4294967295)<<20&4294967295|R>>>12))+((R=E+(x^N&(D^x))+S[9]+568446438&4294967295)<<5&4294967295|R>>>27))+((R=N+(D^x&(E^D))+S[14]+3275163606&4294967295)<<9&4294967295|R>>>23))+((R=x+(E^D&(N^E))+S[3]+4107603335&4294967295)<<14&4294967295|R>>>18))+((R=D+(N^E&(x^N))+S[8]+1163531501&4294967295)<<20&4294967295|R>>>12))+((R=E+(x^N&(D^x))+S[13]+2850285829&4294967295)<<5&4294967295|R>>>27))+((R=N+(D^x&(E^D))+S[2]+4243563512&4294967295)<<9&4294967295|R>>>23))+((R=x+(E^D&(N^E))+S[7]+1735328473&4294967295)<<14&4294967295|R>>>18))+((R=D+(N^E&(x^N))+S[12]+2368359562&4294967295)<<20&4294967295|R>>>12))+((R=E+(D^x^N)+S[5]+4294588738&4294967295)<<4&4294967295|R>>>28))+((R=N+(E^D^x)+S[8]+2272392833&4294967295)<<11&4294967295|R>>>21))+((R=x+(N^E^D)+S[11]+1839030562&4294967295)<<16&4294967295|R>>>16))+((R=D+(x^N^E)+S[14]+4259657740&4294967295)<<23&4294967295|R>>>9))+((R=E+(D^x^N)+S[1]+2763975236&4294967295)<<4&4294967295|R>>>28))+((R=N+(E^D^x)+S[4]+1272893353&4294967295)<<11&4294967295|R>>>21))+((R=x+(N^E^D)+S[7]+4139469664&4294967295)<<16&4294967295|R>>>16))+((R=D+(x^N^E)+S[10]+3200236656&4294967295)<<23&4294967295|R>>>9))+((R=E+(D^x^N)+S[13]+681279174&4294967295)<<4&4294967295|R>>>28))+((R=N+(E^D^x)+S[0]+3936430074&4294967295)<<11&4294967295|R>>>21))+((R=x+(N^E^D)+S[3]+3572445317&4294967295)<<16&4294967295|R>>>16))+((R=D+(x^N^E)+S[6]+76029189&4294967295)<<23&4294967295|R>>>9))+((R=E+(D^x^N)+S[9]+3654602809&4294967295)<<4&4294967295|R>>>28))+((R=N+(E^D^x)+S[12]+3873151461&4294967295)<<11&4294967295|R>>>21))+((R=x+(N^E^D)+S[15]+530742520&4294967295)<<16&4294967295|R>>>16))+((R=D+(x^N^E)+S[2]+3299628645&4294967295)<<23&4294967295|R>>>9))+((R=E+(x^(D|~N))+S[0]+4096336452&4294967295)<<6&4294967295|R>>>26))+((R=N+(D^(E|~x))+S[7]+1126891415&4294967295)<<10&4294967295|R>>>22))+((R=x+(E^(N|~D))+S[14]+2878612391&4294967295)<<15&4294967295|R>>>17))+((R=D+(N^(x|~E))+S[5]+4237533241&4294967295)<<21&4294967295|R>>>11))+((R=E+(x^(D|~N))+S[12]+1700485571&4294967295)<<6&4294967295|R>>>26))+((R=N+(D^(E|~x))+S[3]+2399980690&4294967295)<<10&4294967295|R>>>22))+((R=x+(E^(N|~D))+S[10]+4293915773&4294967295)<<15&4294967295|R>>>17))+((R=D+(N^(x|~E))+S[1]+2240044497&4294967295)<<21&4294967295|R>>>11))+((R=E+(x^(D|~N))+S[8]+1873313359&4294967295)<<6&4294967295|R>>>26))+((R=N+(D^(E|~x))+S[15]+4264355552&4294967295)<<10&4294967295|R>>>22))+((R=x+(E^(N|~D))+S[6]+2734768916&4294967295)<<15&4294967295|R>>>17))+((R=D+(N^(x|~E))+S[13]+1309151649&4294967295)<<21&4294967295|R>>>11))+((N=(E=D+((R=E+(x^(D|~N))+S[4]+4149444226&4294967295)<<6&4294967295|R>>>26))+((R=N+(D^(E|~x))+S[11]+3174756917&4294967295)<<10&4294967295|R>>>22))^((x=N+((R=x+(E^(N|~D))+S[2]+718787259&4294967295)<<15&4294967295|R>>>17))|~E))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+N&4294967295}function a(T,E){this.h=E;for(var D=[],S=!0,x=T.length-1;0<=x;x--){var N=0|T[x];S&&N==E||(D[x]=N,S=!1)}this.g=D}(function e(T,E){function D(){}D.prototype=E.prototype,T.D=E.prototype,T.prototype=new D,T.prototype.constructor=T,T.C=function(S,x,N){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return E.prototype[x].apply(S,R)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(T,E){void 0===E&&(E=T.length);for(var D=E-this.blockSize,S=this.B,x=this.h,N=0;N<E;){if(0==x)for(;N<=D;)i(this,T,N),N+=this.blockSize;if("string"==typeof T){for(;N<E;)if(S[x++]=T.charCodeAt(N++),x==this.blockSize){i(this,S),x=0;break}}else for(;N<E;)if(S[x++]=T[N++],x==this.blockSize){i(this,S),x=0;break}}this.h=x,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var D=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=255&D,D/=256;for(this.u(T),T=Array(16),E=D=0;4>E;++E)for(var S=0;32>S;S+=8)T[D++]=this.g[E]>>>S&255;return T};var s={};function l(T){return-128<=T&&128>T?function o(T,E){var D=s;return Object.prototype.hasOwnProperty.call(D,T)?D[T]:D[T]=E(T)}(T,function(E){return new a([0|E],0>E?-1:0)}):new a([0|T],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(c(-T));for(var E=[],D=1,S=0;T>=D;S++)E[S]=T/D|0,D*=4294967296;return new a(E,0)}var d=l(0),h=l(1),f=l(16777216);function p(T){if(0!=T.h)return!1;for(var E=0;E<T.g.length;E++)if(0!=T.g[E])return!1;return!0}function g(T){return-1==T.h}function v(T){for(var E=T.g.length,D=[],S=0;S<E;S++)D[S]=~T.g[S];return new a(D,~T.h).add(h)}function _(T,E){return T.add(v(E))}function y(T,E){for(;(65535&T[E])!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function w(T,E){this.g=T,this.h=E}function I(T,E){if(p(E))throw Error("division by zero");if(p(T))return new w(d,d);if(g(T))return E=I(v(T),E),new w(v(E.g),v(E.h));if(g(E))return E=I(T,v(E)),new w(v(E.g),E.h);if(30<T.g.length){if(g(T)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var D=h,S=E;0>=S.l(T);)D=M(D),S=M(S);var x=P(D,1),N=P(S,1);for(S=P(S,2),D=P(D,2);!p(S);){var R=N.add(S);0>=R.l(T)&&(x=x.add(D),N=R),S=P(S,1),D=P(D,1)}return E=_(T,x.j(E)),new w(x,E)}for(x=d;0<=T.l(E);){for(D=Math.max(1,Math.floor(T.m()/E.m())),S=48>=(S=Math.ceil(Math.log(D)/Math.LN2))?1:Math.pow(2,S-48),R=(N=c(D)).j(E);g(R)||0<R.l(T);)R=(N=c(D-=S)).j(E);p(N)&&(N=h),x=x.add(N),T=_(T,R)}return new w(x,T)}function M(T){for(var E=T.g.length+1,D=[],S=0;S<E;S++)D[S]=T.i(S)<<1|T.i(S-1)>>>31;return new a(D,T.h)}function P(T,E){var D=E>>5;E%=32;for(var S=T.g.length-D,x=[],N=0;N<S;N++)x[N]=0<E?T.i(N+D)>>>E|T.i(N+D+1)<<32-E:T.i(N+D);return new a(x,T.h)}(n=a.prototype).m=function(){if(g(this))return-v(this).m();for(var T=0,E=1,D=0;D<this.g.length;D++){var S=this.i(D);T+=(0<=S?S:4294967296+S)*E,E*=4294967296}return T},n.toString=function(T){if(2>(T=T||10)||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(g(this))return"-"+v(this).toString(T);for(var E=c(Math.pow(T,6)),D=this,S="";;){var x=I(D,E).g,N=((0<(D=_(D,x.j(E))).g.length?D.g[0]:D.h)>>>0).toString(T);if(p(D=x))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h},n.l=function(T){return g(T=_(this,T))?-1:p(T)?0:1},n.abs=function(){return g(this)?v(this):this},n.add=function(T){for(var E=Math.max(this.g.length,T.g.length),D=[],S=0,x=0;x<=E;x++){var N=S+(65535&this.i(x))+(65535&T.i(x)),R=(N>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);S=R>>>16,D[x]=(R&=65535)<<16|(N&=65535)}return new a(D,-2147483648&D[D.length-1]?-1:0)},n.j=function(T){if(p(this)||p(T))return d;if(g(this))return g(T)?v(this).j(v(T)):v(v(this).j(T));if(g(T))return v(this.j(v(T)));if(0>this.l(f)&&0>T.l(f))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,D=[],S=0;S<2*E;S++)D[S]=0;for(S=0;S<this.g.length;S++)for(var x=0;x<T.g.length;x++){var N=this.i(S)>>>16,R=65535&this.i(S),q=T.i(x)>>>16,ee=65535&T.i(x);D[2*S+2*x]+=R*ee,y(D,2*S+2*x),D[2*S+2*x+1]+=N*ee,y(D,2*S+2*x+1),D[2*S+2*x+1]+=R*q,y(D,2*S+2*x+1),D[2*S+2*x+2]+=N*q,y(D,2*S+2*x+2)}for(S=0;S<E;S++)D[S]=D[2*S+1]<<16|D[2*S];for(S=E;S<2*E;S++)D[S]=0;return new a(D,0)},n.A=function(T){return I(this,T).h},n.and=function(T){for(var E=Math.max(this.g.length,T.g.length),D=[],S=0;S<E;S++)D[S]=this.i(S)&T.i(S);return new a(D,this.h&T.h)},n.or=function(T){for(var E=Math.max(this.g.length,T.g.length),D=[],S=0;S<E;S++)D[S]=this.i(S)|T.i(S);return new a(D,this.h|T.h)},n.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),D=[],S=0;S<E;S++)D[S]=this.i(S)^T.i(S);return new a(D,this.h^T.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rie=nie.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=function u(T,E){if(0==T.length)throw Error("number format error: empty string");if(2>(E=E||10)||36<E)throw Error("radix out of range: "+E);if("-"==T.charAt(0))return v(u(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(E,8)),S=d,x=0;x<T.length;x+=8){var N=Math.min(8,T.length-x),R=parseInt(T.substring(x,x+N),E);8>N?(N=c(Math.pow(E,N)),S=S.j(N).add(c(R))):S=(S=S.j(D)).add(c(R))}return S},xc=nie.Integer=a}).apply(typeof tie<"u"?tie:typeof self<"u"?self:typeof window<"u"?window:{});var iie,Ly,oie,fD,eB,aie,sie,lie,hD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vl={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(m,b,C){return m==Array.prototype||m==Object.prototype||(m[b]=C.value),m},r=function t(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof hD&&hD];for(var b=0;b<m.length;++b){var C=m[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}(this);!function i(m,b){if(b)e:{var C=r;m=m.split(".");for(var k=0;k<m.length-1;k++){var B=m[k];if(!(B in C))break e;C=C[B]}(b=b(k=C[m=m[m.length-1]]))!=k&&null!=b&&e(C,m,{configurable:!0,writable:!0,value:b})}}("Array.prototype.values",function(m){return m||function(){return function o(m,b){m instanceof String&&(m+="");var C=0,k=!1,B={next:function(){if(!k&&C<m.length){var G=C++;return{value:b(G,m[G]),done:!1}}return k=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}(this,function(b,C){return C})}});var a=a||{},s=this||self;function l(m){var b=typeof m;return"array"==(b="object"!=b?b:m?Array.isArray(m)?"array":b:"null")||"object"==b&&"number"==typeof m.length}function c(m){var b=typeof m;return"object"==b&&null!=m||"function"==b}function u(m,b,C){return m.call.apply(m.bind,arguments)}function d(m,b,C){if(!m)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,k),m.apply(b,B)}}return function(){return m.apply(b,arguments)}}function h(m,b,C){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:d).apply(null,arguments)}function f(m,b){var C=Array.prototype.slice.call(arguments,1);return function(){var k=C.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function p(m,b){function C(){}C.prototype=b.prototype,m.aa=b.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(k,B,G){for(var se=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)se[qt-2]=arguments[qt];return b.prototype[B].apply(k,se)}}function g(m){const b=m.length;if(0<b){const C=Array(b);for(let k=0;k<b;k++)C[k]=m[k];return C}return[]}function v(m,b){for(let C=1;C<arguments.length;C++){const k=arguments[C];if(l(k)){const B=m.length||0,G=k.length||0;m.length=B+G;for(let se=0;se<G;se++)m[B+se]=k[se]}else m.push(k)}}function y(m){return/^[\s\xa0]*$/.test(m)}function w(){var m=s.navigator;return m&&(m=m.userAgent)?m:""}function I(m){return I[" "](m),m}I[" "]=function(){};var M=!(-1==w().indexOf("Gecko")||-1!=w().toLowerCase().indexOf("webkit")&&-1==w().indexOf("Edge")||-1!=w().indexOf("Trident")||-1!=w().indexOf("MSIE")||-1!=w().indexOf("Edge"));function P(m,b,C){for(const k in m)b.call(C,m[k],k,m)}function E(m){const b={};for(const C in m)b[C]=m[C];return b}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(m,b){let C,k;for(let B=1;B<arguments.length;B++){for(C in k=arguments[B],k)m[C]=k[C];for(let G=0;G<D.length;G++)C=D[G],Object.prototype.hasOwnProperty.call(k,C)&&(m[C]=k[C])}}function x(m){var b=1;m=m.split(":");const C=[];for(;0<b&&m.length;)C.push(m.shift()),b--;return m.length&&C.push(m.join(":")),C}function N(m){s.setTimeout(()=>{throw m},0)}function R(){var m=de;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}var ee=new class _{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,pe=!1,de=new class q{constructor(){this.h=this.g=null}add(b,C){const k=ee.get();k.set(b,C),this.h?this.h.next=k:this.g=k,this.h=k}},Ee=()=>{const m=s.Promise.resolve(void 0);ve=()=>{m.then(ze)}};var ze=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(C){N(C)}var b=ee;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}pe=!1};function Ce(){this.s=this.s,this.C=this.C}function Qe(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Qe.prototype.h=function(){this.defaultPrevented=!0};var ir=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};s.addEventListener("test",C,b),s.removeEventListener("test",C,b)}catch{}return m}();function mr(m,b){if(Qe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(M){e:{try{I(b.nodeName);var B=!0;break e}catch{}B=!1}B||(b=null)}}else"mouseover"==C?b=m.fromElement:"mouseout"==C&&(b=m.toElement);this.relatedTarget=b,k?(this.clientX=void 0!==k.clientX?k.clientX:k.pageX,this.clientY=void 0!==k.clientY?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:ta[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&mr.aa.h.call(this)}}p(mr,Qe);var ta={2:"touch",3:"pen",4:"mouse"};mr.prototype.h=function(){mr.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Tr="closure_listenable_"+(1e6*Math.random()|0),Ri=0;function gr(m,b,C,k,B){this.listener=m,this.proxy=null,this.src=b,this.type=C,this.capture=!!k,this.ha=B,this.key=++Ri,this.da=this.fa=!1}function an(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Le(m){this.src=m,this.g={},this.h=0}function Ze(m,b){var C=b.type;if(C in m.g){var G,k=m.g[C],B=Array.prototype.indexOf.call(k,b,void 0);(G=0<=B)&&Array.prototype.splice.call(k,B,1),G&&(an(b),0==m.g[C].length&&(delete m.g[C],m.h--))}}function to(m,b,C,k){for(var B=0;B<m.length;++B){var G=m[B];if(!G.da&&G.listener==b&&G.capture==!!C&&G.ha==k)return B}return-1}Le.prototype.add=function(m,b,C,k,B){var G=m.toString();(m=this.g[G])||(m=this.g[G]=[],this.h++);var se=to(m,b,k,B);return-1<se?(b=m[se],C||(b.fa=!1)):((b=new gr(b,this.src,G,!!k,B)).fa=C,m.push(b)),b};var Un="closure_lm_"+(1e6*Math.random()|0),na={};function ra(m,b,C,k,B){if(k&&k.once)return Sl(m,b,C,k,B);if(Array.isArray(b)){for(var G=0;G<b.length;G++)ra(m,b[G],C,k,B);return null}return C=$H(C),m&&m[Tr]?m.K(b,C,c(k)?!!k.capture:!!k,B):ru(m,b,C,!1,k,B)}function ru(m,b,C,k,B,G){if(!b)throw Error("Invalid event type");var se=c(B)?!!B.capture:!!B,qt=HH(m);if(qt||(m[Un]=qt=new Le(m)),(C=qt.add(b,C,k,se,G)).proxy)return C;if(k=function zH(){const b=Zb;return function m(C){return b.call(m.src,m.listener,C)}}(),C.proxy=k,k.src=m,k.listener=C,m.addEventListener)ir||(B=se),void 0===B&&(B=!1),m.addEventListener(b.toString(),k,B);else if(m.attachEvent)m.attachEvent(Qb(b.toString()),k);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(k)}return C}function Sl(m,b,C,k,B){if(Array.isArray(b)){for(var G=0;G<b.length;G++)Sl(m,b[G],C,k,B);return null}return C=$H(C),m&&m[Tr]?m.L(b,C,c(k)?!!k.capture:!!k,B):ru(m,b,C,!0,k,B)}function sx(m,b,C,k,B){if(Array.isArray(b))for(var G=0;G<b.length;G++)sx(m,b[G],C,k,B);else k=c(k)?!!k.capture:!!k,C=$H(C),m&&m[Tr]?(m=m.i,(b=String(b).toString())in m.g&&-1<(C=to(G=m.g[b],C,k,B))&&(an(G[C]),Array.prototype.splice.call(G,C,1),0==G.length&&(delete m.g[b],m.h--))):m&&(m=HH(m))&&(b=m.g[b.toString()],m=-1,b&&(m=to(b,C,k,B)),(C=-1<m?b[m]:null)&&xl(C))}function xl(m){if("number"!=typeof m&&m&&!m.da){var b=m.src;if(b&&b[Tr])Ze(b.i,m);else{var C=m.type,k=m.proxy;b.removeEventListener?b.removeEventListener(C,k,m.capture):b.detachEvent?b.detachEvent(Qb(C),k):b.addListener&&b.removeListener&&b.removeListener(k),(C=HH(b))?(Ze(C,m),0==C.h&&(C.src=null,b[Un]=null)):an(m)}}}function Qb(m){return m in na?na[m]:na[m]="on"+m}function Zb(m,b){if(m.da)m=!0;else{b=new mr(b,this);var C=m.listener,k=m.ha||m.src;m.fa&&xl(m),m=C.call(k,b)}return m}function HH(m){return(m=m[Un])instanceof Le?m:null}var jH="__closure_events_fn_"+(1e9*Math.random()>>>0);function $H(m){return"function"==typeof m?m:(m[jH]||(m[jH]=function(b){return m.handleEvent(b)}),m[jH])}function ni(){Ce.call(this),this.i=new Le(this),this.M=this,this.F=null}function Pi(m,b){var C,k=m.F;if(k)for(C=[];k;k=k.F)C.push(k);if(m=m.M,k=b.type||b,"string"==typeof b)b=new Qe(b,m);else if(b instanceof Qe)b.target=b.target||m;else{var B=b;S(b=new Qe(k,m),B)}if(B=!0,C)for(var G=C.length-1;0<=G;G--){var se=b.g=C[G];B=lx(se,k,!0,b)&&B}if(B=lx(se=b.g=m,k,!0,b)&&B,B=lx(se,k,!1,b)&&B,C)for(G=0;G<C.length;G++)B=lx(se=b.g=C[G],k,!1,b)&&B}function lx(m,b,C,k){if(!(b=m.i.g[String(b)]))return!0;b=b.concat();for(var B=!0,G=0;G<b.length;++G){var se=b[G];if(se&&!se.da&&se.capture==C){var qt=se.listener,Lr=se.ha||se.src;se.fa&&Ze(m.i,se),B=!1!==qt.call(Lr,k)&&B}}return B&&!k.defaultPrevented}function Gue(m,b,C){if("function"==typeof m)C&&(m=h(m,C));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=h(m.handleEvent,m)}return 2147483647<Number(b)?-1:s.setTimeout(m,b||0)}function que(m){m.g=Gue(()=>{m.g=null,m.i&&(m.i=!1,que(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}p(ni,Ce),ni.prototype[Tr]=!0,ni.prototype.removeEventListener=function(m,b,C,k){sx(this,m,b,C,k)},ni.prototype.N=function(){if(ni.aa.N.call(this),this.i){var b,m=this.i;for(b in m.g){for(var C=m.g[b],k=0;k<C.length;k++)an(C[k]);delete m.g[b],m.h--}}this.F=null},ni.prototype.K=function(m,b,C,k){return this.i.add(String(m),b,!1,C,k)},ni.prototype.L=function(m,b,C,k){return this.i.add(String(m),b,!0,C,k)};class ZKe extends Ce{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:que(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jb(m){Ce.call(this),this.h=m,this.g={}}p(Jb,Ce);var Wue=[];function Yue(m){P(m.g,function(b,C){this.g.hasOwnProperty(C)&&xl(b)},m),m.g={}}Jb.prototype.N=function(){Jb.aa.N.call(this),Yue(this)},Jb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var GH=s.JSON.stringify,JKe=s.JSON.parse,eXe=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function qH(){}function Xue(){}qH.prototype.h=null;var e0={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function WH(){Qe.call(this,"d")}function YH(){Qe.call(this,"c")}p(WH,Qe),p(YH,Qe);var Th={},Que=null;function cx(){return Que=Que||new ni}function Zue(m){Qe.call(this,Th.La,m)}function t0(m){const b=cx();Pi(b,new Zue(b))}function Jue(m,b){Qe.call(this,Th.STAT_EVENT,m),this.stat=b}function ki(m){const b=cx();Pi(b,new Jue(b,m))}function ede(m,b){Qe.call(this,Th.Ma,m),this.size=b}function n0(m,b){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},b)}function r0(){this.g=!0}function Gm(m,b,C,k){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+function iXe(m,b){if(!m.g)return b;if(!b)return null;try{var C=JSON.parse(b);if(C)for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var k=C[m];if(!(2>k.length)){var B=k[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if("noop"!=G&&"stop"!=G&&"close"!=G)for(var se=1;se<B.length;se++)B[se]=""}}}return GH(C)}catch{return b}}(m,C)+(k?" "+k:"")})}Th.La="serverreachability",p(Zue,Qe),Th.STAT_EVENT="statevent",p(Jue,Qe),Th.Ma="timingevent",p(ede,Qe),r0.prototype.xa=function(){this.g=!1},r0.prototype.info=function(){};var KH,ux={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tde={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function dx(){}function iu(m,b,C,k){this.j=m,this.i=b,this.l=C,this.R=k||1,this.U=new Jb(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nde}function nde(){this.i=null,this.g="",this.h=!1}p(dx,qH),dx.prototype.g=function(){return new XMLHttpRequest},dx.prototype.i=function(){return{}},KH=new dx;var rde={},XH={};function QH(m,b,C){m.L=1,m.v=mx(Al(b)),m.m=C,m.P=!0,ide(m,null)}function ide(m,b){m.F=Date.now(),hx(m),m.A=Al(m.v);var C=m.A,k=m.R;Array.isArray(k)||(k=[String(k)]),_de(C.i,"t",k),m.C=0,C=m.j.J,m.h=new nde,m.g=Fde(m.j,C?b:null,!m.m),0<m.O&&(m.M=new ZKe(h(m.Y,m,m.g),m.O)),b=m.U,C=m.g,k=m.ca;var B="readystatechange";Array.isArray(B)||(B&&(Wue[0]=B.toString()),B=Wue);for(var G=0;G<B.length;G++){var se=ra(C,B[G],k||b.handleEvent,!1,b.h||b);if(!se)break;b.g[se.key]=se}b=m.H?E(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),t0(),function tXe(m,b,C,k,B,G){m.info(function(){if(m.g)if(G)for(var se="",qt=G.split("&"),Lr=0;Lr<qt.length;Lr++){var wt=qt[Lr].split("=");if(1<wt.length){var ri=wt[0];wt=wt[1];var ii=ri.split("_");se=2<=ii.length&&"type"==ii[1]?se+(ri+"=")+wt+"&":se+(ri+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+k+") [attempt "+B+"]: "+b+"\n"+C+"\n"+se})}(m.i,m.u,m.A,m.l,m.R,m.m)}function ode(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function oXe(m,b){var C=m.C,k=b.indexOf("\n",C);return-1==k?XH:(C=Number(b.substring(C,k)),isNaN(C)?rde:(k+=1)+C>b.length?XH:(b=b.slice(k,k+C),m.C=k+C,b))}function hx(m){m.S=Date.now()+m.I,ade(m,m.I)}function ade(m,b){if(null!=m.B)throw Error("WatchDog timer not null");m.B=n0(h(m.ba,m),b)}function ZH(m){m.B&&(s.clearTimeout(m.B),m.B=null)}function o0(m){0==m.j.G||m.J||Pde(m.j,m)}function Ih(m){ZH(m);var b=m.M;b&&"function"==typeof b.ma&&b.ma(),m.M=null,Yue(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function JH(m,b){try{var C=m.j;if(0!=C.G&&(C.g==m||e3(C.h,m)))if(!m.K&&e3(C.h,m)&&3==C.G){try{var k=C.Da.g.parse(b)}catch{k=null}if(Array.isArray(k)&&3==k.length){var B=k;if(0==B[0]){e:if(!C.u){if(C.g){if(!(C.g.F+3e3<m.F))break e;bx(C),_x(C)}i3(C),ki(18)}}else C.za=B[1],0<C.za-C.T&&37500>B[2]&&C.F&&0==C.v&&!C.C&&(C.C=n0(h(C.Za,C),6e3));if(1>=cde(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Sh(C,11)}else if((m.K||C.g==m)&&bx(C),!y(b))for(B=C.Da.g.parse(b),b=0;b<B.length;b++){let wt=B[b];if(C.T=wt[0],wt=wt[1],2==C.G)if("c"==wt[0]){C.K=wt[1],C.ia=wt[2];const ri=wt[3];null!=ri&&(C.la=ri,C.j.info("VER="+C.la));const ii=wt[4];null!=ii&&(C.Aa=ii,C.j.info("SVER="+C.Aa));const Ym=wt[5];null!=Ym&&"number"==typeof Ym&&0<Ym&&(C.L=k=1.5*Ym,C.j.info("backChannelRequestTimeoutMs_="+k)),k=C;const La=m.g;if(La){const Ex=La.g?La.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ex){var G=k.h;G.g||-1==Ex.indexOf("spdy")&&-1==Ex.indexOf("quic")&&-1==Ex.indexOf("h2")||(G.j=G.l,G.g=new Set,G.h&&(t3(G,G.h),G.h=null))}if(k.D){const a3=La.g?La.g.getResponseHeader("X-HTTP-Session-Id"):null;a3&&(k.ya=a3,pn(k.I,k.D,a3))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms"));var se=m;if((k=C).qa=Nde(k,k.J?k.ia:null,k.W),se.K){ude(k.h,se);var qt=se,Lr=k.L;Lr&&(qt.I=Lr),qt.B&&(ZH(qt),hx(qt)),k.g=se}else Mde(k);0<C.i.length&&yx(C)}else"stop"!=wt[0]&&"close"!=wt[0]||Sh(C,7);else 3==C.G&&("stop"==wt[0]||"close"==wt[0]?"stop"==wt[0]?Sh(C,7):r3(C):"noop"!=wt[0]&&C.l&&C.l.ta(wt),C.v=0)}t0()}catch{}}iu.prototype.ca=function(m){m=m.target;const b=this.M;b&&3==Ml(m)?b.j():this.Y(m)},iu.prototype.Y=function(m){try{if(m==this.g)e:{const ii=Ml(this.g);var b=this.g.Ba();if(this.g.Z(),!(3>ii)&&(3!=ii||this.g&&(this.h.h||this.g.oa()||Ide(this.g)))){this.J||4!=ii||7==b||t0(),ZH(this);var C=this.g.Z();this.X=C;t:if(ode(this)){var k=Ide(this.g);m="";var B=k.length,G=4==Ml(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ih(this),o0(this);var se="";break t}this.h.i=new s.TextDecoder}for(b=0;b<B;b++)this.h.h=!0,m+=this.h.i.decode(k[b],{stream:!(G&&b==B-1)});k.length=0,this.h.g+=m,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=200==C,function nXe(m,b,C,k,B,G,se){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+B+"]: "+b+"\n"+C+"\n"+G+" "+se})}(this.i,this.u,this.A,this.l,this.R,ii,C),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,Lr=this.g;if((qt=Lr.g?Lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(qt)){var wt=qt;break t}}wt=null}if(!(C=wt)){this.o=!1,this.s=3,ki(12),Ih(this),o0(this);break e}Gm(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,JH(this,C)}if(this.P){let La;for(C=!0;!this.J&&this.C<se.length;){if(La=oXe(this,se),La==XH){4==ii&&(this.s=4,ki(14),C=!1),Gm(this.i,this.l,null,"[Incomplete Response]");break}if(La==rde){this.s=4,ki(15),Gm(this.i,this.l,se,"[Invalid Chunk]"),C=!1;break}Gm(this.i,this.l,La,null),JH(this,La)}if(ode(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ii||0!=se.length||this.h.h||(this.s=1,ki(16),C=!1),this.o=this.o&&C,C){if(0<se.length&&!this.W){this.W=!0;var ri=this.j;ri.g==this&&ri.ba&&!ri.M&&(ri.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),o3(ri),ri.M=!0,ki(11))}}else Gm(this.i,this.l,se,"[Invalid Chunked Response]"),Ih(this),o0(this)}else Gm(this.i,this.l,se,null),JH(this,se);4==ii&&Ih(this),this.o&&!this.J&&(4==ii?Pde(this.j,this):(this.o=!1,hx(this)))}else(function CXe(m){const b={};m=(m.g&&2<=Ml(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let k=0;k<m.length;k++){if(y(m[k]))continue;var C=x(m[k]);const B=C[0];if("string"!=typeof(C=C[1]))continue;C=C.trim();const G=b[B]||[];b[B]=G,G.push(C)}!function T(m,b){for(const C in m)b.call(void 0,m[C],C,m)}(b,function(k){return k.join(", ")})})(this.g),400==C&&0<se.indexOf("Unknown SID")?(this.s=3,ki(12)):(this.s=0,ki(13)),Ih(this),o0(this)}}}catch{}},iu.prototype.cancel=function(){this.J=!0,Ih(this)},iu.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function rXe(m,b){m.info(function(){return"TIMEOUT: "+b})}(this.i,this.A),2!=this.L&&(t0(),ki(17)),Ih(this),this.s=2,o0(this)):ade(this,this.S-m)};var aXe=class{constructor(m,b){this.g=m,this.map=b}};function sde(m){this.l=m||10,m=s.PerformanceNavigationTiming?0<(m=s.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lde(m){return!!m.h||!!m.g&&m.g.size>=m.j}function cde(m){return m.h?1:m.g?m.g.size:0}function e3(m,b){return m.h?m.h==b:!!m.g&&m.g.has(b)}function t3(m,b){m.g?m.g.add(b):m.h=b}function ude(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}function dde(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let b=m.i;for(const C of m.g.values())b=b.concat(C.D);return b}return g(m.i)}function hde(m,b){if(m.forEach&&"function"==typeof m.forEach)m.forEach(b,void 0);else if(l(m)||"string"==typeof m)Array.prototype.forEach.call(m,b,void 0);else for(var C=function lXe(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||"string"==typeof m){var b=[];m=m.length;for(var C=0;C<m;C++)b.push(C);return b}b=[],C=0;for(const k in m)b[C++]=k;return b}}}(m),k=function sXe(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(l(m)){for(var b=[],C=m.length,k=0;k<C;k++)b.push(m[k]);return b}for(k in b=[],C=0,m)b[C++]=m[k];return b}(m),B=k.length,G=0;G<B;G++)b.call(void 0,k[G],C&&C[G],m)}sde.prototype.cancel=function(){if(this.i=dde(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var fde=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Dh){this.h=m.h,fx(this,m.j),this.o=m.o,this.g=m.g,px(this,m.s),this.l=m.l;var b=m.i,C=new l0;C.i=b.i,b.g&&(C.g=new Map(b.g),C.h=b.h),pde(this,C),this.m=m.m}else m&&(b=String(m).match(fde))?(this.h=!1,fx(this,b[1]||"",!0),this.o=a0(b[2]||""),this.g=a0(b[3]||"",!0),px(this,b[4]),this.l=a0(b[5]||"",!0),pde(this,b[6]||"",!0),this.m=a0(b[7]||"")):(this.h=!1,this.i=new l0(null,this.h))}function Al(m){return new Dh(m)}function fx(m,b,C){m.j=C?a0(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function px(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function pde(m,b,C){b instanceof l0?(m.i=b,function mXe(m,b){b&&!m.j&&(ou(m),m.i=null,m.g.forEach(function(C,k){var B=k.toLowerCase();k!=B&&(gde(this,k),_de(this,B,C))},m)),m.j=b}(m.i,m.h)):(C||(b=s0(b,fXe)),m.i=new l0(b,m.h))}function pn(m,b,C){m.i.set(b,C)}function mx(m){return pn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function a0(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function s0(m,b,C){return"string"==typeof m?(m=encodeURI(m).replace(b,uXe),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function uXe(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}Dh.prototype.toString=function(){var m=[],b=this.j;b&&m.push(s0(b,mde,!0),":");var C=this.g;return(C||"file"==b)&&(m.push("//"),(b=this.o)&&m.push(s0(b,mde,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(C=this.s)&&m.push(":",String(C))),(C=this.l)&&(this.g&&"/"!=C.charAt(0)&&m.push("/"),m.push(s0(C,"/"==C.charAt(0)?hXe:dXe,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",s0(C,pXe)),m.join("")};var mde=/[#\/\?@]/g,dXe=/[#\?:]/g,hXe=/[#\?]/g,fXe=/[#\?@]/g,pXe=/#/g;function l0(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function ou(m){m.g||(m.g=new Map,m.h=0,m.i&&function cXe(m,b){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var k=m[C].indexOf("="),B=null;if(0<=k){var G=m[C].substring(0,k);B=m[C].substring(k+1)}else G=m[C];b(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}(m.i,function(b,C){m.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}function gde(m,b){ou(m),b=qm(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function vde(m,b){return ou(m),b=qm(m,b),m.g.has(b)}function _de(m,b,C){gde(m,b),0<C.length&&(m.i=null,m.g.set(qm(m,b),g(C)),m.h+=C.length)}function qm(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function au(m,b,C,k,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),k(C)}catch{}}function _Xe(){this.g=new eXe}function yXe(m,b,C){const k=C||"";try{hde(m,function(B,G){let se=B;c(B)&&(se=GH(B)),b.push(k+G+"="+encodeURIComponent(se))})}catch(B){throw b.push(k+"type="+encodeURIComponent("_badmap")),B}}function c0(m){this.l=m.Ub||null,this.j=m.eb||!1}function gx(m,b){ni.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function yde(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function u0(m){m.readyState=4,m.l=null,m.j=null,m.v=null,d0(m)}function d0(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function bde(m){let b="";return P(m,function(C,k){b+=k,b+=":",b+=C,b+="\r\n"}),b}function n3(m,b,C){e:{for(k in C){var k=!1;break e}k=!0}k||(C=bde(C),"string"==typeof m?null!=C&&encodeURIComponent(String(C)):pn(m,b,C))}function zn(m){ni.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=l0.prototype).add=function(m,b){ou(this),this.i=null,m=qm(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(b),this.h+=1,this},n.forEach=function(m,b){ou(this),this.g.forEach(function(C,k){C.forEach(function(B){m.call(b,B,k,this)},this)},this)},n.na=function(){ou(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),C=[];for(let k=0;k<b.length;k++){const B=m[k];for(let G=0;G<B.length;G++)C.push(b[k])}return C},n.V=function(m){ou(this);let b=[];if("string"==typeof m)vde(this,m)&&(b=b.concat(this.g.get(qm(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)b=b.concat(m[C])}return b},n.set=function(m,b){return ou(this),this.i=null,vde(this,m=qm(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m&&0<(m=this.V(m)).length?String(m[0]):b},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var C=0;C<b.length;C++){var k=b[C];const G=encodeURIComponent(String(k)),se=this.V(k);for(k=0;k<se.length;k++){var B=G;""!==se[k]&&(B+="="+encodeURIComponent(String(se[k]))),m.push(B)}}return this.i=m.join("&")},p(c0,qH),c0.prototype.g=function(){return new gx(this.l,this.j)},c0.prototype.i=function(m){return function(){return m}}({}),p(gx,ni),(n=gx.prototype).open=function(m,b){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,d0(this)},n.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||s).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,u0(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,d0(this)),this.g&&(this.readyState=3,d0(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yde(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?u0(this):d0(this),3==this.readyState&&yde(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,u0(this))},n.Qa=function(m){this.g&&(this.response=m,u0(this))},n.ga=function(){this.g&&u0(this)},n.setRequestHeader=function(m,b){this.u.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var C=b.next();!C.done;)m.push((C=C.value)[0]+": "+C[1]),C=b.next();return m.join("\r\n")},Object.defineProperty(gx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),p(zn,ni);var bXe=/^https?$/i,wXe=["POST","PUT"];function wde(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,Cde(m),vx(m)}function Cde(m){m.A||(m.A=!0,Pi(m,"complete"),Pi(m,"error"))}function Ede(m){if(m.h&&typeof a<"u"&&(!m.v[1]||4!=Ml(m)||2!=m.Z()))if(m.u&&4==Ml(m))Gue(m.Ea,0,m);else if(Pi(m,"readystatechange"),4==Ml(m)){m.h=!1;try{const se=m.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var C;if(!(C=b)){var k;if(k=0===se){var B=String(m.D).match(fde)[1]||null;!B&&s.self&&s.self.location&&(B=s.self.location.protocol.slice(0,-1)),k=!bXe.test(B?B.toLowerCase():"")}C=k}if(C)Pi(m,"complete"),Pi(m,"success");else{m.m=6;try{var G=2<Ml(m)?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.Z()+"]",Cde(m)}}finally{vx(m)}}}function vx(m,b){if(m.g){Tde(m);const C=m.g,k=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||Pi(m,"ready");try{C.onreadystatechange=k}catch{}}}function Tde(m){m.I&&(s.clearTimeout(m.I),m.I=null)}function Ml(m){return m.g?m.g.readyState:0}function Ide(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function h0(m,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||b}function Dde(m){this.Aa=0,this.i=[],this.j=new r0,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=h0("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=h0("baseRetryDelayMs",5e3,m),this.cb=h0("retryDelaySeedMs",1e4,m),this.Wa=h0("forwardChannelMaxRetries",2,m),this.wa=h0("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new sde(m&&m.concurrentRequestLimit),this.Da=new _Xe,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function r3(m){if(Sde(m),3==m.G){var b=m.U++,C=Al(m.I);if(pn(C,"SID",m.K),pn(C,"RID",b),pn(C,"TYPE","terminate"),f0(m,C),(b=new iu(m,m.j,b)).L=2,b.v=mx(Al(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(b.v.toString(),"")}catch{}!C&&s.Image&&((new Image).src=b.v,C=!0),C||(b.g=Fde(b.j,null),b.g.ea(b.v)),b.F=Date.now(),hx(b)}Ode(m)}function _x(m){m.g&&(o3(m),m.g.cancel(),m.g=null)}function Sde(m){_x(m),m.u&&(s.clearTimeout(m.u),m.u=null),bx(m),m.h.cancel(),m.s&&("number"==typeof m.s&&s.clearTimeout(m.s),m.s=null)}function yx(m){if(!lde(m.h)&&!m.s){m.s=!0;var b=m.Ga;ve||Ee(),pe||(ve(),pe=!0),de.add(b,m),m.B=0}}function xde(m,b){var C;C=b?b.l:m.U++;const k=Al(m.I);pn(k,"SID",m.K),pn(k,"RID",C),pn(k,"AID",m.T),f0(m,k),m.m&&m.o&&n3(k,m.m,m.o),C=new iu(m,m.j,C,m.B+1),null===m.m&&(C.H=m.o),b&&(m.i=b.D.concat(m.i)),b=Ade(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),t3(m.h,C),QH(C,k,b)}function f0(m,b){m.H&&P(m.H,function(C,k){pn(b,k,C)}),m.l&&hde({},function(C,k){pn(b,k,C)})}function Ade(m,b,C){C=Math.min(m.i.length,C);var k=m.l?h(m.l.Na,m.l,m):null;e:{var B=m.i;let G=-1;for(;;){const se=["count="+C];-1==G?0<C?(G=B[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let qt=!0;for(let Lr=0;Lr<C;Lr++){let wt=B[Lr].g;const ri=B[Lr].map;if(wt-=G,0>wt)G=Math.max(0,B[Lr].g-100),qt=!1;else try{yXe(ri,se,"req"+wt+"_")}catch{k&&k(ri)}}if(qt){k=se.join("&");break e}}}return m=m.i.splice(0,C),b.D=m,k}function Mde(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;ve||Ee(),pe||(ve(),pe=!0),de.add(b,m),m.v=0}}function i3(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=n0(h(m.Fa,m),kde(m,m.v)),m.v++,0))}function o3(m){null!=m.A&&(s.clearTimeout(m.A),m.A=null)}function Rde(m){m.g=new iu(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var b=Al(m.qa);pn(b,"RID","rpc"),pn(b,"SID",m.K),pn(b,"AID",m.T),pn(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&pn(b,"TO",m.ja),pn(b,"TYPE","xmlhttp"),f0(m,b),m.m&&m.o&&n3(b,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=mx(Al(b)),C.m=null,C.P=!0,ide(C,m)}function bx(m){null!=m.C&&(s.clearTimeout(m.C),m.C=null)}function Pde(m,b){var C=null;if(m.g==b){bx(m),o3(m),m.g=null;var k=2}else{if(!e3(m.h,b))return;C=b.D,ude(m.h,b),k=1}if(0!=m.G)if(b.o)if(1==k){C=b.m?b.m.length:0,b=Date.now()-b.F;var B=m.B;Pi(k=cx(),new ede(k,C)),yx(m)}else Mde(m);else if(3==(B=b.s)||0==B&&0<b.X||!(1==k&&function EXe(m,b){return!(cde(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=b.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=n0(h(m.Ga,m,b),kde(m,m.B)),m.B++,0)))}(m,b)||2==k&&i3(m)))switch(C&&0<C.length&&(b=m.h,b.i=b.i.concat(C)),B){case 1:Sh(m,5);break;case 4:Sh(m,10);break;case 3:Sh(m,6);break;default:Sh(m,2)}}function kde(m,b){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*b}function Sh(m,b){if(m.j.info("Error code "+b),2==b){var C=h(m.fb,m),k=m.Xa;const B=!k;k=new Dh(k||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||fx(k,"https"),mx(k),B?function gXe(m,b){const C=new r0;if(s.Image){const k=new Image;k.onload=f(au,C,"TestLoadImage: loaded",!0,b,k),k.onerror=f(au,C,"TestLoadImage: error",!1,b,k),k.onabort=f(au,C,"TestLoadImage: abort",!1,b,k),k.ontimeout=f(au,C,"TestLoadImage: timeout",!1,b,k),s.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else b(!1)}(k.toString(),C):function vXe(m,b){new r0;const k=new AbortController,B=setTimeout(()=>{k.abort(),au(0,0,!1,b)},1e4);fetch(m,{signal:k.signal}).then(G=>{clearTimeout(B),au(0,0,!!G.ok,b)}).catch(()=>{clearTimeout(B),au(0,0,!1,b)})}(k.toString(),C)}else ki(2);m.G=0,m.l&&m.l.sa(b),Ode(m),Sde(m)}function Ode(m){if(m.G=0,m.ka=[],m.l){const b=dde(m.h);(0!=b.length||0!=m.i.length)&&(v(m.ka,b),v(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function Nde(m,b,C){var k=C instanceof Dh?Al(C):new Dh(C);if(""!=k.g)b&&(k.g=b+"."+k.g),px(k,k.s);else{var B=s.location;k=B.protocol,b=b?b+"."+B.hostname:B.hostname,B=+B.port;var G=new Dh(null);k&&fx(G,k),b&&(G.g=b),B&&px(G,B),C&&(G.l=C),k=G}return b=m.ya,(C=m.D)&&b&&pn(k,C,b),pn(k,"VER",m.la),f0(m,k),k}function Fde(m,b,C){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(b=new zn(m.Ca&&!m.pa?new c0({eb:C}):m.pa)).Ha(m.J),b}function Lde(){}function Cx(){}function xo(m,b){ni.call(this),this.g=new Dde(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!y(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!y(b)&&(this.g.D=b,null!==(m=this.h)&&b in m&&b in(m=this.h)&&delete m[b]),this.j=new Wm(this)}function Vde(m){WH.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const C in b){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,b=null!==b&&m in b?b[m]:void 0),this.data=b}else this.data=m}function Bde(){YH.call(this),this.status=1}function Wm(m){this.g=m}(n=zn.prototype).Ha=function(m){this.J=m},n.ea=function(m,b,C,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():KH.g(),this.v=function Kue(m){return m.h||(m.h=m.i())}(this.o?this.o:KH),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(G){return void wde(this,G)}if(m=C||"",C=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var B in k)C.set(B,k[B]);else{if("function"!=typeof k.keys||"function"!=typeof k.get)throw Error("Unknown input type for opt_headers: "+String(k));for(const G of k.keys())C.set(G,k.get(G))}k=Array.from(C.keys()).find(G=>"content-type"==G.toLowerCase()),B=s.FormData&&m instanceof s.FormData,!(0<=Array.prototype.indexOf.call(wXe,b,void 0))||k||B||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of C)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tde(this),this.u=!0,this.g.send(m),this.u=!1}catch(G){wde(this,G)}},n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Pi(this,"complete"),Pi(this,"abort"),vx(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vx(this,!0)),zn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ede(this):this.bb())},n.bb=function(){Ede(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ml(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&0==b.indexOf(m)&&(b=b.substring(m.length)),JKe(b)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=Dde.prototype).la=8,n.G=1,n.connect=function(m,b,C,k){ki(0),this.W=m,this.H=b||{},C&&void 0!==k&&(this.H.OSID=C,this.H.OAID=k),this.F=this.X,this.I=Nde(this,null,this.W),yx(this)},n.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const B=new iu(this,this.j,m);let G=this.o;if(this.S&&(G?(G=E(G),S(G,this.S)):G=this.S),null!==this.m||this.O||(B.H=G,G=null),this.P)e:{for(var b=0,C=0;C<this.i.length;C++){var k=this.i[C];if(void 0===(k="__data__"in k.map&&"string"==typeof(k=k.map.__data__)?k.length:void 0))break;if(4096<(b+=k)){b=C;break e}if(4096===b||C===this.i.length-1){b=C+1;break e}}b=1e3}else b=1e3;b=Ade(this,B,b),pn(C=Al(this.I),"RID",m),pn(C,"CVER",22),this.D&&pn(C,"X-HTTP-Session-Id",this.D),f0(this,C),G&&(this.O?b="headers="+encodeURIComponent(String(bde(G)))+"&"+b:this.m&&n3(C,this.m,G)),t3(this.h,B),this.Ua&&pn(C,"TYPE","init"),this.P?(pn(C,"$req",b),pn(C,"SID","null"),B.T=!0,QH(B,C,null)):QH(B,C,b),this.G=2}}else 3==this.G&&(m?xde(this,m):0==this.i.length||lde(this.h)||xde(this))},n.Fa=function(){if(this.u=null,Rde(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=n0(h(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ki(10),_x(this),Rde(this))},n.Za=function(){null!=this.C&&(this.C=null,_x(this),i3(this),ki(19))},n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ki(2)):(this.j.info("Failed to ping google.com"),ki(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=Lde.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},Cx.prototype.g=function(m,b){return new xo(m,b)},p(xo,ni),xo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xo.prototype.close=function(){r3(this.g)},xo.prototype.o=function(m){var b=this.g;if("string"==typeof m){var C={};C.__data__=m,m=C}else this.u&&((C={}).__data__=GH(m),m=C);b.i.push(new aXe(b.Ya++,m)),3==b.G&&yx(b)},xo.prototype.N=function(){this.g.l=null,delete this.j,r3(this.g),delete this.g,xo.aa.N.call(this)},p(Vde,WH),p(Bde,YH),p(Wm,Lde),Wm.prototype.ua=function(){Pi(this.g,"a")},Wm.prototype.ta=function(m){Pi(this.g,new Vde(m))},Wm.prototype.sa=function(m){Pi(this.g,new Bde)},Wm.prototype.ra=function(){Pi(this.g,"b")},Cx.prototype.createWebChannel=Cx.prototype.g,xo.prototype.send=xo.prototype.o,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,lie=vl.createWebChannelTransport=function(){return new Cx},sie=vl.getStatEventTarget=function(){return cx()},aie=vl.Event=Th,eB=vl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ux.NO_ERROR=0,ux.TIMEOUT=8,ux.HTTP_ERROR=6,fD=vl.ErrorCode=ux,tde.COMPLETE="complete",oie=vl.EventType=tde,Xue.EventType=e0,e0.OPEN="a",e0.CLOSE="b",e0.ERROR="c",e0.MESSAGE="d",ni.prototype.listen=ni.prototype.K,Ly=vl.WebChannel=Xue,vl.FetchXmlHttpFactory=c0,zn.prototype.listenOnce=zn.prototype.L,zn.prototype.getLastError=zn.prototype.Ka,zn.prototype.getLastErrorCode=zn.prototype.Ba,zn.prototype.getStatus=zn.prototype.Z,zn.prototype.getResponseJson=zn.prototype.Oa,zn.prototype.getResponseText=zn.prototype.oa,zn.prototype.send=zn.prototype.ea,zn.prototype.setWithCredentials=zn.prototype.Ha,iie=vl.XhrIo=zn}).apply(typeof hD<"u"?hD:typeof self<"u"?self:typeof window<"u"?window:{});const cie="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let Bp="11.8.1";const Ac=new LI("@firebase/firestore");function Up(){return Ac.logLevel}function Q(n,...e){if(Ac.logLevel<=ct.DEBUG){const t=e.map(tB);Ac.debug(`Firestore (${Bp}): ${n}`,...t)}}function Yn(n,...e){if(Ac.logLevel<=ct.ERROR){const t=e.map(tB);Ac.error(`Firestore (${Bp}): ${n}`,...t)}}function Jo(n,...e){if(Ac.logLevel<=ct.WARN){const t=e.map(tB);Ac.warn(`Firestore (${Bp}): ${n}`,...t)}}function tB(n){if("string"==typeof n)return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ue(n,e,t){let r="Unexpected state";"string"==typeof e?r=e:t=e,die(n,r,t)}function die(n,e,t){let r=`FIRESTORE (${Bp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(void 0!==t)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yn(r),new Error(r)}function ge(n,e,t,r){let i="Unexpected state";"string"==typeof t?i=t:r=t,n||die(e,i,r)}function ae(n,e){return n}const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends ll{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hie{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W$e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wr.UNAUTHENTICATED))}shutdown(){}}class Y$e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class K$e{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;ge(void 0===this.o,42304);let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let a=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Cr,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(F(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cr)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge("string"==typeof r.accessToken,31837,{l:r}),new hie(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(null===e||"string"==typeof e,2055,{h:e}),new wr(e)}}class X$e{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q$e{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new X$e(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z$e{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ko(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ge(void 0===this.o,3512);const r=o=>{null!=o.error&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ge("string"==typeof t.token,44558,{tokenResult:t}),this.m=t.token,new nB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function J$e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function rB(){return new TextEncoder}class fie{static newId(){const t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=J$e(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Pe(n,e){return n<e?-1:n>e?1:0}function iB(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Pe(r,i);{const o=rB(),a=eGe(o.encode(pie(n,t)),o.encode(pie(e,t)));return 0!==a?a:Pe(r,i)}}t+=r>65535?2:1}return Pe(n.length,e.length)}function pie(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function eGe(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function zp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}const gie=-62135596800;class Dn{static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gie)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-gie).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Dn(0,0))}static max(){return new ye(new Dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oB="__name__";class gs{constructor(e,t,r){void 0===t?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=gs.compareSegments(e.get(i),t.get(i));if(0!==o)return o}return Pe(e.length,t.length)}static compareSegments(e,t){const r=gs.isNumericId(e),i=gs.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?gs.extractNumericId(e).compare(gs.extractNumericId(t)):iB(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xc.fromString(e.substring(4,e.length-2))}}class ut extends gs{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const tGe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends gs{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return tGe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===oB}static keyField(){return new bn([oB])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if("\\"===s){if(i+1===e.length)throw new Z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class le{constructor(e){this.path=e}static fromPath(e){return new le(ut.fromString(e))}static fromName(e){return new le(ut.fromString(e).popFirst(5))}static empty(){return new le(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new ut(e.slice()))}}function yie(n){return new Co(n.readTime,n.key,-1)}class Co{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Co(ye.min(),le.empty(),-1)}static max(){return new Co(ye.max(),le.empty(),-1)}}function sB(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=le.comparator(n.documentKey,e.documentKey),0!==t?t:Pe(n.largestBatchId,e.largestBatchId))}class wie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mc(n){return lB.apply(this,arguments)}function lB(){return lB=F(function*(n){if(n.code!==j.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==n.message)throw n;Q("LocalStore","Unexpectedly lost primary lease")}),lB.apply(this,arguments)}class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof U?t:U.resolve(t)}catch(t){return U.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):U.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):U.reject(t)}static resolve(e){return new U((t,r)=>{t(e)})}static reject(e){return new U((t,r)=>{r(e)})}static waitFor(e){return new U((t,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&t()},l=>r(l))}),a=!0,o===i&&t()})}static or(e){let t=U.resolve(!1);for(const r of e)t=t.next(i=>i?U.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new U((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{a[c]=u,++s,s===o&&r(a)},u=>i(u))}})}static doWhile(e,t){return new U((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function Rc(n){return"IndexedDbTransactionError"===n.name}let To=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}return n.le=-1,n})();function Uy(n){return null==n}function zy(n){return 0===n&&1/n==-1/0}function lGe(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function Iie(n){return n+"\x01\x01"}const jy="mutationQueues",Fa="mutations",qp="documentMutations",$y="remoteDocumentGlobal",Wp="targets",Yp="targetDocuments",Yd="targetGlobal",Gy="collectionParents",Kp="clientMetadata",bD="bundles",wD="namedQueries";function Vie(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Uie(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class on{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new on(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ED(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ED(this.root,e,this.comparator,!1)}getReverseIterator(){return new ED(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ED(this.root,e,this.comparator,!0)}}class ED{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??kr.RED,this.left=i??kr.EMPTY,this.right=o??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new kr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return kr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1,kr.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zie(this.data.getIterator())}getIteratorFrom(e){return new zie(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class zie{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ji{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Ji([])}unionWith(e){let t=new Pt(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ji(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Hie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hie("Invalid base64 string: "+o):o}}(e);return new Bn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const OGe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(n){if(ge(!!n,39018),"string"==typeof n){let e=0;const t=OGe.exec(n);if(ge(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(n.seconds),nanos:wn(n.nanos)}}function wn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function yl(n){return"string"==typeof n?Bn.fromBase64String(n):Bn.fromUint8Array(n)}const jie="server_timestamp",$ie="__type__",Gie="__previous_value__",qie="__local_write_time__";function TD(n){var e,t;return(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)===jie}function ID(n){const e=n.mapValue.fields[Gie];return TD(e)?ID(e):e}function Yy(n){const e=_l(n.mapValue.fields[qie].timestampValue);return new Dn(e.seconds,e.nanos)}class NGe{constructor(e,t,r,i,o,a,s,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Ky="(default)";class Kd{constructor(e,t){this.projectId=e,this.database=t||Ky}static empty(){return new Kd("","")}get isDefaultDatabase(){return this.database===Ky}isEqual(e){return e instanceof Kd&&e.projectId===this.projectId&&e.database===this.database}}const _B="__type__",Oc_mapValue={fields:{__type__:{stringValue:"__max__"}}},yB="__vector__",Qp="value";function Nc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TD(n)?4:Zie(n)?9007199254740991:AD(n)?10:11:ue(28295,{value:n})}function ys(n,e){if(n===e)return!0;const t=Nc(n);if(t!==Nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yy(n).isEqual(Yy(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=_l(i.timestampValue),s=_l(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,yl(n.bytesValue).isEqual(yl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wn(i.geoPointValue.latitude)===wn(o.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wn(i.integerValue)===wn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=wn(i.doubleValue),s=wn(o.doubleValue);return a===s?zy(a)===zy(s):isNaN(a)&&isNaN(s)}return!1}(n,e);case 9:return zp(n.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(Vie(a)!==Vie(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(void 0===s[l]||!ys(a[l],s[l])))return!1;return!0}(n,e);default:return ue(52216,{left:n})}var o}function Xy(n,e){return void 0!==(n.values||[]).find(t=>ys(t,e))}function Fc(n,e){if(n===e)return 0;const t=Nc(n),r=Nc(e);if(t!==r)return Pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(o,a){const s=wn(o.integerValue||o.doubleValue),l=wn(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(n,e);case 3:return Yie(n.timestampValue,e.timestampValue);case 4:return Yie(Yy(n),Yy(e));case 5:return iB(n.stringValue,e.stringValue);case 6:return function(o,a){const s=yl(o),l=yl(a);return s.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Pe(s[c],l[c]);if(0!==u)return u}return Pe(s.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Pe(wn(o.latitude),wn(a.latitude));return 0!==s?s:Pe(wn(o.longitude),wn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Kie(n.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,c,u;const f=null===(s=(o.fields||{})[Qp])||void 0===s?void 0:s.arrayValue,p=null===(l=(a.fields||{})[Qp])||void 0===l?void 0:l.arrayValue,g=Pe((null===(c=f?.values)||void 0===c?void 0:c.length)||0,(null===(u=p?.values)||void 0===u?void 0:u.length)||0);return 0!==g?g:Kie(f,p)}(n.mapValue,e.mapValue);case 11:return function(o,a){if(o===Oc_mapValue&&a===Oc_mapValue)return 0;if(o===Oc_mapValue)return 1;if(a===Oc_mapValue)return-1;const s=o.fields||{},l=Object.keys(s),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=iB(l[d],u[d]);if(0!==h)return h;const f=Fc(s[l[d]],c[u[d]]);if(0!==f)return f}return Pe(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ue(23264,{Pe:t})}}function Yie(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pe(n,e);const t=_l(n),r=_l(e),i=Pe(t.seconds,r.seconds);return 0!==i?i:Pe(t.nanos,r.nanos)}function Kie(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Fc(t[i],r[i]);if(o)return o}return Pe(t.length,r.length)}function Zp(n){return bB(n)}function bB(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=_l(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=bB(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${bB(t.fields[a])}`;return i+"}"}(n.mapValue):ue(61005,{value:n})}function SD(n){switch(Nc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ID(n);return e?16+SD(e):16;case 5:return 2*n.stringValue.length;case 6:return yl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(n.arrayValue.values||[]).reduce((i,o)=>i+SD(o),0);case 10:case 11:return function(r){let i=0;return kc(r.fields,(o,a)=>{i+=o.length+SD(a)}),i}(n.mapValue);default:throw ue(13486,{value:n})}}function wB(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function Xie(n){return!!n&&"nullValue"in n}function Qie(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xD(n){return!!n&&"mapValue"in n}function AD(n){var e,t;return(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{})[_B])||void 0===t?void 0:t.stringValue)===yB}function Zy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zy(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zy(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zie(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zy(t)}setAll(e){let t=bn.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!t.isImmediateParentOf(s)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=s.popLast()}a?r[s.lastSegment()]=Zy(a):i.push(s.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());xD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){kc(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Or(Zy(this.value))}}function noe(n){const e=[];return kc(n.fields,(t,r)=>{const i=new bn([t]);if(xD(r)){const o=noe(r.mapValue).fields;if(0===o.length)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Ji(e)}class fn{constructor(e,t,r,i,o,a,s){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new fn(e,0,ye.min(),ye.min(),ye.min(),Or.empty(),0)}static newFoundDocument(e,t,r,i){return new fn(e,1,t,ye.min(),r,i,0)}static newNoDocument(e,t){return new fn(e,2,t,ye.min(),ye.min(),Or.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,ye.min(),ye.min(),Or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lc{constructor(e,t){this.position=e,this.inclusive=t}}function roe(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],a=n.position[i];if(r=o.field.isKeyField()?le.comparator(le.fromName(a.referenceValue),t.key):Fc(a,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ioe(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ys(n.position[t],e.position[t]))return!1;return!0}class Jy{constructor(e,t="asc"){this.field=e,this.dir=t}}function VGe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ooe{}class dt extends ooe{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new BGe(e,t,r):"array-contains"===t?new HGe(e,r):"in"===t?new doe(e,r):"not-in"===t?new jGe(e,r):"array-contains-any"===t?new $Ge(e,r):new dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new UGe(e,r):new zGe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Fc(t,this.value)):null!==t&&Nc(this.value)===Nc(t)&&this.matchesComparison(Fc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kt extends ooe{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new kt(e,t)}matches(e){return Jp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Jp(n){return"and"===n.op}function EB(n){return function aoe(n){for(const e of n.filters)if(e instanceof kt)return!1;return!0}(n)&&Jp(n)}function TB(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+Zp(n.value);if(EB(n))return n.filters.map(e=>TB(e)).join(",");{const e=n.filters.map(t=>TB(t)).join(",");return`${n.op}(${e})`}}function soe(n,e){return n instanceof dt?(r=n,(i=e)instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&ys(r.value,i.value)):n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,a,s)=>o&&soe(a,i.filters[s]),!0)}(n,e):void ue(19439);var r,i}function coe(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zp(t.value)}`}(n):n instanceof kt?function(t){return t.op.toString()+" {"+t.getFilters().map(coe).join(" ,")+"}"}(n):"Filter"}class BGe extends dt{constructor(e,t,r){super(e,t,r),this.key=le.fromName(r.referenceValue)}matches(e){const t=le.comparator(e.key,this.key);return this.matchesComparison(t)}}class UGe extends dt{constructor(e,t){super(e,"in",t),this.keys=uoe(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zGe extends dt{constructor(e,t){super(e,"not-in",t),this.keys=uoe(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uoe(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>le.fromName(r.referenceValue))}class HGe extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qy(t)&&Xy(t.arrayValue,this.value)}}class doe extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xy(this.value.arrayValue,t)}}class jGe extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Xy(this.value.arrayValue,t)}}class $Ge extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xy(this.value.arrayValue,r))}}class GGe{constructor(e,t=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Ie=null}}function IB(n,e=null,t=[],r=[],i=null,o=null,a=null){return new GGe(n,e,t,r,i,o,a)}function Qd(n){const e=ae(n);if(null===e.Ie){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>TB(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Uy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zp(r)).join(",")),e.Ie=t}return e.Ie}function eb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VGe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!soe(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ioe(n.startAt,e.startAt)&&ioe(n.endAt,e.endAt)}function MD(n){return le.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class bl{constructor(e,t=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null}}function em(n){return new bl(n)}function moe(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tm(n){const e=ae(n);if(null===e.Ee){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Pt(bn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Jy(o,r))}),t.has(bn.keyField().canonicalString())||e.Ee.push(new Jy(bn.keyField(),r))}return e.Ee}function Qr(n){const e=ae(n);return e.de||(e.de=function voe(n,e){if("F"===n.limitType)return IB(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Jy(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Lc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Lc(n.startAt.position,n.startAt.inclusive):null;return IB(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,tm(n))),e.de}function PD(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tb(n,e){return eb(Qr(n),Qr(e))&&n.limitType===e.limitType}function _oe(n){return`${Qd(Qr(n))}|lt:${n.limitType}`}function nm(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>coe(i)).join(", ")}]`),Uy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Zp(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Zp(i)).join(",")),`Target(${r})`}(Qr(n))}; limitType=${n.limitType})`}function nb(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of tm(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(a,s,l){const c=roe(a,s,l);return a.inclusive?c<=0:c<0}(r.startAt,tm(r),i)||r.endAt&&!function(a,s,l){const c=roe(a,s,l);return a.inclusive?c>=0:c>0}(r.endAt,tm(r),i)));var r,i}function boe(n){return(e,t)=>{let r=!1;for(const i of tm(n)){const o=qGe(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function qGe(n,e,t){const r=n.field.isKeyField()?le.comparator(e.key,t.key):function(o,a,s){const l=a.data.field(o),c=s.data.field(o);return null!==l&&null!==c?Fc(l,c):ue(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:n.dir})}}class wl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Uie(this.inner)}size(){return this.innerSize}}const WGe=new on(le.comparator);function eo(){return WGe}const woe=new on(le.comparator);function rb(...n){let e=woe;for(const t of n)e=e.insert(t.key,t);return e}function Coe(n){let e=woe;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bs(){return ib()}function Eoe(){return ib()}function ib(){return new wl(n=>n.toString(),(n,e)=>n.isEqual(e))}const YGe=new on(le.comparator),KGe=new Pt(le.comparator);function We(...n){let e=KGe;for(const t of n)e=e.add(t);return e}const XGe=new Pt(Pe);function AB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(e)?"-0":e}}function Toe(n){return{integerValue:""+n}}function Ioe(n,e){return function Tie(n){return"number"==typeof n&&Number.isInteger(n)&&!zy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Toe(e):AB(n,e)}class kD{constructor(){this._=void 0}}function QGe(n,e,t){return n instanceof rm?function(i,o){const a={fields:{[$ie]:{stringValue:jie},[qie]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&TD(o)&&(o=ID(o)),o&&(a.fields[Gie]=o),{mapValue:a}}(t,e):n instanceof Zd?Soe(n,e):n instanceof Jd?xoe(n,e):function(i,o){const a=Doe(i,o),s=Aoe(a)+Aoe(i.Re);return wB(a)&&wB(i.Re)?Toe(s):AB(i.serializer,s)}(n,e)}function ZGe(n,e,t){return n instanceof Zd?Soe(n,e):n instanceof Jd?xoe(n,e):t}function Doe(n,e){return n instanceof im?wB(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class rm extends kD{}class Zd extends kD{constructor(e){super(),this.elements=e}}function Soe(n,e){const t=Moe(e);for(const r of n.elements)t.some(i=>ys(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jd extends kD{constructor(e){super(),this.elements=e}}function xoe(n,e){let t=Moe(e);for(const r of n.elements)t=t.filter(i=>!ys(i,r));return{arrayValue:{values:t}}}class im extends kD{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Aoe(n){return wn(n.integerValue||n.doubleValue)}function Moe(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class e6e{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function OD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ND{}function Roe(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new am(n.key,Cn.none()):new om(n.key,n.data,Cn.none());{const t=n.data,r=Or.empty();let i=new Pt(bn.comparator);for(let o of e.fields)if(!i.has(o)){let a=t.field(o);null===a&&o.length>1&&(o=o.popLast(),a=t.field(o)),null===a?r.delete(o):r.set(o,a),i=i.add(o)}return new Cl(n.key,r,new Ji(i.toArray()),Cn.none())}}function t6e(n,e,t){n instanceof om?function(i,o,a){const s=i.value.clone(),l=Ooe(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Cl?function(i,o,a){if(!OD(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=Ooe(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(koe(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ab(n,e,t,r){return n instanceof om?function(o,a,s,l){if(!OD(o.precondition,a))return s;const c=o.value.clone(),u=Noe(o.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cl?function(o,a,s,l){if(!OD(o.precondition,a))return s;const c=Noe(o.fieldTransforms,l,a),u=a.data;return u.setAll(koe(o)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null===s?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,r):(s=t,OD(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s);var a,s}function n6e(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Doe(r.transform,i||null);null!=o&&(null===t&&(t=Or.empty()),t.set(r.field,o))}return t||null}function Poe(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&zp(r,i,(o,a)=>function JGe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Zd&&i instanceof Zd||r instanceof Jd&&i instanceof Jd?zp(r.elements,i.elements,ys):r instanceof im&&i instanceof im?ys(r.Re,i.Re):r instanceof rm&&i instanceof rm);var r,i}(o,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class om extends ND{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cl extends ND{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function koe(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ooe(n,e,t){const r=new Map;ge(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,ZGe(a,s,t[i]))}return r}function Noe(n,e,t){const r=new Map;for(const i of n){const o=i.transform,a=t.data.field(i.field);r.set(i.field,QGe(o,a,e))}return r}class am extends ND{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MB extends ND{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RB{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&t6e(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ab(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ab(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Eoe();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=t.has(i.key)?null:s;const l=Roe(a,s);null!==l&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&zp(this.mutations,e.mutations,(t,r)=>Poe(t,r))&&zp(this.baseMutations,e.baseMutations,(t,r)=>Poe(t,r))}}class PB{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return YGe}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new PB(e,t,r,i)}}class kB{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class r6e{constructor(e,t){this.count=e,this.unchangedNames=t}}var nr,gt;function Voe(n){if(void 0===n)return Yn("GRPC error has no .code"),j.UNKNOWN;switch(n){case nr.OK:return j.OK;case nr.CANCELLED:return j.CANCELLED;case nr.UNKNOWN:return j.UNKNOWN;case nr.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case nr.INTERNAL:return j.INTERNAL;case nr.UNAVAILABLE:return j.UNAVAILABLE;case nr.UNAUTHENTICATED:return j.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case nr.NOT_FOUND:return j.NOT_FOUND;case nr.ALREADY_EXISTS:return j.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return j.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case nr.ABORTED:return j.ABORTED;case nr.OUT_OF_RANGE:return j.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return j.UNIMPLEMENTED;case nr.DATA_LOSS:return j.DATA_LOSS;default:return ue(39323,{code:n})}}(gt=nr||(nr={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";const i6e=new xc([4294967295,4294967295],0);function Boe(n){const e=rB().encode(n),t=new rie;return t.update(e),new Uint8Array(t.digest())}function Uoe(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xc([t,r],0),new xc([i,o],0)]}class OB{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sb(`Invalid padding: ${t}`);if(r<0)throw new sb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new sb(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=xc.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(xc.fromNumber(r)));return 1===i.compare(i6e)&&(i=new xc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Boe(e),[r,i]=Uoe(t);for(let o=0;o<this.hashCount;o++){const a=this.we(r,i,o);if(!this.Se(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new OB(o,i,t);return r.forEach(s=>a.insert(s)),a}insert(e){if(0===this.pe)return;const t=Boe(e),[r,i]=Uoe(t);for(let o=0;o<this.hashCount;o++){const a=this.we(r,i,o);this.be(a)}}be(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class sb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lb{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,cb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new lb(ye.min(),i,new on(Pe),eo(),We())}}class cb{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new cb(r,t,We(),We(),We())}}class LD{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class zoe{constructor(e,t){this.targetId=e,this.Ce=t}}class Hoe{constructor(e,t,r=Bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class joe{constructor(){this.Fe=0,this.Me=$oe(),this.xe=Bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),r=We();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ue(38017,{changeType:o})}}),new cb(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=$oe()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class o6e{constructor(e){this.ze=e,this.je=new Map,this.He=eo(),this.Je=VD(),this.Ye=VD(),this.Ze=new on(Pe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(MD(o))if(0===r){const a=new le(o.path);this.tt(t,a,fn.newNoDocument(a,ye.min()))}else ge(1===r,20013,{expectedCount:r});else{const a=this.ut(t);if(a!==r){const s=this.ct(e),l=s?this.lt(s,e,a):1;0!==l&&(this.st(t),this.Ze=this.Ze.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let a,s;try{a=yl(r).toUint8Array()}catch(l){if(l instanceof Hie)return Jo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new OB(a,i,o)}catch(l){return Jo(l instanceof sb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===s.pe?null:s}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const a=this.ze.Pt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,a)=>{const s=this._t(a);if(s){if(o.current&&MD(s.target)){const l=new le(s.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,fn.newNoDocument(l,e))}o.Le&&(t.set(a,o.qe()),o.Qe())}});let r=We();this.Ye.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const c=this._t(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(s=!1,!1)}),s&&(r=r.add(o))}),this.He.forEach((o,a)=>a.setReadTime(e));const i=new lb(e,t,this.Ze,this.He,r);return this.He=eo(),this.Je=VD(),this.Ye=VD(),this.Ze=new on(Pe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new joe,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Pt(Pe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Pt(Pe),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Q("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new joe),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function VD(){return new on(le.comparator)}function $oe(){return new on(le.comparator)}const a6e={asc:"ASCENDING",desc:"DESCENDING"},s6e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l6e={and:"AND",or:"OR"};class c6e{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function NB(n,e){return n.useProto3Json||Uy(e)?e:{value:e}}function sm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Goe(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function u6e(n,e){return sm(n,e.toTimestamp())}function Kn(n){return ge(!!n,49232),ye.fromTimestamp(function(t){const r=_l(t);return new Dn(r.seconds,r.nanos)}(n))}function FB(n,e){return LB(n,e).canonicalString()}function LB(n,e){const t=(i=n,new ut(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function qoe(n){const e=ut.fromString(n);return ge(rae(e),10190,{key:e.toString()}),e}function ub(n,e){return FB(n.databaseId,e.path)}function ws(n,e){const t=qoe(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new le(Koe(t))}function Woe(n,e){return FB(n.databaseId,e)}function VB(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Koe(n){return ge(n.length>4&&"documents"===n.get(4),29091,{key:n.toString()}),n.popFirst(5)}function Xoe(n,e,t){return{name:ub(n,e),fields:t.value.mapValue.fields}}function Zoe(n,e){return{documents:[Woe(n,e.path)]}}function BD(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Woe(n,i);const o=function(c){if(0!==c.length)return nae(kt.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const a=function(c){if(0!==c.length)return c.map(u=>{return{field:Vc((h=u).field),direction:m6e(h.dir)};var h})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const s=NB(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:t,parent:i};var c}function eae(n){let e=function Yoe(n){const e=qoe(n);return 4===e.length?ut.emptyPath():Koe(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ge(1===r,65062);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(d){const h=tae(d);return h instanceof kt&&EB(h)?h.getFilters():[h]}(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(h=>{return new Jy(lm((p=h).field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let s=null;t.limit&&(s=function(d){let h;return h="object"==typeof d?d.value:d,Uy(h)?null:h}(t.limit));let l=null;var d;t.startAt&&(l=new Lc((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Lc(d.values||[],!d.before)}(t.endAt)),function poe(n,e,t,r,i,o,a,s){return new bl(n,e,t,r,i,o,a,s)}(e,i,a,o,s,"F",l,c)}function tae(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=lm(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lm(t.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lm(t.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=lm(t.unaryFilter.field);return dt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(n):void 0!==n.fieldFilter?function(t){return dt.create(lm(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(t){return kt.create(t.compositeFilter.filters.map(r=>tae(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(t.compositeFilter.op))}(n):ue(30097,{filter:n})}function m6e(n){return a6e[n]}function g6e(n){return s6e[n]}function v6e(n){return l6e[n]}function Vc(n){return{fieldPath:n.canonicalString()}}function lm(n){return bn.fromServerFormat(n.fieldPath)}function nae(n){return n instanceof dt?function(t){if("=="===t.op){if(Qie(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NAN"}};if(Xie(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Qie(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NOT_NAN"}};if(Xie(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(t.field),op:g6e(t.op),value:t.value}}}(n):n instanceof kt?function(t){const r=t.getFilters().map(i=>nae(i));return 1===r.length?r[0]:{compositeFilter:{op:v6e(t.op),filters:r}}}(n):ue(54877,{filter:n})}function _6e(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rae(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class El{constructor(e,t,r,i,o=ye.min(),a=ye.min(),s=Bn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new El(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iae{constructor(e){this.wt=e}}function UB(n){const e=eae({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PD(e,e.limit,"L"):e}class rh{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(wn(e.integerValue));else if("doubleValue"in e){const r=wn(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),zy(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),"string"==typeof r&&(r=_l(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(yl(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?Zie(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):AD(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ue(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const o=e.fields||{};this.Mt(t,53);const a=Qp,s=(null===(i=null===(r=o[a].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.Mt(t,15),t.xt(wn(s)),this.Nt(a,t),this.Ct(o[a],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),le.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}rh.Wt=new rh;class S6e{constructor(){this.Cn=new qB}addToCollectionParentIndex(e,t){return this.Cn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Co.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}}class qB{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(ut.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(ut.comparator)).toArray()}}new Uint8Array(0);const wae={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zr{static withCacheSize(e){return new Zr(e,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(41943040,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);class oh{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new oh(0)}static lr(){return new oh(-1)}}const Sae="LruGarbageCollector";function Aae([n,e],[t,r]){const i=Pe(n,t);return 0===i?Pe(e,r):i}class M6e{constructor(e){this.Er=e,this.buffer=new Pt(Aae),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Aae(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mae{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){var t=this;Q(Sae,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,F(function*(){t.Vr=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Rc(r)?Q(Sae,"Ignoring IndexedDB error during garbage collection: ",r):yield Mc(r)}yield t.mr(3e5)}))}}class R6e{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return U.resolve(To.le);const r=new M6e(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(wae)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wae):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,a,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,t))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Up()<=ct.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-u}ms\n\tDetermined least recently used ${i} in `+(s-a)+`ms\n\tRemoved ${o} targets in `+(l-s)+`ms\n\tRemoved ${d} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}class Pae{constructor(){this.changes=new wl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N6e{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lae{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&ab(r.mutation,i,Ji.empty(),Dn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const i=bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let a=rb();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=bs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{t.set(a,s)})})}computeViews(e,t,r,i){let o=eo();const a=ib(),s=ib();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Cl)?o=o.insert(c.key,c):void 0!==u?(a.set(c.key,u.mutation.getFieldMask()),ab(u.mutation,c,u.mutation.getFieldMask(),Dn.now())):a.set(c.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>a.set(c,u)),t.forEach((c,u)=>{var d;return s.set(c,new N6e(u,null!==(d=a.get(c))&&void 0!==d?d:null))}),s))}recalculateAndSaveOverlays(e,t){const r=ib();let i=new on((a,s)=>a-s),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const s of a)s.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Ji.empty();u=s.applyToLocalView(c,u),r.set(l,u);const d=(i.get(s.batchId)||We()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,d=Eoe();u.forEach(h=>{if(!o.has(h)){const f=Roe(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return le.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function DB(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var a}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):U.resolve(bs());let s=-1,l=o;return a.next(c=>U.forEach(c,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,We())).next(u=>({batchId:s,changes:Coe(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(r=>{let i=rb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let a=rb();return this.indexManager.getCollectionParents(e,o).next(s=>U.forEach(s,l=>{const c=(d=t,h=l.child(o),new bl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(a=>{o.forEach((l,c)=>{const u=c.getKey();null===a.get(u)&&(a=a.insert(u,fn.newInvalidDocument(u)))});let s=rb();return a.forEach((l,c)=>{const u=o.get(l);void 0!==u&&ab(u.mutation,c,Ji.empty(),Dn.now()),nb(t,c)&&(s=s.insert(l,c))}),s})}}class F6e{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return U.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,{id:(i=t).id,version:i.version,createTime:Kn(i.createTime)}),U.resolve();var i}getNamedQuery(e,t){return U.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,{name:(i=t).name,query:UB(i.bundledQuery),readTime:Kn(i.readTime)}),U.resolve();var i}}class L6e{constructor(){this.overlays=new on(le.comparator),this.Qr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bs();return U.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),U.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){const i=bs(),o=t.length+1,a=new le(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new on((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=bs(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=bs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return U.resolve(s)}bt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const a=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new kB(t,r));let o=this.Qr.get(t);void 0===o&&(o=We(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}class V6e{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}}class WB{constructor(){this.$r=new Pt(Er.Ur),this.Kr=new Pt(Er.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Er(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Er(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new le(new ut([])),r=new Er(t,e),i=new Er(t,e+1),o=[];return this.Kr.forEachInRange([r,i],a=>{this.zr(a),o.push(a.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new le(new ut([])),r=new Er(t,e),i=new Er(t,e+1);let o=We();return this.Kr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const t=new Er(e,0),r=this.$r.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Er{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return le.comparator(e.key,t.key)||Pe(e.Zr,t.Zr)}static Wr(e,t){return Pe(e.Zr,t.Zr)||le.comparator(e.key,t.key)}}class B6e{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Pt(Er.Ur)}checkEmpty(e){return U.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.nr;this.nr++;const a=new RB(o,t,r,i);this.mutationQueue.push(a);for(const s of i)this.Xr=this.Xr.add(new Er(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,t){return U.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ti(t+1),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Er(t,0),i=new Er(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],a=>{const s=this.ei(a.Zr);o.push(s)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Pe);return t.forEach(i=>{const o=new Er(i,0),a=new Er(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,a],s=>{r=r.add(s.Zr)})}),U.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;le.isDocumentKey(o)||(o=o.child(""));const a=new Er(new le(o),0);let s=new Pt(Pe);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Zr)),!0)},a),U.resolve(this.ni(s))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ge(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Xr;return U.forEach(t.mutations,i=>{const o=new Er(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Er(t,0),i=this.Xr.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return U.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class U6e{constructor(e){this.ii=e,this.docs=new on(le.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=eo();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=eo();const a=t.path,s=new le(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||sB(yie(u),r)<=0||(i.has(u.key)||nb(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ue(9500)}si(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new z6e(this)}getSize(e){return U.resolve(this.size)}}class z6e extends Pae{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class H6e{constructor(e){this.persistence=e,this.oi=new wl(t=>Qd(t),eb),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this._i=0,this.ai=new WB,this.targetCount=0,this.ui=oh.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),U.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new oh(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.Tr(t),U.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.oi.forEach((a,s)=>{s.sequenceNumber<=t&&null===r.get(s.targetId)&&(this.oi.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),U.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this.ai.containsKey(t))}}class YB{constructor(e,t){this.ci={},this.overlays={},this.li=new To(0),this.hi=!1,this.hi=!0,this.Pi=new V6e,this.referenceDelegate=e(this),this.Ti=new H6e(this),this.indexManager=new S6e,this.remoteDocumentCache=new U6e(r=>this.referenceDelegate.Ii(r)),this.serializer=new iae(t),this.Ei=new F6e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new L6e,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new B6e(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);const i=new j6e(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return U.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class j6e extends wie{constructor(e){super(),this.currentSequenceNumber=e}}class YD{constructor(e){this.persistence=e,this.Vi=new WB,this.mi=null}static fi(e){return new YD(e)}get gi(){if(this.mi)return this.mi;throw ue(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),U.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,r=>{const i=le.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ye.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return U.or([()=>U.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class KD{constructor(e,t){this.persistence=e,this.yi=new wl(r=>function Xr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Iie(e)),e=lGe(n.get(t),e);return Iie(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function Rae(n,e){return new R6e(n,e)}(this,t)}static fi(e,t){return new KD(e,t)}di(){}Ai(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return U.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?U.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,t).next(s=>{s||(r++,o.removeEntry(a,ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),U.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=SD(e.data.value)),t}Dr(e,t,r){return U.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return U.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eU{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=We(),i=We();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new eU(e,t.fromCache,r,i)}}class G6e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Uae{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=Xte()?8:function Cie(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(qn())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ws(e,t).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new G6e;return this.bs(e,t,a).next(s=>{if(o.result=s,this.fs)return this.Ds(e,t,a,s.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Up()<=ct.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",nm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(Up()<=ct.DEBUG&&Q("QueryEngine","Query:",nm(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Up()<=ct.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",nm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(t))):U.resolve())}ws(e,t){if(moe(t))return U.resolve(null);let r=Qr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=PD(t,null,"F"),r=Qr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=We(...o);return this.ys.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(t,s);return this.Cs(t,c,a,l.readTime)?this.ws(e,PD(t,null,"F")):this.Fs(e,c,t,l)}))})))}Ss(e,t,r,i){return moe(t)||i.isEqual(ye.min())?U.resolve(null):this.ys.getDocuments(e,r).next(o=>{const a=this.vs(t,o);return this.Cs(t,a,r,i)?U.resolve(null):(Up()<=ct.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nm(t)),this.Fs(e,a,t,function _ie(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(1e9===r?new Dn(t+1,0):new Dn(t,r));return new Co(i,le.empty(),e)}(i,-1)).next(s=>s))})}vs(e,t){let r=new Pt(boe(e));return t.forEach((i,o)=>{nb(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return Up()<=ct.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",nm(t)),this.ys.getDocumentsMatchingQuery(e,t,Co.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(a=>{o=o.insert(a.key,a)}),o))}}const tU="LocalStore";class W6e{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new on(Pe),this.Os=new wl(o=>Qd(o),eb),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lae(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Hae(n,e){return nU.apply(this,arguments)}function nU(){return nU=F(function*(n,e){const t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=We();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:a,addedBatchIds:s}))})})}),nU.apply(this,arguments)}function jae(n){const e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function X6e(n,e){const t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mm(n,e,t){return rU.apply(this,arguments)}function rU(){return rU=F(function*(n,e,t){const r=ae(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Rc(a))throw a;Q(tU,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}),rU.apply(this,arguments)}function QD(n,e,t){const r=ae(n);let i=ye.min(),o=We();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const d=ae(l),h=d.Os.get(u);return void 0!==h?U.resolve(d.xs.get(h)):d.Ti.getTargetData(c,u)}(r,a,Qr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,t?i:ye.min(),t?o:We())).next(s=>(function Wae(n,e,t){let r=n.Ns.get(e)||ye.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}(r,function yoe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),s),{documents:s,$s:o})))}class lU{constructor(){this.activeTargetIds=function xB(){return XGe}()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jae{constructor(){this.xo=new lU,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new lU,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J6e{No(e){}shutdown(){}}const ese="ConnectivityMonitor";class tse{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Q(ese,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Q(ese,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eS=null;function uU(){return null===eS?eS=268435456+Math.round(2147483648*Math.random()):eS++,"0x"+eS.toString(16)}const dU="RestConnection",eqe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tqe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Ky?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){const a=uU(),s=this.jo(e,t.toUriEncodedString());Q(dU,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:c}=new URL(s),u=cy(c);return this.Jo(e,s,l,r,u).then(d=>(Q(dU,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Jo(dU,`RPC '${e}' ${a} failed with error: `,d,"url: ",s,"request:",r),d})}Yo(e,t,r,i,o,a){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){return`${this.Ko}/v1/${t}:${eqe[e]}`}terminate(){}}class nqe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Jr="WebChannelConnection";class rqe extends tqe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const a=uU();return new Promise((s,l)=>{const c=new iie;c.setWithCredentials(!0),c.listenOnce(oie.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case fD.NO_ERROR:const d=c.getResponseJson();Q(Jr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),s(d);break;case fD.TIMEOUT:Q(Jr,`RPC '${e}' ${a} timed out`),l(new Z(j.DEADLINE_EXCEEDED,"Request time out"));break;case fD.HTTP_ERROR:const h=c.getStatus();if(Q(Jr,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f?.error;if(p&&p.status&&p.message){const g=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(y)>=0?y:j.UNKNOWN}(p.status);l(new Z(g,p.message))}else l(new Z(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z(j.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Q(Jr,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);Q(Jr,`RPC '${e}' ${a} sending request:`,i),c.send(t,"POST",u,r,15)})}T_(e,t,r){const i=uU(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lie(),s=sie(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Q(Jr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=a.createWebChannel(u,l);let h=!1,f=!1;const p=new nqe({Zo:v=>{f?Q(Jr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Q(Jr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Q(Jr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},Xo:()=>d.close()}),g=(v,_,y)=>{v.listen(_,w=>{try{y(w)}catch(I){setTimeout(()=>{throw I},0)}})};return g(d,Ly.EventType.OPEN,()=>{f||(Q(Jr,`RPC '${e}' stream ${i} transport opened.`),p.__())}),g(d,Ly.EventType.CLOSE,()=>{f||(f=!0,Q(Jr,`RPC '${e}' stream ${i} transport closed`),p.u_())}),g(d,Ly.EventType.ERROR,v=>{f||(f=!0,Jo(Jr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),p.u_(new Z(j.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ly.EventType.MESSAGE,v=>{var _;if(!f){const y=v.data[0];ge(!!y,16349);const w=y,I=w?.error||(null===(_=w[0])||void 0===_?void 0:_.error);if(I){Q(Jr,`RPC '${e}' stream ${i} received error:`,I);const M=I.status;let P=function(D){const S=nr[D];if(void 0!==S)return Voe(S)}(M),T=I.message;void 0===P&&(P=j.INTERNAL,T="Unknown error status: "+M+" with message "+I.message),f=!0,p.u_(new Z(P,T)),d.close()}else Q(Jr,`RPC '${e}' stream ${i} received:`,y),p.c_(y)}}),g(s,aie.STAT_EVENT,v=>{v.stat===eB.PROXY?Q(Jr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===eB.NOPROXY&&Q(Jr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.a_()},0),p}}function tS(){return typeof document<"u"?document:null}function yb(n){return new c6e(n,!0)}class hU{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const rse="PersistentStream";class ise{constructor(e,t,r,i,o,a,s,l){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new hU(e,t)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var e=this;return F(function*(){e.F_()&&(yield e.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){var e=this;return F(function*(){if(e.M_())return e.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){var r=this;return F(function*(){r.k_(),r.q_(),r.C_.cancel(),r.S_++,4!==e?r.C_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(Yn(t.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),r.C_.m_()):t&&t.code===j.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Q_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.i_(t)})()}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new Z(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.v_?this.z_(i):this.onNext(i))})}x_(){var e=this;this.state=5,this.C_.f_(F(function*(){e.state=0,e.start()}))}W_(e){return Q(rse,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Q(rse,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iqe extends ise{constructor(e,t,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=function h6e(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ue(39313,{state:c}),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(ge(void 0===u||"string"==typeof u,58123),Bn.fromBase64String(u||"")):(ge(void 0===u||u instanceof Buffer||u instanceof Uint8Array,16193),Bn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(c){const u=void 0===c.code?j.UNKNOWN:Voe(c.code);return new Z(u,c.message||"")}(a);t=new Hoe(r,i,o,s||null)}else if("documentChange"in e){const r=e.documentChange,i=ws(n,r.document.name),o=Kn(r.document.updateTime),a=r.document.createTime?Kn(r.document.createTime):ye.min(),s=new Or({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(i,o,a,s);t=new LD(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ws(n,r.document),o=r.readTime?Kn(r.readTime):ye.min(),a=fn.newNoDocument(i,o);t=new LD([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const r=e.documentRemove,i=ws(n,r.document);t=new LD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ue(11601,{Vt:e});{const r=e.filter,{count:i=0,unchangedNames:o}=r,a=new r6e(i,o);t=new zoe(r.targetId,a)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ye.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ye.min():a.readTime?Kn(a.readTime):ye.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=VB(this.serializer),t.addTarget=function(o,a){let s;const l=a.target;if(s=MD(l)?{documents:Zoe(o,l)}:{query:BD(o,l).gt},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=Goe(o,a.resumeToken);const c=NB(o,a.expectedCount);null!==c&&(s.expectedCount=c)}else if(a.snapshotVersion.compareTo(ye.min())>0){s.readTime=sm(o,a.snapshotVersion.toTimestamp());const c=NB(o,a.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function p6e(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=VB(this.serializer),t.removeTarget=e,this.L_(t)}}class oqe extends ise{constructor(e,t,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||0===e.writeResults.length,55816),this.listener.X_()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=function f6e(n,e){return n&&n.length>0?(ge(void 0!==e,14353),n.map(t=>function(i,o){let a=Kn(i.updateTime?i.updateTime:o);return a.isEqual(ye.min())&&(a=Kn(o)),new e6e(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=VB(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function db(n,e){let t;if(e instanceof om)t={update:Xoe(n,e.key,e.value)};else if(e instanceof am)t={delete:ub(n,e.key)};else if(e instanceof Cl)t={update:Xoe(n,e.key,e.data),updateMask:_6e(e.fieldMask)};else{if(!(e instanceof MB))return ue(16599,{ft:e.type});t={verify:ub(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof rm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Zd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Jd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof im)return{fieldPath:a.field.canonicalString(),increment:s.Re};throw ue(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:u6e(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ue(27497)),t;var o}(this.serializer,r))};this.L_(t)}}class aqe{}class sqe extends aqe{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.zo(e,LB(t,r),i,o,a)).catch(o=>{throw"FirebaseError"===o.name?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(j.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Yo(e,LB(t,r),i,a,s,o)).catch(a=>{throw"FirebaseError"===a.name?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(j.UNKNOWN,a.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class lqe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,"Online"===e&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Yn(t),this.oa=!1):Q("OnlineStateTracker",t)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const sh="RemoteStore";class cqe{constructor(e,t,r,i,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(F(function*(){var l;jc(a)&&(Q(sh,"Restarting streams for network reachability change."),yield(l=F(function*(u){const d=ae(u);d.Ta.add(4),yield gm(d),d.da.set("Unknown"),d.Ta.delete(4),yield bb(d)}),function c(u){return l.apply(this,arguments)})(a))}))}),this.da=new lqe(r,i)}}function bb(n){return fU.apply(this,arguments)}function fU(){return fU=F(function*(n){if(jc(n))for(const e of n.Ia)yield e(!0)}),fU.apply(this,arguments)}function gm(n){return pU.apply(this,arguments)}function pU(){return pU=F(function*(n){for(const e of n.Ia)yield e(!1)}),pU.apply(this,arguments)}function nS(n,e){const t=ae(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),vU(t)?gU(t):ym(t).M_()&&mU(t,e))}function vm(n,e){const t=ae(n),r=ym(t);t.Pa.delete(e),r.M_()&&ose(t,e),0===t.Pa.size&&(r.M_()?r.N_():jc(t)&&t.da.set("Unknown"))}function mU(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ym(n).H_(e)}function ose(n,e){n.Aa.Ke(e),ym(n).J_(e)}function gU(n){n.Aa=new o6e({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ym(n).start(),n.da._a()}function vU(n){return jc(n)&&!ym(n).F_()&&n.Pa.size>0}function jc(n){return 0===ae(n).Ta.size}function ase(n){n.Aa=void 0}function uqe(n){return _U.apply(this,arguments)}function _U(){return _U=F(function*(n){n.da.set("Online")}),_U.apply(this,arguments)}function dqe(n){return yU.apply(this,arguments)}function yU(){return yU=F(function*(n){n.Pa.forEach((e,t)=>{mU(n,e)})}),yU.apply(this,arguments)}function hqe(n,e){return bU.apply(this,arguments)}function bU(){return bU=F(function*(n,e){ase(n),vU(n)?(n.da.ca(e),gU(n)):n.da.set("Unknown")}),bU.apply(this,arguments)}function fqe(n,e,t){return wU.apply(this,arguments)}function wU(){return wU=F(function*(n,e,t){if(n.da.set("Online"),e instanceof Hoe&&2===e.state&&e.cause)try{yield(r=F(function*(o,a){const s=a.cause;for(const l of a.targetIds)o.Pa.has(l)&&(yield o.remoteSyncer.rejectListen(l,s),o.Pa.delete(l),o.Aa.removeTarget(l))}),function i(o,a){return r.apply(this,arguments)})(n,e)}catch(r){Q(sh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rS(n,r)}else if(e instanceof LD?n.Aa.Xe(e):e instanceof zoe?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(ye.min()))try{const r=yield jae(n.localStore);t.compareTo(r)>=0&&(yield function(o,a){const s=o.Aa.It(a);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Pa.get(c);u&&o.Pa.set(c,u.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,c)=>{const u=o.Pa.get(l);if(!u)return;o.Pa.set(l,u.withResumeToken(Bn.EMPTY_BYTE_STRING,u.snapshotVersion)),ose(o,l);const d=new El(u.target,l,c,u.sequenceNumber);mU(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){Q(sh,"Failed to raise snapshot:",r),yield rS(n,r)}var r}),wU.apply(this,arguments)}function rS(n,e,t){return CU.apply(this,arguments)}function CU(){return CU=F(function*(n,e,t){if(!Rc(e))throw e;n.Ta.add(1),yield gm(n),n.da.set("Offline"),t||(t=()=>jae(n.localStore)),n.asyncQueue.enqueueRetryable(F(function*(){Q(sh,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield bb(n)}))}),CU.apply(this,arguments)}function sse(n,e){return e().catch(t=>rS(n,t,e))}function _m(n){return EU.apply(this,arguments)}function EU(){return EU=F(function*(n){const e=ae(n),t=$c(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:-1;for(;pqe(e);)try{const i=yield X6e(e.localStore,r);if(null===i){0===e.ha.length&&t.N_();break}r=i.batchId,mqe(e,i)}catch(i){yield rS(e,i)}lse(e)&&cse(e)}),EU.apply(this,arguments)}function pqe(n){return jc(n)&&n.ha.length<10}function mqe(n,e){n.ha.push(e);const t=$c(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function lse(n){return jc(n)&&!$c(n).F_()&&n.ha.length>0}function cse(n){$c(n).start()}function gqe(n){return TU.apply(this,arguments)}function TU(){return TU=F(function*(n){$c(n).ta()}),TU.apply(this,arguments)}function vqe(n){return IU.apply(this,arguments)}function IU(){return IU=F(function*(n){const e=$c(n);for(const t of n.ha)e.Z_(t.mutations)}),IU.apply(this,arguments)}function _qe(n,e,t){return DU.apply(this,arguments)}function DU(){return DU=F(function*(n,e,t){const r=n.ha.shift(),i=PB.from(r,e,t);yield sse(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield _m(n)}),DU.apply(this,arguments)}function yqe(n,e){return SU.apply(this,arguments)}function SU(){return SU=F(function*(n,e){e&&$c(n).Y_&&(yield function(){var t=F(function*(i,o){if(function Loe(n){switch(n){case j.OK:return ue(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return ue(15467,{code:n})}}(s=o.code)&&s!==j.ABORTED){const a=i.ha.shift();$c(i).O_(),yield sse(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),yield _m(i)}var s});return function r(i,o){return t.apply(this,arguments)}}()(n,e)),lse(n)&&cse(n)}),SU.apply(this,arguments)}function use(n,e){return xU.apply(this,arguments)}function xU(){return xU=F(function*(n,e){const t=ae(n);t.asyncQueue.verifyOperationInProgress(),Q(sh,"RemoteStore received new credentials");const r=jc(t);t.Ta.add(3),yield gm(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield bb(t)}),xU.apply(this,arguments)}function MU(){return MU=F(function*(n,e){const t=ae(n);e?(t.Ta.delete(2),yield bb(t)):e||(t.Ta.add(2),yield gm(t),t.da.set("Unknown"))}),MU.apply(this,arguments)}function ym(n){return n.Ra||(n.Ra=function(t,r,i){const o=ae(t);return o.ra(),new iqe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:uqe.bind(null,n),n_:dqe.bind(null,n),i_:hqe.bind(null,n),j_:fqe.bind(null,n)}),n.Ia.push(function(){var e=F(function*(t){t?(n.Ra.O_(),vU(n)?gU(n):n.da.set("Unknown")):(yield n.Ra.stop(),ase(n))});return function(t){return e.apply(this,arguments)}}())),n.Ra}function $c(n){return n.Va||(n.Va=function(t,r,i){const o=ae(t);return o.ra(),new oqe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:gqe.bind(null,n),i_:yqe.bind(null,n),X_:vqe.bind(null,n),ea:_qe.bind(null,n)}),n.Ia.push(function(){var e=F(function*(t){t?(n.Va.O_(),yield _m(n)):(yield n.Va.stop(),n.ha.length>0&&(Q(sh,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))});return function(t){return e.apply(this,arguments)}}())),n.Va}class RU{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const a=Date.now()+r,s=new RU(e,t,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(n,e){if(Yn("AsyncQueue",`${e}: ${n}`),Rc(n))return new Z(j.UNAVAILABLE,`${e}: ${n}`);throw n}class wm{static emptySet(e){return new wm(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||le.comparator(t.key,r.key):(t,r)=>le.comparator(t.key,r.key),this.keyedMap=rb(),this.sortedSet=new on(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dse{constructor(){this.ma=new on(le.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?0!==e.type&&3===r.type?this.ma=this.ma.insert(t,e):3===e.type&&1!==r.type?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.ma=this.ma.remove(t):1===e.type&&2===r.type?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ue(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cm{constructor(e,t,r,i,o,a,s,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const a=[];return t.forEach(s=>{a.push({type:0,doc:s})}),new Cm(e,t,wm.emptySet(t),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bqe{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class wqe{constructor(){this.queries=hse(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(t,r){const i=ae(t),o=i.queries;i.queries=hse(),o.forEach((a,s)=>{for(const l of s.ya)l.onError(r)})}(this,new Z(j.ABORTED,"Firestore shutting down"))}}function hse(){return new wl(n=>_oe(n),tb)}function PU(n,e){return kU.apply(this,arguments)}function kU(){return kU=F(function*(n,e){const t=ae(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new bqe,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(a){const s=bm(a,`Initialization of query '${nm(e.query)}' failed`);return void e.onError(s)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&FU(t)}),kU.apply(this,arguments)}function OU(n,e){return NU.apply(this,arguments)}function NU(){return NU=F(function*(n,e){const t=ae(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const a=o.ya.indexOf(e);a>=0&&(o.ya.splice(a,1),0===o.ya.length?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),NU.apply(this,arguments)}function Cqe(n,e){const t=ae(n);let r=!1;for(const i of e){const a=t.queries.get(i.query);if(a){for(const s of a.ya)s.va(i)&&(r=!0);a.pa=i}}r&&FU(t)}function Eqe(n,e,t){const r=ae(n),i=r.queries.get(e);if(i)for(const o of i.ya)o.onError(t);r.queries.delete(e)}function FU(n){n.ba.forEach(e=>{e.next()})}var LU,fse;(fse=LU||(LU={})).Ca="default",fse.Cache="cache";class VU{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){return!e.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Oa(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(e){e=Cm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==LU.Cache}}class gse{constructor(e){this.key=e}}class vse{constructor(e){this.key=e}}class _se{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=We(),this.mutatedKeys=We(),this.Ha=boe(e),this.Ja=new wm(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new dse,i=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=nb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),v=!0):this.eu(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.Ha(f,l)>0||c&&this.Ha(f,c)<0)&&(s=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(s=!0)),v&&(f?(a=a.add(f),o=g?o.add(u):o.delete(u)):(a=a.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const u="F"===this.query.limitType?a.last():a.first();a=a.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ja:a,Xa:r,Cs:s,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const a=e.Xa.ga();a.sort((u,d)=>function(f,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Vt:v})}};return g(f)-g(p)}(u.type,d.type)||this.Ha(u.doc,d.doc)),this.tu(r),i=null!=i&&i;const s=t&&!i?this.nu():[],l=0===this.ja.size&&this.current&&!i?1:0,c=l!==this.za;return this.za=l,0!==a.length||c?{snapshot:new Cm(this.query,e.Ja,o,a,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:s}:{ru:s}}Da(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new dse,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=We(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new vse(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new gse(r))}),t}su(e){this.Ga=e.$s,this.ja=We();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Cm.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Gc="SyncEngine";class Dqe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Sqe{constructor(e){this.key=e,this._u=!1}}class xqe{constructor(e,t,r,i,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.au={},this.uu=new wl(s=>_oe(s),tb),this.cu=new Map,this.lu=new Set,this.hu=new on(le.comparator),this.Pu=new Map,this.Tu=new WB,this.Iu={},this.Eu=new Map,this.du=oh.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function Aqe(n,e){return BU.apply(this,arguments)}function BU(){return BU=F(function*(n,e,t=!0){const r=iS(n);let i;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield yse(r,e,t,!0),i}),BU.apply(this,arguments)}function Mqe(n,e){return UU.apply(this,arguments)}function UU(){return UU=F(function*(n,e){const t=iS(n);yield yse(t,e,!0,!1)}),UU.apply(this,arguments)}function yse(n,e,t,r){return zU.apply(this,arguments)}function zU(){return zU=F(function*(n,e,t,r){const i=yield function pm(n,e){const t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):t.Ti.allocateTargetId(r).next(a=>(i=new El(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}(n.localStore,Qr(e)),o=i.targetId,a=n.sharedClientState.addLocalQueryTarget(o,t);let s;return r&&(s=yield function HU(n,e,t,r,i){return jU.apply(this,arguments)}(n,e,o,"current"===a,i.resumeToken)),n.isPrimaryClient&&t&&nS(n.remoteStore,i),s}),zU.apply(this,arguments)}function jU(){return jU=F(function*(n,e,t,r,i){n.Ru=(d,h,f)=>{return(p=F(function*(v,_,y,w){let I=_.view.Za(y);I.Cs&&(I=yield QD(v.localStore,_.query,!1).then(({documents:E})=>_.view.Za(E,I)));const M=w&&w.targetChanges.get(_.targetId),P=w&&null!=w.targetMismatches.get(_.targetId),T=_.view.applyChanges(I,v.isPrimaryClient,M,P);return ez(v,_.targetId,T.ru),T.snapshot}),function g(v,_,y,w){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield QD(n.localStore,e,!0),a=new _se(e,o.$s),s=a.Za(o.documents),l=cb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=a.applyChanges(s,n.isPrimaryClient,l);ez(n,t,c.ru);const u=new Dqe(e,t,a);return n.uu.set(e,u),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),c.snapshot}),jU.apply(this,arguments)}function Rqe(n,e,t){return $U.apply(this,arguments)}function $U(){return $U=F(function*(n,e,t){const r=ae(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(a=>!tb(a,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vm(r.remoteStore,i.targetId),Em(r,i.targetId)}).catch(Mc))):(Em(r,i.targetId),yield mm(r.localStore,i.targetId,!0))}),$U.apply(this,arguments)}function Pqe(n,e){return GU.apply(this,arguments)}function GU(){return GU=F(function*(n,e){const t=ae(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vm(t.remoteStore,r.targetId))}),GU.apply(this,arguments)}function qU(){return qU=F(function*(n,e,t){const r=function dz(n){const e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nqe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fqe.bind(null,e),e}(n);try{const i=yield function(a,s){const l=ae(a),c=Dn.now(),u=s.reduce((f,p)=>f.add(p.key),We());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=eo(),g=We();return l.Bs.getEntries(f,u).next(v=>{p=v,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{d=v;const _=[];for(const y of s){const w=n6e(y,d.get(y.key).overlayedDocument);null!=w&&_.push(new Cl(y.key,w,noe(w.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,_,s)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:Coe(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let c=a.Iu[a.currentUser.toKey()];c||(c=new on(Pe)),c=c.insert(s,l),a.Iu[a.currentUser.toKey()]=c}(r,i.batchId,t),yield Tl(r,i.changes),yield _m(r.remoteStore)}catch(i){const o=bm(i,"Failed to persist write");t.reject(o)}}),qU.apply(this,arguments)}function bse(n,e){return WU.apply(this,arguments)}function WU(){return WU=F(function*(n,e){const t=ae(n);try{const r=yield function K6e(n,e){const t=ae(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const s=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;s.push(t.Ti.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Ti.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,v,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Bn.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),v=f,_=u,(0===(g=h).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&s.push(t.Ti.updateTargetData(o,f))});let l=eo(),c=We();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),s.push(function $ae(n,e,t){let r=We(),i=We();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let a=eo();return t.forEach((s,l)=>{const c=o.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):Q(tU,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{qs:a,Qs:i}})}(o,a,e.documentUpdates).next(u=>{l=u.qs,c=u.Qs})),!r.isEqual(ye.min())){const u=t.Ti.getLastRemoteSnapshotVersion(o).next(d=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(u)}return U.waitFor(s).next(()=>a.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.xs=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const a=t.Pu.get(o);a&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a._u=!0:i.modifiedDocuments.size>0?ge(a._u,14607):i.removedDocuments.size>0&&(ge(a._u,42227),a._u=!1))}),yield Tl(t,r,e)}catch(r){yield Mc(r)}}),WU.apply(this,arguments)}function wse(n,e,t){const r=ae(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.uu.forEach((o,a)=>{const s=a.view.Da(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ae(a);l.onlineState=s;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ya)h.Da(s)&&(c=!0)}),c&&FU(l)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Oqe(n,e,t){return YU.apply(this,arguments)}function YU(){return YU=F(function*(n,e,t){const r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),o=i&&i.key;if(o){let a=new on(le.comparator);a=a.insert(o,fn.newNoDocument(o,ye.min()));const s=We().add(o),l=new lb(ye.min(),new Map,new on(Pe),a,s);yield bse(r,l),r.hu=r.hu.remove(o),r.Pu.delete(e),tz(r)}else yield mm(r.localStore,e,!1).then(()=>Em(r,e,t)).catch(Mc)}),YU.apply(this,arguments)}function Nqe(n,e){return KU.apply(this,arguments)}function KU(){return KU=F(function*(n,e){const t=ae(n),r=e.batch.batchId;try{const i=yield function Y6e(n,e){const t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const d=c.batch,h=d.keys();let f=U.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(g=>{const v=c.docVersions.get(p);ge(null!==v,48541),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=We();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);JU(t,r,null),ZU(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Tl(t,i)}catch(i){yield Mc(i)}}),KU.apply(this,arguments)}function Fqe(n,e,t){return XU.apply(this,arguments)}function XU(){return XU=F(function*(n,e,t){const r=ae(n);try{const i=yield function(a,s){const l=ae(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(ge(null!==d,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);JU(r,e,t),ZU(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Tl(r,i)}catch(i){yield Mc(i)}}),XU.apply(this,arguments)}function ZU(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function JU(n,e,t){const r=ae(n);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function Em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||Cse(n,r)})}function Cse(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);null!==t&&(vm(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),tz(n))}function ez(n,e,t){for(const r of t)r instanceof gse?(n.Tu.addReference(r.key,e),Vqe(n,r)):r instanceof vse?(Q(Gc,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||Cse(n,r.key)):ue(19791,{mu:r})}function Vqe(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Q(Gc,"New document in limbo: "+t),n.lu.add(r),tz(n))}function tz(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new le(ut.fromString(e)),r=n.du.next();n.Pu.set(r,new Sqe(t)),n.hu=n.hu.insert(t,r),nS(n.remoteStore,new El(Qr(em(t.path)),r,"TargetPurposeLimboResolution",To.le))}}function Tl(n,e,t){return nz.apply(this,arguments)}function nz(){return nz=F(function*(n,e,t){const r=ae(n),i=[],o=[],a=[];var s;r.uu.isEmpty()||(r.uu.forEach((s,l)=>{a.push(r.Ru(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const d=c?!c.fromCache:null===(u=t?.targetChanges.get(l.targetId))||void 0===u?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=eU.Rs(l.targetId,c);o.push(d)}}))}),yield Promise.all(a),r.au.j_(i),yield(s=F(function*(c,u){const d=ae(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,f=>U.forEach(f.ds,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>U.forEach(f.As,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Rc(h))throw h;Q(tU,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.xs.get(f),v=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.xs=d.xs.insert(f,v)}}}),function l(c,u){return s.apply(this,arguments)})(r.localStore,o))}),nz.apply(this,arguments)}function Bqe(n,e){return rz.apply(this,arguments)}function rz(){return rz=F(function*(n,e){const t=ae(n);if(!t.currentUser.isEqual(e)){Q(Gc,"User change. New user:",e.toKey());const r=yield Hae(t.localStore,e);t.currentUser=e,(o=t).Eu.forEach(s=>{s.forEach(l=>{l.reject(new Z(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Eu.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tl(t,r.ks)}var o}),rz.apply(this,arguments)}function Uqe(n,e){const t=ae(n),r=t.Pu.get(e);if(r&&r._u)return We().add(r.key);{let i=We();const o=t.cu.get(e);if(!o)return i;for(const a of o){const s=t.uu.get(a);i=i.unionWith(s.view.Ya)}return i}}function iS(n){const e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bse.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uqe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oqe.bind(null,e),e.au.j_=Cqe.bind(null,e.eventManager),e.au.Vu=Eqe.bind(null,e.eventManager),e}let oS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return F(function*(){r.serializer=yb(t.databaseInfo.databaseId),r.sharedClientState=r.pu(t),r.persistence=r.yu(t),yield r.persistence.start(),r.localStore=r.wu(t),r.gcScheduler=r.Su(t,r.localStore),r.indexBackfillerScheduler=r.bu(t,r.localStore)})()}Su(t,r){return null}bu(t,r){return null}wu(t){return function zae(n,e,t,r){return new W6e(n,e,t,r)}(this.persistence,new Uae,t.initialUser,this.serializer)}yu(t){return new YB(YD.fi,this.serializer)}pu(t){return new Jae}terminate(){var t=this;return F(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class hz extends oS{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){return ge(this.persistence.referenceDelegate instanceof KD,46915),new Mae(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}yu(e){const t=void 0!==this.cacheSizeBytes?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new YB(r=>KD.fi(r,t),this.serializer)}}let Tm=(()=>{class n{initialize(t,r){var i=this;return F(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>wse(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Bqe.bind(null,i.syncEngine),yield function AU(n,e){return MU.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new wqe}createDatastore(t){const r=yb(t.databaseInfo.databaseId),i=new rqe(t.databaseInfo);return new sqe(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,o=this.datastore,a=t.asyncQueue,s=r=>wse(this.syncEngine,r,0),l=tse.C()?new tse:new J6e,new cqe(i,o,a,s,l);var i,o,a,s,l}createSyncEngine(t,r){return function(o,a,s,l,c,u,d){const h=new xqe(o,a,s,l,c,u);return d&&(h.Au=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return F(function*(){var r,i,o;yield(o=F(function*(s){const l=ae(s);Q(sh,"RemoteStore shutting down."),l.Ta.add(5),yield gm(l),l.Ea.shutdown(),l.da.set("Unknown")}),function a(s){return o.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class aS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const qc="FirestoreClient";class Zqe{constructor(e,t,r,i,o){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wr.UNAUTHENTICATED,this.clientId=fie.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var s=F(function*(l){Q(qc,"Received user=",l.uid),yield a.authCredentialListener(l),a.user=l});return function(l){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(Q(qc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(F(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=bm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function pz(n,e){return mz.apply(this,arguments)}function mz(){return mz=F(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Q(qc,"Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=F(function*(o){r.isEqual(o)||(yield Hae(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),mz.apply(this,arguments)}function Sse(n,e){return gz.apply(this,arguments)}function gz(){return gz=F(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function vz(n){return _z.apply(this,arguments)}(n);Q(qc,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>use(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>use(e.remoteStore,i)),n._onlineComponents=e}),gz.apply(this,arguments)}function _z(){return _z=F(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q(qc,"Using user provided OfflineComponentProvider");try{yield pz(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;Jo("Error using user provided cache. Falling back to memory cache: "+e),yield pz(n,new oS)}}else Q(qc,"Using default OfflineComponentProvider"),yield pz(n,new hz(void 0));var i;return n._offlineComponents}),_z.apply(this,arguments)}function sS(n){return yz.apply(this,arguments)}function yz(){return yz=F(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q(qc,"Using user provided OnlineComponentProvider"),yield Sse(n,n._uninitializedComponentsProvider._online)):(Q(qc,"Using default OnlineComponentProvider"),yield Sse(n,new Tm))),n._onlineComponents}),yz.apply(this,arguments)}function Dm(n){return wz.apply(this,arguments)}function wz(){return wz=F(function*(n){const e=yield sS(n),t=e.eventManager;return t.onListen=Aqe.bind(null,e.syncEngine),t.onUnlisten=Rqe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Mqe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Pqe.bind(null,e.syncEngine),t}),wz.apply(this,arguments)}function kse(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Ose=new Map;function Cz(n,e,t){if(!t)throw new Z(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Nse(n){if(!le.isDocumentKey(n))throw new Z(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fse(n){if(le.isDocumentKey(n))throw new Z(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ue(12329,{type:typeof n})}function at(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lS(n);throw new Z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const Vse="firestore.googleapis.com";class Use{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vse,this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function uWe(n,e,t,r){if(!0===e&&!0===r)throw new Z(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kse(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Use({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Use(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new W$e;switch(r.type){case"firstParty":return new Q$e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return F(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ose.get(t);r&&(Q("ComponentProvider","Removing Datastore"),Ose.delete(t),r.terminate())}(this),Promise.resolve()}}class Nr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nr(this.firestore,e,this._query)}}class Xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Es extends Nr{constructor(e,t,r){super(e,t,em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new le(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function hWe(n,e,...t){if(n=Ln(n),Cz("collection","path",e),n instanceof wb){const r=ut.fromString(e,...t);return Fse(r),new Es(n,null,r)}{if(!(n instanceof Xn||n instanceof Es))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return Fse(r),new Es(n.firestore,null,r)}}function zse(n,e,...t){if(n=Ln(n),1===arguments.length&&(e=fie.newId()),Cz("doc","path",e),n instanceof wb){const r=ut.fromString(e,...t);return Nse(r),new Xn(n,null,new le(r))}{if(!(n instanceof Xn||n instanceof Es))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return Nse(r),new Xn(n.firestore,n instanceof Es?n.converter:null,new le(r))}}const jse="AsyncQueue";class $se{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new hU(this,"async_queue_retry"),this.ec=()=>{const r=tS();r&&Q(jse,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=tS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=tS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Cr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){var e=this;return F(function*(){if(0!==e.zu.length){try{yield e.zu[0](),e.zu.shift(),e.C_.reset()}catch(t){if(!Rc(t))throw t;Q(jse,"Operation failed with retryable error: "+t)}e.zu.length>0&&e.C_.f_(()=>e.sc())}})()}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Yn("INTERNAL UNHANDLED ERROR: ",Gse(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=RU.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&ue(47125,{_c:Gse(this.Ju)})}verifyOperationInProgress(){}ac(){var e=this;return F(function*(){let t;do{t=e.tc,yield t}while(t!==e.tc)})()}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function Gse(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),e}function Ez(n){return function(t){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class Gt extends wb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $se,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return F(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new $se(t),e._firestoreClient=void 0,yield t}})()}}function pWe(n,e){const t="object"==typeof n?n:lL(),r="string"==typeof n?n:e||Ky,i=UI(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(()=>{const e=jte("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&function dWe(n,e,t,r={}){var i;n=at(n,wb);const o=cy(e),a=n._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(qte(`https://${l}`),Yte("Firestore",!0)),a.host!==Vse&&a.host!==l&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:r});if(!cl(c,s)&&(n._setSettings(c),r.mockUserToken)){let u,d;if("string"==typeof r.mockUserToken)u=r.mockUserToken,d=wr.MOCK_USER;else{u=function lHe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kI(JSON.stringify({alg:"none",type:"JWT"})),kI(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new wr(h)}n._authCredentials=new Y$e(new hie(u,d))}}(i,...o)}return i}function Sn(n){if(n._terminated)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function qse(n){var e,t,r;const i=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new NGe(n._databaseId,l,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,kse(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator));var l,u;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Zqe(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}}(n._componentsProvider))}(n),n._firestoreClient}class lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lh(Bn.fromBase64String(e))}catch(t){throw new Z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lh(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ch{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sm{constructor(e){this._methodName=e}}class Iz{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}class cS{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const gWe=/^__.*__$/;class vWe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new om(e,this.data,t,this.fieldTransforms)}}class Yse{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kse(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{hc:n})}}class uS{constructor(e,t,r,i,o,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new uS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return fS(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(0===e.length)throw this.Vc("Document fields must not be empty");if(Kse(this.hc)&&gWe.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class _We{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yb(e)}gc(e,t,r,i=!1){return new uS({hc:e,methodName:t,fc:r,path:bn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uh(n){const e=n._freezeSettings(),t=yb(n._databaseId);return new _We(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dS(n,e,t,r,i,o={}){const a=n.gc(o.merge||o.mergeFields?2:0,e,t,i);Pz("Data must be an object, but it was:",a,r);const s=Zse(r,a);let l,c;if(o.merge)l=new Ji(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Tb(e,d,t);if(!a.contains(h))throw new Z(j.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ele(u,h)||u.push(h)}l=new Ji(u),c=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=a.fieldTransforms;return new vWe(new Or(s),l,c)}class Eb extends Sm{_toFieldTransform(e){if(2!==e.hc)throw e.Vc(1===e.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eb}}function dh(n,e){if(Jse(n=Ln(n)))return Pz("Unsupported field value:",e,n),Zse(n,e);if(n instanceof Sm)return function(r,i){if(!Kse(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&4!==e.hc)throw e.Vc("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=dh(s,i.Rc(a));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=Ln(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Ioe(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Dn.fromDate(r);return{timestampValue:sm(i.serializer,o)}}if(r instanceof Dn){const o=new Dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(i.serializer,o)}}if(r instanceof Iz)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lh)return{bytesValue:Goe(i.serializer,r._byteString)};if(r instanceof Xn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Vc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:FB(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cS)return a=r,s=i,{mapValue:{fields:{[_B]:{stringValue:yB},[Qp]:{arrayValue:{values:a.toArray().map(c=>{if("number"!=typeof c)throw s.Vc("VectorValues must only contain numeric values.");return AB(s.serializer,c)})}}}}};var a,s;throw i.Vc(`Unsupported field value: ${lS(r)}`)}(n,e)}function Zse(n,e){const t={};return Uie(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(r,i)=>{const o=dh(i,e.Ic(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function Jse(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dn||n instanceof Iz||n instanceof lh||n instanceof Xn||n instanceof Sm||n instanceof cS)}function Pz(n,e,t){if(!Jse(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=lS(t);throw e.Vc("an object"===r?n+" a custom object":n+" "+r)}var i}function Tb(n,e,t){if((e=Ln(e))instanceof ch)return e._internalPath;if("string"==typeof e)return hS(n,e);throw fS("Field path arguments must be of type string or ",n,!1,void 0,t)}const yWe=new RegExp("[~\\*/\\[\\]]");function hS(n,e,t){if(e.search(yWe)>=0)throw fS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ch(...e.split("."))._internalPath}catch{throw fS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fS(n,e,t,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${e}() called with invalid data`;t&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Z(j.INVALID_ARGUMENT,s+n+l)}function ele(n,e){return n.some(t=>t.isEqual(e))}class Ib{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bWe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bWe extends Ib{data(){return super.data()}}function pS(n,e){return"string"==typeof e?hS(n,e):e instanceof ch?e._internalPath:e._delegate._internalPath}class sle{convertValue(e,t="none"){switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return kc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t[Qp].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(a=>wn(a.doubleValue));return new cS(o)}convertGeoPoint(e){return new Iz(wn(e.latitude),wn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ID(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yy(e));default:return null}}convertTimestamp(e){const t=_l(e);return new Dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);ge(rae(r),9688,{name:e});const i=new Kd(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(t)||Yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function _S(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Am extends Ib{constructor(e,t,r,i,o,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class yS extends Am{data(e={}){return super.data(e)}}class Mm{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new hh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new yS(this._firestore,this._userDataWriter,r.key,r,new hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new yS(i._firestore,i._userDataWriter,s.doc.key,s.doc,new hh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||3!==s.type).map(s=>{const l=new yS(i._firestore,i._userDataWriter,s.doc.key,s.doc,new hh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),1!==s.type&&(a=a.add(s.doc),u=a.indexOf(s.doc.key)),{type:EWe(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EWe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:n})}}function TWe(n){n=at(n,Xn);const e=at(n.firestore,Gt);return function Rse(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget(F(function*(){return function(o,a,s,l,c){const u=new aS({next:h=>{u.Cu(),a.enqueueAndForget(()=>OU(o,d));const f=h.docs.has(s);!f&&h.fromCache?c.reject(new Z(j.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&"server"===l.source?c.reject(new Z(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new VU(em(s.path),u,{includeMetadataChanges:!0,La:!0});return PU(o,d)}(yield Dm(n),n.asyncQueue,e,t,r)})),r.promise}(Sn(e),n._key).then(t=>Nz(e,n,t))}class Wc extends sle{constructor(e){super(),this.firestore=e}convertBytes(e){return new lh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function IWe(n,e,t){n=at(n,Xn);const r=at(n.firestore,Gt),i=_S(n.converter,e,t);return xb(r,[dS(uh(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Cn.none())])}function DWe(n,e,t,...r){n=at(n,Xn);const i=at(n.firestore,Gt),o=uh(i);let a;return a="string"==typeof(e=Ln(e))||e instanceof ch?function Rz(n,e,t,r,i,o){const a=n.gc(1,e,t),s=[Tb(e,r,t)],l=[i];if(o.length%2!=0)throw new Z(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Tb(e,o[h])),l.push(o[h+1]);const c=[],u=Or.empty();for(let h=s.length-1;h>=0;--h)if(!ele(c,s[h])){const f=s[h];let p=l[h];p=Ln(p);const g=a.Ac(f);if(p instanceof Eb)c.push(f);else{const v=dh(p,g);null!=v&&(c.push(f),u.set(f,v))}}const d=new Ji(c);return new Yse(u,d,a.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function Mz(n,e,t,r){const i=n.gc(1,e,t);Pz("Data must be an object, but it was:",i,r);const o=[],a=Or.empty();kc(r,(l,c)=>{const u=hS(e,l,t);c=Ln(c);const d=i.Ac(u);if(c instanceof Eb)o.push(u);else{const h=dh(c,d);null!=h&&(o.push(u),a.set(u,h))}});const s=new Ji(o);return new Yse(a,s,i.fieldTransforms)}(o,"updateDoc",n._key,e),xb(i,[a.toMutation(n._key,Cn.exists(!0))])}function SWe(n){return xb(at(n.firestore,Gt),[new am(n._key,Cn.none())])}function xWe(n,e){const t=at(n.firestore,Gt),r=zse(n),i=_S(n.converter,e);return xb(t,[dS(uh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function xb(n,e){return function(r,i){const o=new Cr;return r.asyncQueue.enqueueAndForget(F(function*(){return function kqe(n,e,t){return qU.apply(this,arguments)}(yield function bz(n){return sS(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Sn(n),e)}function Nz(n,e,t){const r=t.docs.get(e._key),i=new Wc(n);return new Am(n,i,e._key,r,new hh(t.hasPendingWrites,t.fromCache),e.converter)}!function(e,t=!0){Bp=Rp,Ec(new ul("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Gt(new K$e(r.getProvider("auth-internal")),new Z$e(a,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kd(c.options.projectId,u)}(a,i),a);return o=Object.assign({useFetchStreams:t},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Di(cie,"4.7.16",e),Di(cie,"4.7.16","esm2017")}();var wS=function(){return wS=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wS.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var jWe={includeMetadataChanges:!1};function Vz(n,e){return void 0===e&&(e=jWe),new Wt(function(t){var r=function AWe(n,...e){var t,r,i;n=Ln(n);let o={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof e[a]||Ez(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ez(e[a])){const d=e[a];e[a]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[a+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[a+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof Xn)c=at(n.firestore,Gt),u=em(n._key.path),l={next:d=>{e[a]&&e[a](Nz(c,n,d))},error:e[a+1],complete:e[a+2]};else{const d=at(n,Nr);c=at(d.firestore,Gt),u=d._query;const h=new Wc(c);l={next:f=>{e[a]&&e[a](new Mm(c,h,d,f))},error:e[a+1],complete:e[a+2]},function tle(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Z(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(h,f,p,g){const v=new aS(g),_=new VU(f,v,p);return h.asyncQueue.enqueueAndForget(F(function*(){return PU(yield Dm(h),_)})),()=>{v.Cu(),h.asyncQueue.enqueueAndForget(F(function*(){return OU(yield Dm(h),_)}))}}(Sn(c),u,s,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function XWe(n,e){return void 0===e&&(e={}),function KWe(n){return Vz(n,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(n).pipe(Ye(function(t){return t.map(function(r){return function dle(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?wS(wS({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class Ab{constructor(e){return e}}const zz=new W("angularfire2.firestore-instances");function e8e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ab(r)}}const t8e={provide:class ZWe{constructor(){return pL("firestore")}},deps:[[new Dr,zz]]},n8e={provide:Ab,useFactory:function JWe(n,e){const t=fL("firestore",n,e);return t&&new Ab(t)},deps:[[new Dr,zz],kp]},gle=wo(XWe,!0),vle=wo(xWe,!0,2),CS=wo(hWe,!0,2),_le=wo(SWe,!0,2),fh=wo(zse,!0,2),yle=wo(TWe,!0),i8e=wo(pWe,!0),Hz=wo(IWe,!0,2),ble=wo(DWe,!0,2);let Rm=(()=>{class n{firestore;constructor(t){this.firestore=t}addCadastroClientepj(t){var r=this;return F(function*(){const i=CS(r.firestore,"clientepj"),o=yield vle(i,t);return yield Hz(o,{...t,id:o.id},{merge:!0}),o})()}getClientepj(){if(!this.firestore)return console.error("Firestore ainda n\xe3o est\xe1 pronto!"),Se([]);const t=CS(this.firestore,"clientepj");return gle(t,{idField:"id"})}updateClientepj(t,r){var i=this;return F(function*(){const o=fh(i.firestore,"clientepj",t);return ble(o,r)})()}deleteClientepj(t){var r=this;return F(function*(){const i=fh(r.firestore,"clientepj",t);return _le(i)})()}addTarefa(t){var r=this;return F(function*(){const i=CS(r.firestore,"tarefas"),o=yield vle(i,t);return yield Hz(o,{...t,id:o.id},{merge:!0}),o})()}getTarefas(){if(!this.firestore)return console.error("Firestore ainda n\xe3o est\xe1 pronto!"),Se([]);const t=CS(this.firestore,"tarefas");return gle(t,{idField:"id"})}updateTarefa(t,r){var i=this;return F(function*(){const o=fh(i.firestore,"tarefas",t);return ble(o,r)})()}deleteTarefa(t){var r=this;return F(function*(){const i=fh(r.firestore,"tarefas",t);return _le(i)})()}getContagemPorPrioridade(){return this.getTarefas().pipe(Ye(t=>{const r={};return t.forEach(i=>{const o=i.prioridadeSelecionada.toLowerCase();r[o]=(r[o]||0)+1}),Object.keys(r).map(i=>({prioridade:i,quantidade:r[i]}))}))}static \u0275fac=function(r){return new(r||n)(_e(Ab))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jz=(()=>{class n{links=[{value:"ABERTURA MEI",url:"https://sso.acesso.gov.br/login?client_id=mei.receita.economia.gov.br&authorization_id=19746b6ddfa"},{value:"BAIXA CERTIFICADO DIGITAL",url:"https://emissao-online.soluti.com.br/issue/plugin"},{value:"BAIXA CNPJ ME",url:"https://sso.acesso.gov.br/login?client_id=coletor-nacional.redesimservicos.rfb.gov.br&authorization_id=19746d12418"},{value:"BAIXA CNPJ MEI",url:"https://sso.acesso.gov.br/login?client_id=mei.receita.economia.gov.br&authorization_id=19746a4625c"},{value:"BAIXA XML NF COMPRAS",url:"https://meu.inpi.gov.br/pag/"},{value:"CANCELAMENTO EXTEPORANIO",url:"https://www2.fazenda.mg.gov.br/sol/"},{value:"CORRIGIR NFC REJEITADA",url:"https://oliversistemas.com.br/contabilidade/clientes/index?busca_simples=true&situacao=ativo "},{value:"DOCUMETA\xc7\xc3O MRV",url:"https://bpoacnbrprod.service-now.com/mrv_portal_terceiros"},{value:"EMISS\xc3O DE NF",url:"https://nfse.uberlandia.mg.gov.br/index.html#/"},{value:"EMISS\xc3O DE NFSE",url:"https://www.nfse.gov.br/EmissorNacional/Login?ReturnUrl=%2fEmissorNacional"},{value:"EMISS\xc3O DE NFSe MEI",url:"https://sso.acesso.gov.br/login?client_id=nfse.gov.br&authorization_id=19746bea468"},{value:"EMISS\xc3O DE NF SIARE",url:"https://www2.fazenda.mg.gov.br/sol/"},{value:"EMITIR BOLETO SEGURO DE VIDA",url:"https://cliente.portalpasi.com.br/login"},{value:"EMITIR BOLETO SEGURO\xa0VIDA",url:"https://cliente.portalpasi.com.br/login"},{value:"EMITIR CERTIFICADO DIGITAL",url:"https://emissao-online.soluti.com.br/issue/plugin"},{value:"EMITIR GUIA FGTS",url:"https://fgtsdigital.sistema.gov.br/portal/login"},{value:"EMITIR FGTS",url:"https://sso.acesso.gov.br/login?client_id=por-p-fgtsd.estaleiro.serpro.gov.br&authorization_id=19746aa9a10"},{value:"ENVIAR GUIAS INSS",url:"https://www8.receita.fazenda.gov.br/SimplesNacional/Aplicacoes/ATSPO/dasnsimei.app/Identificacao"},{value:"IMPORTAR XML DE COMPRA OLIVER",url:"https://oliversistemas.com.br/contabilidade/clientes/index?busca_simples=true&situacao=ativo "},{value:"NEGOCIA\xc7\xc3O ME",url:"https://www8.receita.fazenda.gov.br/SimplesNacional/Servicos/Grupo.aspx?grp=t&area=2"},{value:"PARCELAMENTO DIVIDA ATIVA",url:"https://www.regularize.pgfn.gov.br"},{value:"PARCELAMENTO MEI",url:"https://www8.receita.fazenda.gov.br/SimplesNacional/Servicos/Grupo.aspx?grp=t&area=2 "},{value:"REGISTRO DE MARCA",url:"https://www.nfe.fazenda.gov.br/portal/principal.aspx"},{value:"RENOVA CERTIFICADO DIGITAL",url:"https://www.seguraonline.com.br/parceiros/"},{value:"REQUERIMENTO AUX\xcdLIO\xa0INSS",url:"https://www.gov.br/pt-br/temas/meu-inss"},{value:"REQUIREMENTO DE CERTIFICADO DIGITAL",url:"https://www.seguraonline.com.br/parceiros/"},{value:"SALVA CHAVE NF COMPRAS",url:"https://www.nfe.fazenda.gov.br/portal/principal.aspx"},{value:"SEGURO DESEMPREGO",url:"https://sd.maisemprego.mte.gov.br/sdweb/empregadorweb/index.jsf"}];constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const o8e=()=>["30%","80%"];function a8e(n,e){if(1&n&&(z(0,"li")(1,"a",10),xe(2),V()()),2&n){const t=e.$implicit;H(),X("href",t.url,Mw),H(),ur(" ",t.value," ")}}function s8e(n,e){if(1&n&&(z(0,"div",5)(1,"div",6)(2,"h3"),xe(3,"Acesso R\xe1pido"),V()(),z(4,"div",7)(5,"ul",8),et(6,a8e,3,2,"li",9),V()()()),2&n){const t=ie();H(6),X("ngForOf",t.links)}}function l8e(n,e){1&n&&Ne(0,"div",11)}let c8e=(()=>{class n{firestoreService;router;linkService;graficoDados$;links=[];mostrarAcessoRapido=!1;toggleListener=()=>{this.mostrarAcessoRapido=!this.mostrarAcessoRapido};ngOnInit(){this.router.getCurrentNavigation()?.extras?.state?.mostrarAcessoRapido&&(this.mostrarAcessoRapido=!0),window.addEventListener("toggleAcessoRapido",this.toggleListener)}ngOnDestroy(){window.removeEventListener("toggleAcessoRapido",this.toggleListener)}constructor(t,r,i){this.firestoreService=t,this.router=r,this.linkService=i,this.links=this.linkService.links;const o={Alta:"#ff0000",Moderado:"#FFFF00",Baixa:"#ffffff","Sem prioridade":"#cccccc"};this.graficoDados$=this.firestoreService.getTarefas().pipe(Ye(a=>a.filter(s=>!s.dataConclusao||""===s.dataConclusao)),Ye(a=>{const s={};return a.forEach(l=>{const c=l.prioridadeSelecionada||"Sem prioridade";s[c]=(s[c]||0)+1}),Object.keys(s).map(l=>({name:this.capitalize(l),value:s[l],itemStyle:{color:o[this.capitalize(l)]||"#cccccc"}}))}))}onPrioridadeSelecionada(t){console.log("Prioridade recebida:",t),localStorage.setItem("prioridadeSelecionada",t),this.router.navigate(["/tarefas"])}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}static \u0275fac=function(r){return new(r||n)(Y(Rm),Y(mi),Y(jz))};static \u0275cmp=st({type:n,selectors:[["ale-home"]],decls:5,vars:7,consts:[[1,"container__home"],["id","container__home-left",4,"ngIf"],["id","container__home-center"],["title","Tarefas por Prioridade","legendColor","lightblue","labelFormatter","{c}","corLabelFormatter","black",3,"prioridadeSelecionada","data$","legendShow","labelShow","radius"],["id","container__home-right",4,"ngIf"],["id","container__home-left"],["id","acesso-rapido__titulo"],["id","acesso-rapido__links"],[1,"home-left-links"],[4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer",3,"href"],["id","container__home-right"]],template:function(r,i){1&r&&(z(0,"div",0),et(1,s8e,7,1,"div",1),z(2,"div",2)(3,"ale-chart-pie",3),ce("prioridadeSelecionada",function(a){return i.onPrioridadeSelecionada(a)}),V()(),et(4,l8e,1,0,"div",4),V()),2&r&&(H(),X("ngIf",i.mostrarAcessoRapido),H(2),X("data$",i.graficoDados$)("legendShow",!1)("labelShow",!0)("radius",_C(6,o8e)),H(),X("ngIf",i.mostrarAcessoRapido))},dependencies:[Xze,Dv,$i],styles:["[_nghost-%COMP%]{display:block;width:90%;height:100%}.container__home[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;width:100%;align-items:center;justify-content:center}#container__home-left[_ngcontent-%COMP%]{width:250px;height:100%;padding:20px 0 10px 10px}#acesso-rapido__titulo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:45px;margin:0;padding:0;background:linear-gradient(to bottom,#9da1a1,#000,#9da1a1);color:#fff}#acesso-rapido__links[_ngcontent-%COMP%]{padding:20px 0 10px 25px;max-height:60vh;overflow:hidden}#acesso-rapido__links[_ngcontent-%COMP%]:hover{overflow:auto}#acesso-rapido__links[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}#acesso-rapido__links[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}#acesso-rapido__links[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0000004d;border-radius:4px}.home-left-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.home-left-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:font-size .3s ease;color:#0000ff59}.home-left-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-size:1.2em;color:#00f}#container__home-center[_ngcontent-%COMP%]{display:flex;justify-content:center;width:calc(80% - 200px);height:100%;align-items:center}#container__home-right[_ngcontent-%COMP%]{width:20%;height:100%}.home-left-links[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}"]})}return n})(),wle=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Y(Oo),Y(cn))};static \u0275dir=be({type:n})}return n})(),ph=(()=>{class n extends wle{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275dir=be({type:n,features:[mt]})}return n})();const Si=new W(""),d8e={provide:Si,useExisting:_t(()=>ES),multi:!0};let ES=(()=>{class n extends ph{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275dir=be({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&ce("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[vt([d8e]),mt]})}return n})();const h8e={provide:Si,useExisting:_t(()=>Kc),multi:!0},p8e=new W("");let Kc=(()=>{class n extends wle{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function f8e(){const n=Wl()?Wl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Y(Oo),Y(cn),Y(p8e,8))};static \u0275dir=be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ce("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[vt([h8e]),mt]})}return n})();function $z(n){return null==n||0===Gz(n)}function Gz(n){return null==n?null:Array.isArray(n)||"string"==typeof n?n.length:n instanceof Set?n.size:null}const Fr=new W(""),Xc=new W(""),m8e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qc{static min(e){return function Cle(n){return e=>{if(null==e.value||null==n)return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ele(n){return e=>{if(null==e.value||null==n)return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Tle(e)}static requiredTrue(e){return function Ile(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Dle(n){return $z(n.value)||m8e.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Sle(n){return e=>{const t=e.value?.length??Gz(e.value);return null===t||0===t?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}(e)}static maxLength(e){return function xle(n){return e=>{const t=e.value?.length??Gz(e.value);return null!==t&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}(e)}static pattern(e){return function Ale(n){if(!n)return TS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if($z(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Nle(e)}static composeAsync(e){return Fle(e)}}function Tle(n){return $z(n.value)?{required:!0}:null}function TS(n){return null}function Mle(n){return null!=n}function Rle(n){return ev(n)?hr(n):n}function Ple(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function kle(n,e){return e.map(t=>t(n))}function Ole(n){return n.map(e=>function g8e(n){return!n.validate}(e)?e:t=>e.validate(t))}function Nle(n){if(!n)return null;const e=n.filter(Mle);return 0==e.length?null:function(t){return Ple(kle(t,e))}}function qz(n){return null!=n?Nle(Ole(n)):null}function Fle(n){if(!n)return null;const e=n.filter(Mle);return 0==e.length?null:function(t){return function u8e(...n){const e=u9(n),{args:t,keys:r}=d9(n),i=new Wt(o=>{const{length:a}=t;if(!a)return void o.complete();const s=new Array(a);let l=a,c=a;for(let u=0;u<a;u++){let d=!1;fo(t[u]).subscribe(ln(o,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?f9(r,s):s),o.complete())}))}});return e?i.pipe(h9(e)):i}(kle(t,e).map(Rle)).pipe(Ye(Ple))}}function Wz(n){return null!=n?Fle(Ole(n)):null}function Lle(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Vle(n){return n._rawValidators}function Ble(n){return n._rawAsyncValidators}function Yz(n){return n?Array.isArray(n)?n:[n]:[]}function IS(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ule(n,e){const t=Yz(e);return Yz(n).forEach(i=>{IS(t,i)||t.push(i)}),t}function zle(n,e){return Yz(e).filter(t=>!IS(n,t))}class Hle{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qz(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xi extends Hle{name;get formDirective(){return null}get path(){return null}}class Io extends Hle{_parent=null;name=null;valueAccessor=null}class jle{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Il=(()=>{class n extends jle{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Y(Io,2))};static \u0275dir=be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mt]})}return n})(),Mb=(()=>{class n extends jle{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Y(xi,10))};static \u0275dir=be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Qn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mt]})}return n})();const Rb="VALID",SS="INVALID",Pm="PENDING",Pb="DISABLED";class km{}class Gle extends km{value;source;constructor(e,t){super(),this.value=e,this.source=t}}class Qz extends km{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}}class Zz extends km{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}}class xS extends km{status;source;constructor(e,t){super(),this.status=e,this.source=t}}class qle extends km{source;constructor(e){super(),this.source=e}}class Wle extends km{source;constructor(e){super(),this.source=e}}function Jz(n){return(AS(n)?n.validators:n)||null}function eH(n,e){return(AS(e)?e.asyncValidators:n)||null}function AS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Yle(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function Kle(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new K(1002,"")})}class MS{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return $n(this.statusReactive)}set status(e){$n(()=>this.statusReactive.set(e))}_status=Ka(()=>this.statusReactive());statusReactive=Po(void 0);get valid(){return this.status===Rb}get invalid(){return this.status===SS}get pending(){return this.status==Pm}get disabled(){return this.status===Pb}get enabled(){return this.status!==Pb}errors;get pristine(){return $n(this.pristineReactive)}set pristine(e){$n(()=>this.pristineReactive.set(e))}_pristine=Ka(()=>this.pristineReactive());pristineReactive=Po(!0);get dirty(){return!this.pristine}get touched(){return $n(this.touchedReactive)}set touched(e){$n(()=>this.touchedReactive.set(e))}_touched=Ka(()=>this.touchedReactive());touchedReactive=Po(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ule(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ule(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zle(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zle(e,this._rawAsyncValidators))}hasValidator(e){return IS(this._rawValidators,e)}hasAsyncValidator(e){return IS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const t=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),t&&!1!==e.emitEvent&&this._events.next(new Zz(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&!1!==e.emitEvent&&this._events.next(new Zz(!1,r))}markAsDirty(e={}){const t=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),t&&!1!==e.emitEvent&&this._events.next(new Qz(!1,r))}markAsPristine(e={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&!1!==e.emitEvent&&this._events.next(new Qz(!0,r))}markAsPending(e={}){this.status=Pm;const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new xS(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:t})}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pb,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new Gle(this.value,r)),this._events.next(new xS(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rb,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rb||this.status===Pm)&&this._runAsyncValidator(r,e.emitEvent)}const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new Gle(this.value,t)),this._events.next(new xS(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:t})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pb:Rb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Pm,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const r=Rle(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new xS(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Pb:this.errors?SS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pm)?Pm:this._anyControlsHaveStatus(SS)?SS:Rb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Qz(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Zz(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){AS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function E8e(n){return Array.isArray(n)?qz(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function T8e(n){return Array.isArray(n)?Wz(n):n||null}(this._rawAsyncValidators)}}class kb extends MS{constructor(e,t,r){super(Jz(t),eH(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Kle(this,0,e),Object.keys(e).forEach(r=>{Yle(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Xle extends kb{}const mh=new W("",{providedIn:"root",factory:()=>Ob}),Ob="always";function RS(n,e){return[...e.path,n]}function Nb(n,e,t=Ob){tH(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function D8e(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Qle(n,e)})}(n,e),function x8e(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function S8e(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Qle(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function I8e(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function PS(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),OS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tH(n,e){const t=Vle(n);null!==e.validator?n.setValidators(Lle(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ble(n);null!==e.asyncValidator?n.setAsyncValidators(Lle(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();kS(e._rawValidators,i),kS(e._rawAsyncValidators,i)}function OS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Vle(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=Ble(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return kS(e._rawValidators,r),kS(e._rawAsyncValidators,r),t}function Qle(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zle(n,e){tH(n,e)}function rH(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Jle(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function iH(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Kc?t=o:function R8e(n){return Object.getPrototypeOf(n.constructor)===ph}(o)?r=o:i=o}),i||r||t||null}const k8e={provide:xi,useExisting:_t(()=>gh)},Fb=Promise.resolve();let gh=(()=>{class n extends xi{callSetDisabledState;get submitted(){return $n(this.submittedReactive)}_submitted=Ka(()=>this.submittedReactive());submittedReactive=Po(!1);_directives=new Set;form;ngSubmit=new fe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new kb({},qz(t),Wz(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nb(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fb.then(()=>{const r=this._findContainer(t.path),i=new kb({});Zle(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Jle(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new qle(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Wle(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Y(Fr,10),Y(Xc,10),Y(mh,8))};static \u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ce("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[vt([k8e]),mt]})}return n})();function ece(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tce(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lb=class extends MS{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Jz(t),eH(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),AS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tce(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ece(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ece(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tce(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},V8e={provide:Io,useExisting:_t(()=>Zc)},nce=Promise.resolve();let Zc=(()=>{class n extends Io{_changeDetectorRef;callSetDisabledState;control=new Lb;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(t,r,i,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=iH(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),rH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){nce.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&dr(r);nce.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?RS(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Y(xi,9),Y(Fr,10),Y(Xc,10),Y(Si,10),Y(uo,8),Y(mh,8))};static \u0275dir=be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vt([V8e]),mt,vn]})}return n})(),Vb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();const oH=new W(""),j8e={provide:Io,useExisting:_t(()=>LS)};let LS=(()=>{class n extends Io{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=iH(0,i)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&PS(r,this,!1),Nb(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}rH(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&PS(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(Y(Fr,10),Y(Xc,10),Y(Si,10),Y(oH,8),Y(mh,8))};static \u0275dir=be({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[vt([j8e]),mt,vn]})}return n})();const $8e={provide:xi,useExisting:_t(()=>vh)};let vh=(()=>{class n extends xi{callSetDisabledState;get submitted(){return $n(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ka(()=>this._submittedReactive());_submittedReactive=Po(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new fe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(OS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Nb(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){PS(t.control||null,t,!1),function P8e(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Jle(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new qle(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Wle(this.form))}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(PS(r||null,t),(n=>n instanceof Lb)(i)&&(Nb(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Zle(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function A8e(n,e){return OS(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tH(this.form,this),this._oldForm&&OS(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Y(Fr,10),Y(Xc,10),Y(mh,8))};static \u0275dir=be({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ce("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[vt([$8e]),mt,vn]})}return n})();const W8e={provide:Io,useExisting:_t(()=>BS)};let BS=(()=>{class n extends Io{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=iH(0,o)}ngOnChanges(t){this._added||this._setUpControl(),rH(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return RS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Y(xi,13),Y(Fr,10),Y(Xc,10),Y(Si,10),Y(oH,8))};static \u0275dir=be({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[vt([W8e]),mt,vn]})}return n})();const Y8e={provide:Si,useExisting:_t(()=>Ub),multi:!0};function sce(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ub=(()=>{class n extends ph{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;const i=sce(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function K8e(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275dir=be({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ce("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vt([Y8e]),mt]})}return n})(),aH=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(sce(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Y(cn),Y(Oo),Y(Ub,9))};static \u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();const X8e={provide:Si,useExisting:_t(()=>sH),multi:!0};function lce(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sH=(()=>{class n extends ph{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const a=o;for(let s=0;s<a.length;s++){const c=this._getOptionValue(a[s].value);i.push(c)}}else{const a=r.options;for(let s=0;s<a.length;s++){const l=a[s];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Q8e(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275dir=be({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ce("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vt([X8e]),mt]})}return n})(),lH=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(lce(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(lce(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Y(cn),Y(Oo),Y(sH,9))};static \u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_h=(()=>{class n{_validator=TS;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):TS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,features:[vn]})}return n})();const e9e={provide:Fr,useExisting:_t(()=>yh),multi:!0};let yh=(()=>{class n extends _h{required;inputName="required";normalizeInput=dr;createValidator=t=>Tle;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275dir=be({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Kt("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[vt([e9e]),mt]})}return n})(),_ce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({})}return n})();class yce extends MS{constructor(e,t,r){super(Jz(t),eH(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Kle(this,0,e),e.forEach((r,i)=>{Yle(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function bce(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let wce=(()=>{class n{useNonNullable=!1;get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return bce(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new kb(i,o)}record(t,r=null){const i=this._reduceControls(t);return new Xle(i,r)}control(t,r,i){let o={};return this.useNonNullable?(bce(r)?o=r:(o.validators=r,o.asyncValidators=i),new Lb(t,{...o,nonNullable:!0})):new Lb(t,r,i)}array(t,r,i){const o=t.map(a=>this._createControl(a));return new yce(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Lb||t instanceof MS?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:mh,useValue:t.callSetDisabledState??Ob}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[_ce]})}return n})(),Om=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oH,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:mh,useValue:t.callSetDisabledState??Ob}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[_ce]})}return n})(),Nm=(()=>{class n{label="Button";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ale-button"]],inputs:{label:"label"},decls:3,vars:1,consts:[[1,"container__button"]],template:function(r,i){1&r&&(z(0,"dir",0)(1,"button"),xe(2),V()()),2&r&&(H(2),Zn(i.label))},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.button-cancelar[_nghost-%COMP%]   .container__button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}.container__button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.container__button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box;border-radius:5px;border:1px solid #ccc;box-shadow:inset 1px 1px #fff,inset -1px -1px #999;line-height:1;font-size:11px;cursor:pointer}.container__button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{font-weight:700;transform:scale(1.05)}.container__button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;transform:translateY(2px)}"]})}return n})(),Fm=(()=>{class n{auth;router;firestore;usuarioLogado$=new Oi(null);perfilUsuario=null;constructor(t,r,i){var o=this;this.auth=t,this.router=r,this.firestore=i,xre(this.auth,function(){var a=F(function*(s){if(s){const l=fh(o.firestore,"usuarios",s.uid),c=yield yle(l);o.usuarioLogado$.next(c.exists()?c.data():null)}else o.usuarioLogado$.next(null)});return function(s){return a.apply(this,arguments)}}())}login(t,r){var i=this;return F(function*(){try{const o=yield eie(i.auth,t,r);return yield i.carregarPerfil(o.user.uid),o}catch(o){if("auth/visibility-check-was-unavailable"===o.code){console.warn("\u26a0\ufe0f Erro de visibilidade detectado. Tentando novamente...");const a=yield eie(i.auth,t,r);return yield i.carregarPerfil(a.user.uid),a}throw console.error("\u274c Erro ao fazer login:",o),o}})()}carregarPerfil(t){var r=this;return F(function*(){const i=fh(r.firestore,"usuarios",t),o=yield yle(i);o.exists()?(r.perfilUsuario=o.data(),console.log("\u2705 Perfil carregado:",r.perfilUsuario)):console.warn("\u26a0\ufe0f Usu\xe1rio autenticado, mas perfil n\xe3o encontrado no Firestore")})()}logout(){return this.perfilUsuario=null,G$e(this.auth).then(()=>{this.router.navigate(["/login"])})}getUsuarioAtual(){return this.usuarioLogado$.asObservable()}estaLogado(){return null!==this.usuarioLogado$.value}getPerfilUsuario(){return this.perfilUsuario}cadastrar(t,r,i){var o=this;return F(function*(){const a=yield function i5e(n,e,t){return t2.apply(this,arguments)}(o.auth,t,r),s=a.user.uid,l=fh(o.firestore,"usuarios",s);return yield Hz(l,{uid:s,email:t,...i}),a})()}static \u0275fac=function(r){return new(r||n)(_e(Fy),_e(mi),_e(Ab))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const a9e=n=>({width:n}),s9e=(n,e)=>({"linha-destacada1":n,"linha-destacada2":e}),Cce=()=>({width:"auto"});function l9e(n,e){if(1&n&&(z(0,"th")(1,"div",5),xe(2),function Qq(n,e){const t=Ve();let r;const i=n+26;t.firstCreatePass?(r=function QCe(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=fu(r.type)),s=Fi(Y);try{const l=nw(!1),c=o();return nw(l),function ER(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,$(),i,c),c}finally{Fi(s)}}(3,"titlecase"),V()()),2&n){const t=e.$implicit,r=ie();H(),X("ngStyle",function $q(n,e,t,r){return qq($(),li(),n,e,t,r)}(4,a9e,r.tamanhosColunas[t]||"auto")),H(),ur(" ",function Zq(n,e,t){const r=n+26,i=$(),o=Cu(i,r);return function mv(n,e){return n[1].data[e].pure}(i,r)?qq(i,li(),e,o.transform,t,o):o.transform(t)}(3,2,r.colunasLabels[t])," ")}}function c9e(n,e){1&n&&(z(0,"th",6),xe(1,"A\xe7\xf5es"),V())}function u9e(n,e){if(1&n&&(av(0),z(1,"a",12),xe(2),V(),sv()),2&n){let t;const r=ie().$implicit,i=ie().$implicit,o=ie();H(),X("href",null==(t=o.isLink(i[r]))?null:t.url,Mw),H(),ur(" ",i[r]," ")}}function d9e(n,e){if(1&n&&xe(0),2&n){const t=ie().$implicit,r=ie().$implicit,i=ie();ur(" ",i.formatarValor(r[t],i.formatoColunas[t]||"texto")," ")}}function h9e(n,e){if(1&n){const t=_n();z(0,"td",10),ce("click",function(){Te(t);const i=ie().$implicit;return Ie(ie().abrirVisualizacao(i))}),z(1,"div",5),et(2,u9e,3,2,"ng-container",11)(3,d9e,1,1,"ng-template",null,0,xR),V()()}if(2&n){const t=e.$implicit,r=Nf(4),i=ie().$implicit,o=ie();H(),X("ngStyle",o.tamanhosColunas[t]||_C(3,Cce)),H(),X("ngIf",o.isLink(i[t]))("ngIfElse",r)}}function f9e(n,e){if(1&n){const t=_n();z(0,"div",15)(1,"ale-button",16),ce("click",function(){Te(t);const i=ie(2).$implicit;return Ie(ie().onEditar(i))}),V()()}}function p9e(n,e){if(1&n){const t=_n();z(0,"div",15)(1,"ale-button",17),ce("click",function(){Te(t);const i=ie(2).$implicit;return Ie(ie().onExcluir(i))}),V()()}}function m9e(n,e){if(1&n&&(z(0,"td")(1,"div",13),et(2,f9e,2,0,"div",14)(3,p9e,2,0,"div",14),V()()),2&n){const t=ie(2);H(),X("ngStyle",t.tamanhosColunas.mostrarAcoes||_C(3,Cce)),H(),X("ngIf",t.mostrarEditar),H(),X("ngIf",t.mostrarExcluir)}}function g9e(n,e){if(1&n&&(z(0,"tr",7),et(1,h9e,5,4,"td",8)(2,m9e,4,4,"td",9),V()),2&n){const t=e.$implicit,r=ie();X("ngClass",Gq(3,s9e,r.destacarLinha1(t),r.destacarLinha2(t))),H(),X("ngForOf",r.colunas),H(),X("ngIf",r.mostrarAcoes)}}let cH=(()=>{class n{auth;colunas=[];dados=[];tamanhosColunas={};formatoColunas={};mostrarAcoes=!1;colunasLabels;destacarLinha1=()=>!1;destacarLinha2=()=>!1;mostrarEditar=!1;mostrarExcluir=!1;linksDinamicos=[];editar=new fe;excluir=new fe;linhaClicada=new fe;usuario;constructor(t){this.auth=t}ngOnInit(){this.auth.getUsuarioAtual().subscribe(t=>{this.usuario=t})}get ehAdmin(){return"admin"===this.usuario?.perfil}isLink(t){return this.linksDinamicos.find(r=>r.value===t)||null}formatarValor(t,r){switch(r){case"moeda":return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t);case"cnpj":if(!t)return"";const i=t.toString().replace(/\D/g,"");return 14===i.length?i.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"):t;case"data":if(!t)return"";if("string"==typeof t&&/^\d{4}-\d{2}-\d{2}$/.test(t)){const o=t.split("-");return`${o[2]}/${o[1]}/${o[0]}`}return t;default:return t}}abrirVisualizacao(t){this.linhaClicada.emit(t)}onEditar(t){this.editar.emit(t)}onExcluir(t){this.excluir.emit(t)}static \u0275fac=function(r){return new(r||n)(Y(Fm))};static \u0275cmp=st({type:n,selectors:[["ale-table"]],inputs:{colunas:"colunas",dados:"dados",tamanhosColunas:"tamanhosColunas",formatoColunas:"formatoColunas",mostrarAcoes:"mostrarAcoes",colunasLabels:"colunasLabels",destacarLinha1:"destacarLinha1",destacarLinha2:"destacarLinha2",mostrarEditar:"mostrarEditar",mostrarExcluir:"mostrarExcluir",linksDinamicos:"linksDinamicos"},outputs:{editar:"editar",excluir:"excluir",linhaClicada:"linhaClicada"},decls:7,vars:3,consts:[["textoNormal",""],[1,"table"],[4,"ngFor","ngForOf"],["style","text-align: center",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngStyle"],[2,"text-align","center"],[3,"ngClass"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[4,"ngIf","ngIfElse"],["target","_blank","rel","noopener noreferrer",1,"link-dinamico",3,"href"],[1,"container__mostrar-acoes",3,"ngStyle"],["class","mostrar-acoes__button",4,"ngIf"],[1,"mostrar-acoes__button"],["label","Editar",1,"buttons",3,"click"],["label","Excluir",1,"button-cancelar",3,"click"]],template:function(r,i){1&r&&(z(0,"table",1)(1,"thead")(2,"tr"),et(3,l9e,4,6,"th",2)(4,c9e,2,0,"th",3),V()(),z(5,"tbody"),et(6,g9e,3,6,"tr",4),V()()),2&r&&(H(3),X("ngForOf",i.colunas),H(),X("ngIf",i.mostrarAcoes),H(2),X("ngForOf",i.dados))},dependencies:[G8,q8,Nm,ju,pP,Dv,$i,ok],styles:["[_nghost-%COMP%]{display:block;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;font-size:14px;color:#333}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:3px 7px;height:30px;border-bottom:1px solid #e0e0e0;text-align:left;text-transform:uppercase}th[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#282c31,#888c92);font-weight:600;color:#fff}td[_ngcontent-%COMP%]{cursor:default}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:1}tr[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.container__mostrar-acoes[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;gap:5px;justify-content:space-between}.mostrar-acoes__button[_ngcontent-%COMP%]{flex:1 1 0;height:21px;display:flex;align-items:center;justify-content:space-between}.linha-destacada1[_ngcontent-%COMP%]{background-color:#fcc;font-weight:700}.linha-destacada2[_ngcontent-%COMP%]{background-color:#ff0}td[_ngcontent-%COMP%]   a.link-dinamico[_ngcontent-%COMP%]{color:#00f;text-decoration:underline}td[_ngcontent-%COMP%]   a.link-dinamico[_ngcontent-%COMP%]:hover{color:#00008b}ale-button.button-editar[_ngcontent-%COMP%], ale-button.button-excluir[_ngcontent-%COMP%]{width:100%;height:40px;font-size:14px;line-height:40px;display:flex;align-items:center;justify-content:center;box-sizing:border-box}"]})}return n})();function v9e(n,e){if(1&n){const t=_n();z(0,"li",9),ce("mousedown",function(){const i=Te(t).$implicit;return Ie(ie(3).selectOption(i))}),xe(1),V()}if(2&n){const t=e.$implicit;H(),ur(" ",t.label," ")}}function _9e(n,e){if(1&n&&(z(0,"ul",7),et(1,v9e,2,1,"li",8),V()),2&n){const t=ie(2);H(),X("ngForOf",t.filteredOptions)}}function y9e(n,e){if(1&n){const t=_n();av(0),z(1,"input",5),ce("input",function(i){return Te(t),Ie(ie().onInputChange(i))})("focus",function(){Te(t);const i=ie();return i.isFocused=!0,Ie(i.showOptions=!0)})("blur",function(){Te(t);const i=ie();return i.isFocused=!1,Ie(i.onTouched())})("keydown",function(i){return Te(t),Ie(ie().onKeyDown(i))})("click",function(){return Te(t),Ie(ie().toggleOptions())}),V(),et(2,_9e,2,1,"ul",6),sv()}if(2&n){const t=ie();H(),X("value",t.selectedValue)("placeholder",t.placeholder)("disabled",t.disabled),H(),X("ngIf",t.showOptions&&t.filteredOptions.length)}}function b9e(n,e){if(1&n&&(z(0,"option",13),xe(1),V()),2&n){const t=e.$implicit;X("ngValue",t.value),H(),ur(" ",t.label," ")}}function w9e(n,e){if(1&n){const t=_n();z(0,"select",10),ce("ngModelChange",function(i){return Te(t),Ie(ie().onSelectChange(i))})("keydown",function(i){return Te(t),Ie(ie().onKeyDown(i))})("focus",function(){return Te(t),Ie(ie().isFocused=!0)})("blur",function(){Te(t);const i=ie();return i.isFocused=!1,Ie(i.onTouched())}),z(1,"option",11),xe(2),V(),et(3,b9e,2,2,"option",12),V()}if(2&n){const t=ie();X("ngModel",t.selectedValue)("disabled",t.disabled),H(),X("ngValue",null),H(),Zn(t.placeholder),H(),X("ngForOf",t.niveis)}}function C9e(n,e){if(1&n&&(z(0,"div",14),xe(1),V()),2&n){const t=ie();H(),ur(" ",t.errorMessage," ")}}let uH=(()=>{class n{injector;elementRef;label="";placeholder="";niveis=[];allowTyping=!1;required=!1;errorMessage="Campo obrigat\xf3rio";isFocused=!1;selectedValue="";showOptions=!1;filteredOptions=[];disabled=!1;onChange=t=>{};onTouched=()=>{};onInputChange(t){this.selectedValue=t.target.value,this.onChange(this.selectedValue),this.filteredOptions=this.niveis.filter(i=>i.label.toLowerCase().includes(this.selectedValue.toLowerCase()))}selectOption(t){this.selectedValue=t.value,this.onChange(this.selectedValue),this.showOptions=!1}onSelectChange(t){this.selectedValue=t,this.onChange(t)}writeValue(t){this.selectedValue=t,this.filteredOptions=this.niveis}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngControl=null;constructor(t,r){this.injector=t,this.elementRef=r}ngOnInit(){try{this.ngControl=this.injector.get(Io),this.ngControl&&(this.ngControl.valueAccessor=this)}catch{}}hasError(){return!!this.ngControl?.control?.invalid&&!!this.ngControl?.control?.touched}handleClickOutside(t){this.elementRef.nativeElement.contains(t.target)||(this.showOptions=!1)}showOptionsClose=!1;toggleOptions(){this.showOptionsClose?this.showOptions=!this.showOptions:this.showOptionsClose=!0}onKeyDown(t){"Escape"===t.key&&(this.showOptions=!1,this.showOptionsClose=!0),"Delete"===t.key&&(this.selectedValue="",this.onChange(this.selectedValue),this.filteredOptions=this.niveis)}setDisabledState(t){this.disabled=t}onBlur(){setTimeout(()=>{this.isFocused||(this.showOptions=!1)},150)}static \u0275fac=function(r){return new(r||n)(Y(pt),Y(cn))};static \u0275cmp=st({type:n,selectors:[["ale-select-ale"]],hostBindings:function(r,i){1&r&&ce("click",function(a){return i.handleClickOutside(a)},0,$5)},inputs:{label:"label",placeholder:"placeholder",niveis:"niveis",allowTyping:"allowTyping",required:"required",errorMessage:"errorMessage",isFocused:"isFocused",selectedValue:"selectedValue",showOptions:"showOptions",filteredOptions:"filteredOptions",disabled:"disabled",showOptionsClose:"showOptionsClose"},features:[vt([{provide:Si,useExisting:_t(()=>n),multi:!0}])],decls:7,vars:6,consts:[["selectMode",""],[1,"form-field"],[1,"form-label"],[4,"ngIf","ngIfElse"],["class","form-error",4,"ngIf"],[1,"form-input",3,"input","focus","blur","keydown","click","value","placeholder","disabled"],["class","options-dropdown",4,"ngIf"],[1,"options-dropdown"],[3,"mousedown",4,"ngFor","ngForOf"],[3,"mousedown"],[1,"form-input",3,"ngModelChange","keydown","focus","blur","ngModel","disabled"],["disabled","","hidden","",3,"ngValue"],["class","list-format",3,"ngValue",4,"ngFor","ngForOf"],[1,"list-format",3,"ngValue"],[1,"form-error"]],template:function(r,i){if(1&r&&(z(0,"div",1)(1,"label",2),xe(2),V(),et(3,y9e,3,4,"ng-container",3)(4,w9e,4,5,"ng-template",null,0,xR)(6,C9e,2,1,"div",4),V()),2&r){const o=Nf(5);Qn("focused",i.isFocused||i.selectedValue||i.placeholder),H(2),Zn(i.label),H(),X("ngIf",i.allowTyping)("ngIfElse",o),H(3),X("ngIf",i.hasError()&&!i.isFocused)}},dependencies:[Dv,$i,ju,Jc,aH,lH,Ub,Il,Zc],styles:[".form-field[_ngcontent-%COMP%]{position:relative;width:100%}.form-input[_ngcontent-%COMP%]{width:100%;height:35px;padding:16px 10px 3px;border-radius:4px;font-size:12px;transition:border-color .3s;outline:none;border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999}.form-input[_ngcontent-%COMP%]:focus{border-color:#3f51b5}.form-label[_ngcontent-%COMP%]{position:absolute;top:10px;left:12px;color:#999;font-size:12px;pointer-events:none;transition:.2s ease all}.focused[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{top:4px;font-size:10px;color:#3f51b5}.form-error[_ngcontent-%COMP%]{color:#f44336;font-size:10px;margin-top:4px;margin-left:5px;transition:all .3s ease}.options-dropdown[_ngcontent-%COMP%]{position:absolute;background:#f0f0f0;border:1px solid #767676;width:max-content;min-width:100%;max-height:150px;overflow-y:auto;z-index:10;margin-top:2px;list-style:none;font-size:12px;white-space:nowrap}.options-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 16px;cursor:pointer}.options-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#1967d2;color:#fff}select.form-input[_ngcontent-%COMP%]{padding-left:5px}option.list-format[_ngcontent-%COMP%]{background-color:#e9e7eb}"]})}return n})();function E9e(n,e){if(1&n){const t=_n();z(0,"div",6),ce("click",function(){return Te(t),Ie(ie().copiarValor())}),V()}}function T9e(n,e){if(1&n&&(z(0,"div",7),xe(1),V()),2&n){const t=ie();H(),ur(" ",t.errorMessage," ")}}let Ece=(()=>{class n{injector;label="";placeholder="";type="text";required=!1;errorMessage="Este campo \xe9 obrigat\xf3rio";onlyNumbers=!1;maskType="";value="";valueChange=new fe;rawValueChange=new fe;maxLength=20;disabled=!1;isFocused=!1;formattedValue="";onChange=t=>{};onTouched=()=>{};ngOnChanges(t){t.value&&(this.formattedValue=this.applyMask(this.value||""))}copiarValor(){this.value&&navigator.clipboard.writeText(this.value).then(()=>{alert("Copiado para a \xe1rea de transfer\xeancia!")},t=>{console.error("Erro ao copiar:",t)})}writeValue(t){this.value=t,this.formattedValue=this.applyMask(t||"")}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onInput(t){const o=this.applyMask(t.target.value);this.formattedValue=o,this.value=o,this.valueChange.emit(o);const a=this.extractNumericValue(o);this.rawValueChange.emit(a),this.onChange(o),this.onTouched()}extractNumericValue(t){if("money"===this.maskType){const r=t.replace(/[^\d]/g,""),i=parseFloat(r)/100;return isNaN(i)?0:i}return parseFloat(t.replace(/[^\d]/g,""))||0}onKeyDown(t){if(this.onlyNumbers||this.maskType){const r=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"],i=/^[0-9]$/.test(t.key),o=r.includes(t.key);!i&&!o&&t.preventDefault()}}applyMask(t){switch(this.maskType){case"money":return this.applyMoneyMask(t);case"cpf":return this.maxLength=14,this.applyCpfMask(t);case"cnpj":return this.maxLength=18,this.applyCnpjMask(t);case"cep":return this.maxLength=10,this.applyCepMask(t);case"phone":return this.maxLength=15,this.applyPhoneMask(t);default:return t}}applyMoneyMask(t){for(t=(t=t.replace(/\D/g,"")).replace(/^0+/,"");t.length<3;)t="0"+t;const r=t.slice(-2);return"R$ "+t.slice(0,-2).replace(/\B(?=(\d{3})+(?!\d))/g,".")+","+r}applyCpfMask(t){return(t=t.replace(/\D/g,"").slice(0,11)).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")}applyCnpjMask(t){return(t=t.replace(/\D/g,"").slice(0,14)).replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2")}applyCepMask(t){return(t=t.replace(/\D/g,"").slice(0,8)).replace(/(\d{5})(\d)/,"$1-$2")}applyPhoneMask(t){return(t=t.replace(/\D/g,"").slice(0,11)).replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")}ngControl=null;constructor(t){this.injector=t}ngOnInit(){try{this.ngControl=this.injector.get(Io),this.ngControl&&(this.ngControl.valueAccessor=this)}catch{}}hasError(){return!!this.ngControl?.control?.invalid&&!!this.ngControl?.control?.touched}static \u0275fac=function(r){return new(r||n)(Y(pt))};static \u0275cmp=st({type:n,selectors:[["ale-input-decimal-ale"]],inputs:{label:"label",placeholder:"placeholder",type:"type",required:"required",errorMessage:"errorMessage",onlyNumbers:"onlyNumbers",maskType:"maskType",value:"value",maxLength:"maxLength",disabled:"disabled",isFocused:"isFocused"},outputs:{valueChange:"valueChange",rawValueChange:"rawValueChange"},features:[vt([{provide:Si,useExisting:_t(()=>n),multi:!0}]),vn],decls:7,vars:9,consts:[[1,"form-field"],[2,"position","relative"],[1,"form-label"],["type","text",1,"form-input",3,"input","keydown","focus","blur","placeholder","value","disabled"],["style","\n        position: absolute;\n        inset: 0;\n        cursor: pointer;\n        background: transparent;\n      ","title","Clique para copiar",3,"click",4,"ngIf"],["class","form-error",4,"ngIf"],["title","Clique para copiar",2,"position","absolute","inset","0","cursor","pointer","background","transparent",3,"click"],[1,"form-error"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"label",2),xe(3),V(),z(4,"input",3),ce("input",function(a){return i.onInput(a)})("keydown",function(a){return i.onKeyDown(a)})("focus",function(){return i.isFocused=!0})("blur",function(){return i.isFocused=!1}),V(),et(5,E9e,1,0,"div",4),V(),et(6,T9e,2,1,"div",5),V()),2&r&&(Qn("focused",i.isFocused||i.value),H(3),Zn(i.label),H(),X("placeholder",i.placeholder)("value",i.formattedValue)("disabled",i.disabled),Kt("maxlength",i.maxLength),H(),X("ngIf",i.disabled),H(),X("ngIf",i.hasError()&&!i.isFocused))},dependencies:[$i],styles:[".form-field[_ngcontent-%COMP%]{position:relative;width:100%}.form-input[_ngcontent-%COMP%]{width:100%;height:35px;padding:16px 12px 3px;border-radius:4px;font-size:12px;transition:border-color .3s;outline:none;border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999}.form-input[_ngcontent-%COMP%]:focus{border-color:#3f51b5}.form-label[_ngcontent-%COMP%]{position:absolute;top:10px;left:12px;color:#999;font-size:12px;pointer-events:none;transition:.2s ease all}.focused[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{top:4px;font-size:10px;color:#3f51b5}.form-error[_ngcontent-%COMP%]{color:red;font-size:10px;margin-top:2px;margin-left:5px}"]})}return n})();const dH=new W("MAT_DATE_LOCALE",{providedIn:"root",factory:function I9e(){return O(Hs)}}),Lm="Method not implemented";class ei{locale;_localeChanges=new ot;localeChanges=this._localeChanges;setTime(e,t,r,i){throw new Error(Lm)}getHours(e){throw new Error(Lm)}getMinutes(e){throw new Error(Lm)}getSeconds(e){throw new Error(Lm)}parseTime(e,t){throw new Error(Lm)}addSeconds(e,t){throw new Error(Lm)}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}compareTime(e,t){return this.getHours(e)-this.getHours(t)||this.getMinutes(e)-this.getMinutes(t)||this.getSeconds(e)-this.getSeconds(t)}sameDate(e,t){if(e&&t){let r=this.isValid(e),i=this.isValid(t);return r&&i?!this.compareDate(e,t):r==i}return e==t}sameTime(e,t){if(e&&t){const r=this.isValid(e),i=this.isValid(t);return r&&i?!this.compareTime(e,t):r==i}return e==t}clampDate(e,t,r){return t&&this.compareDate(e,t)<0?t:r&&this.compareDate(e,r)>0?r:e}}const Vm=new W("mat-date-formats"),D9e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,S9e=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function hH(n,e){const t=Array(n);for(let r=0;r<n;r++)t[r]=e(r);return t}let x9e=(()=>{class n extends ei{useUtcForDisplay=!1;_matDateLocale=O(dH,{optional:!0});constructor(){super();const t=O(dH,{optional:!0});void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const r=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return hH(12,i=>this._format(r,new Date(2017,i,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return hH(31,r=>this._format(t,new Date(2017,0,r+1)))}getDayOfWeekNames(t){const r=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return hH(7,i=>this._format(r,new Date(2017,0,i+1)))}getYearName(t){const r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,t)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){const t=new Intl.Locale(this.locale),r=(t.getWeekInfo?.()||t.weekInfo)?.firstDay??0;return 7===r?0:r}return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,r,i){let o=this._createDateWithOverflow(t,r,i);return o.getMonth(),o}today(){return new Date}parse(t,r){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,r){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const i=new Intl.DateTimeFormat(this.locale,{...r,timeZone:"utc"});return this._format(i,t)}addCalendarYears(t,r){return this.addCalendarMonths(t,12*r)}addCalendarMonths(t,r){let i=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+r,this.getDate(t));return this.getMonth(i)!=((this.getMonth(t)+r)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(t,r){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+r)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(D9e.test(t)){let r=new Date(t);if(this.isValid(r))return r}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}setTime(t,r,i,o){const a=this.clone(t);return a.setHours(r,i,o,0),a}getHours(t){return t.getHours()}getMinutes(t){return t.getMinutes()}getSeconds(t){return t.getSeconds()}parseTime(t,r){if("string"!=typeof t)return t instanceof Date?new Date(t.getTime()):null;const i=t.trim();if(0===i.length)return null;let o=this._parseTimeString(i);if(null===o){const a=i.replace(/[^0-9:(AM|PM)]/gi,"").trim();a.length>0&&(o=this._parseTimeString(a))}return o||this.invalid()}addSeconds(t,r){return new Date(t.getTime()+1e3*r)}_createDateWithOverflow(t,r,i){const o=new Date;return o.setFullYear(t,r,i),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,r){const i=new Date;return i.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),i.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t.format(i)}_parseTimeString(t){const r=t.toUpperCase().match(S9e);if(r){let i=parseInt(r[1]);const o=parseInt(r[2]);let a=null==r[3]?void 0:parseInt(r[3]);const s=r[4];if(12===i?i="AM"===s?0:i:"PM"===s&&(i+=12),fH(i,0,23)&&fH(o,0,59)&&(null==a||fH(a,0,59)))return this.setTime(this.today(),i,o,a||0)}return null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function fH(n,e,t){return!isNaN(n)&&n>=e&&n<=t}const A9e={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};let Tce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({providers:[Ice()]})}return n})();function Ice(n=A9e){return[{provide:ei,useClass:x9e},{provide:Vm,useValue:n}]}let pH,M9e=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({providers:[M9e]})}return n})();try{pH=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pH=!1}let mH,Ai=(()=>{class n{_platformId=O(Su);isBrowser=this._platformId?l8(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!pH)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sce(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Dl(n){return n.composedPath?n.composedPath()[0]:n.target}const US=new WeakMap;let Ts=(()=>{class n{_appRef;_injector=O(pt);_environmentInjector=O(vr);load(t){const r=this._appRef=this._appRef||this._injector.get(Br);let i=US.get(r);i||(i={loaders:new Set,refs:[]},US.set(r,i),r.onDestroy(()=>{US.get(r)?.refs.forEach(o=>o.destroy()),US.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(t8(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}\n"],encapsulation:2,changeDetection:0})}return n})();function xce(n){return Gi((e,t)=>n<=t)}function HS(n){return Array.isArray(n)?n:[n]}const Ace=new Set;let bh,O9e=(()=>{class n{_platform=O(Ai);_nonce=O(mM,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):F9e}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function N9e(n,e){if(!Ace.has(n))try{bh||(bh=document.createElement("style"),e&&bh.setAttribute("nonce",e),bh.setAttribute("type","text/css"),document.head.appendChild(bh)),bh.sheet&&(bh.sheet.insertRule(`@media ${n} {body{ }}`,0),Ace.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F9e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let L9e=(()=>{class n{_mediaMatcher=O(O9e);_zone=O(De);_queries=new Map;_destroySubject=new ot;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Mce(HS(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=WC(Mce(HS(t)).map(a=>this._registerQuery(a).observable));return o=KC(o.pipe(Kl(1)),o.pipe(xce(1),function k9e(n,e=Xf){return Hn((t,r)=>{let i=null,o=null,a=null;const s=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=a+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);s()}t.subscribe(ln(r,c=>{o=c,a=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{s(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(Ye(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Wt(a=>{const s=l=>this._zone.run(()=>a.next(l));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(xv(r),Ye(({matches:a})=>({query:t,matches:a})),ZC(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mce(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let V9e=(()=>{class n{_platform=O(Ai);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function U9e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function B9e(n){try{return n.frameElement}catch{return null}}(function Y9e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Pce(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=Pce(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function q9e(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function W9e(n){return!function H9e(n){return function $9e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function z9e(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function j9e(n){return function G9e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Rce(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rce(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Pce(n){if(!Rce(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class K9e{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,o=!1,a){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=a,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?xu(e,{injector:this._injector}):setTimeout(e)}}let X9e=(()=>{class n{_checker=O(V9e);_ngZone=O(De);_document=O(Zt);_injector=O(pt);constructor(){O(Ts).load(zS)}create(t,r=!1){return new K9e(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q9e=(()=>{class n{_elementRef=O(cn);_focusTrapFactory=O(X9e);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(t){this.focusTrap&&(this.focusTrap.enabled=t)}autoCapture;constructor(){O(Ai).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Sce(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",dr],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",dr]},exportAs:["cdkTrapFocus"],features:[vn]})}return n})();var wh=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(wh||{});const kce="cdk-high-contrast-black-on-white",Oce="cdk-high-contrast-white-on-black",gH="cdk-high-contrast-active";let Bm,Nce=(()=>{class n{_platform=O(Ai);_hasCheckedHighContrastMode;_document=O(Zt);_breakpointSubscription;constructor(){this._breakpointSubscription=O(L9e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return wh.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return wh.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return wh.BLACK_ON_WHITE}return wh.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gH,kce,Oce),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===wh.BLACK_ON_WHITE?t.add(gH,kce):r===wh.WHITE_ON_BLACK&&t.add(gH,Oce)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J9e=(()=>{class n{constructor(){O(Nce)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[Dce]})}return n})(),zb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({})}return n})(),Do=(()=>{class n{constructor(){O(Nce)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[zb,zb]})}return n})(),Hb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[Do,Dce,Do]})}return n})();function vH(n){return null!=n&&"false"!=`${n}`}const Fce=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Lce(){if(Bm)return Bm;if("object"!=typeof document||!document)return Bm=new Set(Fce),Bm;let n=document.createElement("input");return Bm=new Set(Fce.filter(e=>(n.setAttribute("type",e),n.type===e))),Bm}function ti(n,e,t,r,i){const o=parseInt(kR.major),a=parseInt(kR.minor);return o>19||19===o&&a>0||0===o&&0===a?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}function eu(n){return n instanceof cn?n.nativeElement:n}let t7e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}\n"],encapsulation:2,changeDetection:0})}return n})();const n7e={passive:!0};let r7e=(()=>{class n{_platform=O(Ai);_ngZone=O(De);_renderer=O(da).createRenderer(null,null);_styleLoader=O(Ts);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return po;this._styleLoader.load(t7e);const r=eu(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new ot,a="cdk-text-field-autofilled",s=c=>{"cdk-text-field-autofill-start"!==c.animationName||r.classList.contains(a)?"cdk-text-field-autofill-end"===c.animationName&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(r.classList.add(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))},l=this._ngZone.runOutsideAngular(()=>(r.classList.add("cdk-text-field-autofill-monitored"),ti(this._renderer,r,"animationstart",s,n7e)));return this._monitoredElements.set(r,{subject:o,unlisten:l}),o}stopMonitoring(t){const r=eu(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),i7e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({})}return n})();const _H={};let jb=(()=>{class n{_appId=O(ja);getId(t){return"ng"!==this._appId&&(t+=this._appId),_H.hasOwnProperty(t)||(_H[t]=0),`${t}${_H[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Vce=new W("MAT_INPUT_VALUE_ACCESSOR");let d7e=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n})}return n})();const Bce=new W("MatFormField");let h7e=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class f7e{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}}const p7e=["button","checkbox","file","hidden","image","radio","range","reset","submit"],m7e=new W("MAT_INPUT_CONFIG");let qb,g7e=(()=>{class n{_elementRef=O(cn);_platform=O(Ai);ngControl=O(Io,{optional:!0,self:!0});_autofillMonitor=O(r7e);_ngZone=O(De);_formField=O(Bce,{optional:!0});_renderer=O(Oo);_uid=O(jb).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=O(m7e,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ot;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=vH(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Qc.required)??!1}set required(t){this._required=vH(t)}_required;get type(){return this._type}set type(t){const r=this._type;this._type=t||"text",this._validateType(),!this._isTextarea&&Lce().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==r&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=vH(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Lce().has(t));constructor(){const t=O(gh,{optional:!0}),r=O(vh,{optional:!0}),i=O(h7e),o=O(Vce,{optional:!0,self:!0}),a=this._elementRef.nativeElement,s=a.nodeName.toLowerCase();o?sM(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=a,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new f7e(i,this.ngControl,r,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===s,this._isTextarea="textarea"===s,this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=a.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&function jR(n,e){!e?.injector&&vu();const t=e?.injector??O(pt);let i,r=!0!==e?.manualCleanup?t.get(ks):null;const o=t.get(_w,null,{optional:!0}),a=t.get(Os);return null===o||e?.forceRoot?i=function LTe(n,e,t){const r=Object.create(OTe);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}(n,t.get(e6),a):(i=function FTe(n,e,t){const r=Object.create(NTe);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[23]??=new Set,n[23].add(r),r.consumerMarkedDirty(r),r}(o.view,a,n),r instanceof m4&&r._lView===o.view&&(r=null)),i.injector=t,null!==r&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new kTe(i)}(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){const r=this._elementRef.nativeElement;"number"===r.type?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){p7e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused&&!this.disabled||!this.empty}setDescribedByIds(t){const r=this._elementRef.nativeElement,i=r.getAttribute("aria-describedby");let o;if(i){const a=this._formFieldDescribedBy||t;o=t.concat(i.split(" ").filter(s=>s&&!a.includes(s)))}else o=t;this._formFieldDescribedBy=t,o.length?r.setAttribute("aria-describedby",o.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{const r=t.target;!r.value&&0===r.selectionStart&&0===r.selectionEnd&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,i){1&r&&ce("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(dC("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Kt("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Qn("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",dr]},exportAs:["matInput"],features:[vt([{provide:d7e,useExisting:n}]),vn]})}return n})(),Uce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[Do,Hb,Hb,i7e,Do]})}return n})();function jS(...n){const e=Sv(n),t=function rxe(n,e){return"number"==typeof TP(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fo(r[0]):Uf(t)(hr(r,e)):po}function _7e(n,e){return n===e}function zce(n){return 0===n.buttons||0===n.detail}function Hce(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}function wH(n){return function T7e(){if(null==qb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qb=!0}))}finally{qb=qb||!1}return qb}()?n:!!n.capture}const I7e=new W("cdk-input-modality-detector-options"),D7e={ignoreKeys:[18,17,224,91,16]},CH={passive:!0,capture:!0};let S7e=(()=>{class n{_platform=O(Ai);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Oi(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Dl(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(zce(t)?"keyboard":"mouse"),this._mostRecentTarget=Dl(t))};_onTouchstart=t=>{Hce(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dl(t))};constructor(){const t=O(De),r=O(Zt),i=O(I7e,{optional:!0});if(this._options={...D7e,...i},this.modalityDetected=this._modality.pipe(xce(1)),this.modalityChanged=this.modalityDetected.pipe(function v7e(n,e=kl){return n=n??_7e,Hn((t,r)=>{let i,o=!0;t.subscribe(ln(r,a=>{const s=e(a);(o||!n(i,s))&&(o=!1,i=s,r.next(a))}))})}()),this._platform.isBrowser){const o=O(da).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[ti(o,r,"keydown",this._onKeydown,CH),ti(o,r,"mousedown",this._onMousedown,CH),ti(o,r,"touchstart",this._onTouchstart,CH)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var YS=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(YS||{});const x7e=new W("cdk-focus-monitor-default-options"),KS=wH({passive:!0,capture:!0});let Gce=(()=>{class n{_ngZone=O(De);_platform=O(Ai);_inputModalityDetector=O(S7e);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=O(Zt,{optional:!0});_stopInputModalityDetector=new ot;constructor(){const t=O(x7e,{optional:!0});this._detectionMode=t?.detectionMode||YS.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{for(let i=Dl(t);i;i=i.parentElement)"focus"===t.type?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){const i=eu(t);if(!this._platform.isBrowser||1!==i.nodeType)return Se();const o=function P9e(n){if(function R9e(){if(null==mH){const n=typeof document<"u"?document.head:null;mH=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mH}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const s={checkChildren:r,subject:new ot,rootNode:o};return this._elementInfo.set(i,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const r=eu(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=eu(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,r,l)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===YS.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===YS.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Dl(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,KS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,KS)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ZC(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,KS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,KS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0;return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A7e=(()=>{class n{_elementRef=O(cn);_focusMonitor=O(Gce);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new fe;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const M7e=new W("cdk-dir-doc",{providedIn:"root",factory:function R7e(){return O(Zt)}}),P7e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wb=(()=>{class n{value="ltr";change=new fe;constructor(){const t=O(M7e,{optional:!0});t&&(this.value=function k7e(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?P7e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hm(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function qce(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function rr(n){return null==n?"":"string"==typeof n?n:`${n}px`}const Yb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Yb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new St(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Yb;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Yb;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class F7e extends wE{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class N7e extends bE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Yb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&t===e._scheduled&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Yb.cancelAnimationFrame(t),e._scheduled=void 0)}});let EH,V7e=1;const XS={};function Wce(n){return n in XS&&(delete XS[n],!0)}const B7e={setImmediate(n){const e=V7e++;return XS[e]=!0,EH||(EH=Promise.resolve()),EH.then(()=>Wce(e)&&n()),e},clearImmediate(n){Wce(n)}},{setImmediate:U7e,clearImmediate:z7e}=B7e,QS={setImmediate(...n){const{delegate:e}=QS;return(e?.setImmediate||U7e)(...n)},clearImmediate(n){const{delegate:e}=QS;return(e?.clearImmediate||z7e)(n)},delegate:void 0};new class j7e extends wE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class H7e extends bE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=QS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(QS.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Yce(n,e=Xf){return function G7e(n){return Hn((e,t)=>{let r=!1,i=null,o=null,a=!1;const s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}a&&t.complete()},l=()=>{o=null,a&&t.complete()};e.subscribe(ln(t,c=>{r=!0,i=c,o||fo(n(c)).subscribe(o=ln(t,s,l))},()=>{a=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>V7(n,e))}let Ch,W7e=(()=>{class n{_ngZone=O(De);_platform=O(Ai);_renderer=O(da).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ot;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Wt(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const i=t>0?this._scrolled.pipe(Yce(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Se()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Gi(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=eu(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kce=(()=>{class n{_platform=O(Ai);_listeners;_viewportSize;_change=new ot;_document=O(Zt,{optional:!0});constructor(){const t=O(De),r=O(da).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){const i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Yce(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({})}return n})(),Xce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[zb,ZS,zb,ZS]})}return n})();function K7e(){if(null==Ch){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ch=!1,Ch;if("scrollBehavior"in document.documentElement.style)Ch=!0;else{const n=Element.prototype.scrollTo;Ch=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ch}class TH{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class IH extends TH{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=o}}class X7e extends TH{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Q7e extends TH{element;constructor(e){super(),this.element=e instanceof cn?e.nativeElement:e}}class Qce{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof IH?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof X7e?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Q7e?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Z7e extends Qce{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,r,i,o){super(),this.outletElement=e,this._appRef=r,this._defaultInjector=i,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){const r=e.injector||e.viewContainerRef.injector,i=r.get(Bs,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{const r=this._appRef,i=e.injector||this._defaultInjector||pt.NULL,o=i.get(vr,r.injector);t=t8(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{const t=e.element,r=this._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Zce=(()=>{class n extends Qce{_moduleRef=O(Bs,{optional:!0});_document=O(Zt);_viewContainerRef=O(co);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new fe;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{const r=t.element,i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[mt]})}return n})(),Jce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({})}return n})();const eue=K7e();class J7e{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rr(-this._previousScrollPosition.left),e.style.top=rr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),eue&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),eue&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class eYe{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Gi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}class tue{enable(){}disable(){}attach(){}}function DH(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function nue(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class tYe{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();DH(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nYe=(()=>{class n{_scrollDispatcher=O(W7e);_viewportRuler=O(Kce);_ngZone=O(De);_document=O(Zt);constructor(){}noop=()=>new tue;close=t=>new eYe(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new J7e(this._viewportRuler,this._document);reposition=t=>new tYe(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class rue{positionStrategy;scrollStrategy=new tue;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class rYe{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let iue=(()=>{class n{_attachedOverlays=[];_document=O(Zt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iYe=(()=>{class n extends iue{_ngZone=O(De);_renderer=O(da).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{const r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oYe=(()=>{class n extends iue{_platform=O(Ai);_ngZone=O(De);_renderer=O(da).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){const r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[ti(this._renderer,r,"pointerdown",this._pointerDownListener,i),ti(this._renderer,r,"click",this._clickListener,i),ti(this._renderer,r,"auxclick",this._clickListener,i),ti(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Dl(t)};_clickListener=t=>{const r=Dl(t),i="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;const o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){const s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(oue(s.overlayElement,r)||oue(s.overlayElement,i))break;const l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oue(n,e){const t=typeof ShadowRoot<"u"&&ShadowRoot;let r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let aue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}\n"],encapsulation:2,changeDetection:0})}return n})(),sue=(()=>{class n{_platform=O(Ai);_containerElement;_document=O(Zt);_styleLoader=O(Ts);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||qce()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),qce()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(aue)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class aYe{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{const e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}}class sYe{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ot;_attachments=new ot;_detachments=new ot;_positionStrategy;_scrollStrategy;_locationChanges=St.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new ot;_outsidePointerEvents=new ot;_renders=new ot;_afterRenderRef;_afterNextRenderRef;constructor(e,t,r,i,o,a,s,l,c,u=!1,d,h){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._renderer=h,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=$n(()=>function xM(n,e){!e?.injector&&vu();const t=e?.injector??O(pt);return ci("NgAfterRender"),e5(n,t,e,!1)}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=xu(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=rr(this._config.width),e.height=rr(this._config.height),e.minWidth=rr(this._config.minWidth),e.minHeight=rr(this._config.minHeight),e.maxWidth=rr(this._config.maxWidth),e.maxHeight=rr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new aYe(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){const i=HS(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const e=this._renders.pipe(ZC(jS(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e?.disable(),e?.detach?.()}}const lue="cdk-overlay-connected-position-bounding-box",lYe=/([A-Za-z%]+)$/;class cue{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ot;_resizeSubscription=St.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(lue),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let l=this._getOriginPoint(e,i,s),c=this._getOverlayPoint(l,t,s),u=this._getOverlayFit(c,t,r,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,r)?o.push({position:s,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:t})}if(o.length){let s=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Eh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lue),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;i="start"==r.originX?a:s}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=due(t);let{x:a,y:s}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=l),c&&(s+=c);let h=0-s,f=s+o.height-r.height,p=this._subtractOverflows(o.width,0-a,a+o.width-r.width),g=this._subtractOverflows(o.height,h,f),v=p*g;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,a=uue(this._overlayRef.getConfig().minHeight),s=uue(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=a&&a<=i)&&(e.fitsInViewportHorizontally||null!=s&&s<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=due(t),o=this._viewportRect,a=Math.max(e.x+i.width-o.width,0),s=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=o.width?c||-a:e.x<this._viewportMargin?o.left-r.left-e.x:0,d=i.height<=o.height?l||-s:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function cYe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new rYe(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,a,s,u,d,h;if("top"===t.overlayY)a=e.y,o=r.height-a+this._viewportMargin;else if("bottom"===t.overlayY)s=r.height-e.y+2*this._viewportMargin,o=r.height-s+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;o=2*f,a=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:a,left:d,bottom:s,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=rr(r.height),i.top=rr(r.top),i.bottom=rr(r.bottom),i.width=rr(r.width),i.left=rr(r.left),i.right=rr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=rr(o)),a&&(i.maxWidth=rr(a))}this._lastBoundingBoxSize=r,Eh(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Eh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Eh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Eh(r,this._getExactOverlayY(t,e,u)),Eh(r,this._getExactOverlayX(t,e,u))}else r.position="static";let s="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),r.transform=s.trim(),a.maxHeight&&(i?r.maxHeight=rr(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=rr(a.maxWidth):o&&(r.maxWidth="")),Eh(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=rr(o.y),i}_getExactOverlayX(e,t,r){let a,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=rr(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nue(e,r),isOriginOutsideView:DH(e,r),isOverlayClipped:nue(t,r),isOverlayOutsideView:DH(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&HS(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof cn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Eh(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function uue(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(lYe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function due(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const hue="cdk-global-overlay-wrapper";class uYe{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(hue),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:s}=r,l=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(hue),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let dYe=(()=>{class n{_viewportRuler=O(Kce);_document=O(Zt);_platform=O(Ai);_overlayContainer=O(sue);constructor(){}global(){return new uYe}flexibleConnectedTo(t){return new cue(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tu=(()=>{class n{scrollStrategies=O(nYe);_overlayContainer=O(sue);_positionBuilder=O(dYe);_keyboardDispatcher=O(iYe);_injector=O(pt);_ngZone=O(De);_document=O(Zt);_directionality=O(Wb);_location=O(Vf);_outsideClickDispatcher=O(oYe);_animationsModuleType=O(fw,{optional:!0});_idGenerator=O(jb);_renderer=O(da).createRenderer(null,null);_appRef;_styleLoader=O(Ts);constructor(){}create(t){this._styleLoader.load(aue);const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),a=new rue(t);return a.direction=a.direction||this._directionality.value,new sYe(o,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(vr),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Br)),new Z7e(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hYe=new W("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=O(tu);return()=>n.scrollStrategies.reposition()}}),pYe={provide:hYe,deps:[tu],useFactory:function fYe(n){return()=>n.scrollStrategies.reposition()}};let fue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({providers:[tu,pYe],imports:[zb,Jce,Xce,Xce]})}return n})(),pue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}\n'],encapsulation:2,changeDetection:0})}return n})();var ea=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(ea||{});class mYe{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ea.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}}const mue=wH({passive:!0,capture:!0});class gYe{_events=new Map;addHandler(e,t,r,i){const o=this._events.get(t);if(o){const a=o.get(r);a?a.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,mue)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,mue)))}_delegateEventHandler=e=>{const t=Dl(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}const ex={enterDuration:225,exitDuration:150},gue=wH({passive:!0,capture:!0}),vue=["mousedown","touchstart"],_ue=["mouseup","mouseleave","touchend","touchcancel"];let _Ye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}\n"],encapsulation:2,changeDetection:0})}return n})();class tx{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new gYe;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=eu(r)),o&&o.get(Ts).load(_Ye)}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...ex,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const a=r.radius||function yYe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),s=e-i.left,l=t-i.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-a+"px",u.style.top=l-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,g=new mYe(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=ea.FADING_IN,r.persistent||(this._mostRecentTransientRipple=g);let v=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _=()=>{v&&(v.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(g)},y=()=>this._destroyRipple(g),w=setTimeout(y,c+100);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",y),v={onTransitionEnd:_,onTransitionCancel:y,fallbackTimer:w}}),this._activeRipples.set(g,v),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===ea.FADING_OUT||e.state===ea.HIDDEN)return;const t=e.element,r={...ex,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=ea.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=eu(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,vue.forEach(r=>{tx._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_ue.forEach(t=>{this._triggerElement.addEventListener(t,this,gue)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===ea.FADING_IN?this._startFadeOutTransition(e):e.state===ea.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=ea.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=ea.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){const t=zce(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Hce(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===ea.VISIBLE||e.config.terminateOnPointerUp&&e.state===ea.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(vue.forEach(t=>tx._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(_ue.forEach(t=>e.removeEventListener(t,this,gue)),this._pointerUpEventsRegistered=!1))}}const bYe=new W("mat-ripple-global-options"),wYe={capture:!0},CYe=["focus","mousedown","mouseenter","touchstart"],SH="mat-ripple-loader-uninitialized",xH="mat-ripple-loader-class-name",yue="mat-ripple-loader-centered",nx="mat-ripple-loader-disabled";let EYe=(()=>{class n{_document=O(Zt);_animationMode=O(fw,{optional:!0});_globalRippleOptions=O(bYe,{optional:!0});_platform=O(Ai);_ngZone=O(De);_injector=O(pt);_eventCleanups;_hosts=new Map;constructor(){const t=O(da).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>CYe.map(r=>ti(t,this._document,r,this._onInteraction,wYe)))}ngOnDestroy(){const t=this._hosts.keys();for(const r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(SH,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(xH))&&t.setAttribute(xH,r.className||""),r.centered&&t.setAttribute(yue,""),r.disabled&&t.setAttribute(nx,"")}setDisabled(t,r){const i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(nx,""):t.removeAttribute(nx)}_onInteraction=t=>{const r=Dl(t);if(r instanceof HTMLElement){const i=r.closest(`[${SH}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(xH)),t.append(r);const i="NoopAnimations"===this._animationMode,o=this._globalRippleOptions,a=i?0:o?.animation?.enterDuration??ex.enterDuration,s=i?0:o?.animation?.exitDuration??ex.exitDuration,l={rippleDisabled:i||o?.disabled||t.hasAttribute(nx),rippleConfig:{centered:t.hasAttribute(yue),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:s}}},c=new tx(l,this._ngZone,r,this._platform,this._injector),u=!l.rippleDisabled;u&&c.setupTriggerEvents(t),this._hosts.set(t,{target:l,renderer:c,hasSetUpEvents:u}),t.removeAttribute(SH)}destroyRipple(t){const r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const TYe=["mat-icon-button",""],IYe=["*"],DYe=new W("MAT_BUTTON_CONFIG"),SYe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let bue=(()=>{class n{_elementRef=O(cn);_ngZone=O(De);_animationMode=O(fw,{optional:!0});_focusMonitor=O(Gce);_rippleLoader=O(EYe);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){O(Ts).load(pue);const t=O(DYe,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(const{attribute:o,mdcClasses:a}of SYe)r.hasAttribute(o)&&i.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",dr],disabled:[2,"disabled","disabled",dr],ariaDisabled:[2,"aria-disabled","ariaDisabled",dr],disabledInteractive:[2,"disabledInteractive","disabledInteractive",dr]}})}return n})(),wue=(()=>{class n extends bue{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(Kt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),rv(i.color?"mat-"+i.color:""),Qn("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[mt],attrs:TYe,ngContentSelectors:IYe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(fv(),Ne(0,"span",0),Uu(1),Ne(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return n})(),Cue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[Do,Do]})}return n})();const xYe=["mat-button",""],AYe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],MYe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];let Eue=(()=>{class n extends bue{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275cmp=st({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(Kt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),rv(i.color?"mat-"+i.color:""),Qn("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[mt],attrs:xYe,ngContentSelectors:MYe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(fv(AYe),Ne(0,"span",0),Uu(1),z(2,"span",1),Uu(3,1),V(),Uu(4,2),Ne(5,"span",2)(6,"span",3)),2&r&&Qn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return n})(),PYe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[Do,Cue,Do]})}return n})();const kYe=["mat-calendar-body",""];function OYe(n,e){return this._trackRow(e)}const Tue=(n,e)=>e.id;function NYe(n,e){if(1&n&&(z(0,"tr",0)(1,"td",3),xe(2),V()()),2&n){const t=ie();H(),nv("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Kt("colspan",t.numCols),H(),ur(" ",t.label," ")}}function FYe(n,e){if(1&n&&(z(0,"td",3),xe(1),V()),2&n){const t=ie(2);nv("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Kt("colspan",t._firstRowOffset),H(),ur(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function LYe(n,e){if(1&n){const t=_n();z(0,"td",6)(1,"button",7),ce("click",function(i){const o=Te(t).$implicit;return Ie(ie(2)._cellClicked(o,i))})("focus",function(i){const o=Te(t).$implicit;return Ie(ie(2)._emitActiveDateChange(o,i))}),z(2,"span",8),xe(3),V(),Ne(4,"span",9),V()()}if(2&n){const t=e.$implicit,r=e.$index,i=ie().$index,o=ie();nv("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Kt("data-mat-row",i)("data-mat-col",r),H(),Qn("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",o._isActiveCell(i,r))("mat-calendar-body-range-start",o._isRangeStart(t.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",o._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(t.compareValue,i,r))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(t.compareValue,i,r))("mat-calendar-body-comparison-start",o._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",o._isInPreview(t.compareValue)),X("ngClass",t.cssClasses)("tabindex",o._isActiveCell(i,r)?0:-1),Kt("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",o._isSelected(t.compareValue))("aria-current",o.todayValue===t.compareValue?"date":null)("aria-describedby",o._getDescribedby(t.compareValue)),H(),Qn("mat-calendar-body-selected",o._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",o.todayValue===t.compareValue),H(),ur(" ",t.displayValue," ")}}function VYe(n,e){if(1&n&&(z(0,"tr",1),et(1,FYe,2,6,"td",4),lC(2,LYe,5,48,"td",5,Tue),V()),2&n){const t=e.$implicit,r=e.$index,i=ie();H(),ov(0===r&&i._firstRowOffset?1:-1),H(),cC(t)}}function BYe(n,e){if(1&n&&(z(0,"th",2)(1,"span",6),xe(2),V(),z(3,"span",3),xe(4),V()()),2&n){const t=e.$implicit;H(2),Zn(t.long),H(2),Zn(t.narrow)}}const UYe=["*"];function zYe(n,e){}function HYe(n,e){if(1&n){const t=_n();z(0,"mat-month-view",4),zr("activeDateChange",function(i){Te(t);const o=ie();return hi(o.activeDate,i)||(o.activeDate=i),Ie(i)}),ce("_userSelection",function(i){return Te(t),Ie(ie()._dateSelected(i))})("dragStarted",function(i){return Te(t),Ie(ie()._dragStarted(i))})("dragEnded",function(i){return Te(t),Ie(ie()._dragEnded(i))}),V()}if(2&n){const t=ie();Ur("activeDate",t.activeDate),X("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function jYe(n,e){if(1&n){const t=_n();z(0,"mat-year-view",5),zr("activeDateChange",function(i){Te(t);const o=ie();return hi(o.activeDate,i)||(o.activeDate=i),Ie(i)}),ce("monthSelected",function(i){return Te(t),Ie(ie()._monthSelectedInYearView(i))})("selectedChange",function(i){return Te(t),Ie(ie()._goToDateInView(i,"month"))}),V()}if(2&n){const t=ie();Ur("activeDate",t.activeDate),X("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function $Ye(n,e){if(1&n){const t=_n();z(0,"mat-multi-year-view",6),zr("activeDateChange",function(i){Te(t);const o=ie();return hi(o.activeDate,i)||(o.activeDate=i),Ie(i)}),ce("yearSelected",function(i){return Te(t),Ie(ie()._yearSelectedInMultiYearView(i))})("selectedChange",function(i){return Te(t),Ie(ie()._goToDateInView(i,"year"))}),V()}if(2&n){const t=ie();Ur("activeDate",t.activeDate),X("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function GYe(n,e){}const qYe=["button"],WYe=[[["","matDatepickerToggleIcon",""]]],YYe=["[matDatepickerToggleIcon]"];function KYe(n,e){1&n&&(cg(),z(0,"svg",2),Ne(1,"path",3),V())}let jm=(()=>{class n{changes=new ot;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(t,r){return`${t} \u2013 ${r}`}formatYearRangeLabel(t,r){return`${t} to ${r}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XYe=0;class AH{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=XYe++;constructor(e,t,r,i,o={},a=e,s){this.value=e,this.displayValue=t,this.ariaLabel=r,this.enabled=i,this.cssClasses=o,this.compareValue=a,this.rawValue=s}}const QYe={passive:!1,capture:!0},rx={passive:!0,capture:!0},Iue={passive:!0};let $m=(()=>{class n{_elementRef=O(cn);_ngZone=O(De);_platform=O(Ai);_intl=O(jm);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new fe;previewChange=new fe;activeDateChange=new fe;dragStarted=new fe;dragEnded=new fe;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=O(pt);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=t=>t;constructor(){const t=O(Oo),r=O(jb);this._startDateLabelId=r.getId("mat-calendar-body-start-"),this._endDateLabelId=r.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=r.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=r.getId("mat-calendar-body-comparison-end-"),O(Ts).load(pue),this._ngZone.runOutsideAngular(()=>{const i=this._elementRef.nativeElement,o=[ti(t,i,"touchmove",this._touchmoveHandler,QYe),ti(t,i,"mouseenter",this._enterHandler,rx),ti(t,i,"focus",this._enterHandler,rx),ti(t,i,"mouseleave",this._leaveHandler,rx),ti(t,i,"blur",this._leaveHandler,rx),ti(t,i,"mousedown",this._mousedownHandler,Iue),ti(t,i,"touchstart",this._mousedownHandler,Iue)];this._platform.isBrowser&&o.push(t.listen("window","mouseup",this._mouseupHandler),t.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o})}_cellClicked(t,r){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:r})}_emitActiveDateChange(t,r){t.enabled&&this.activeDateChange.emit({value:t.value,event:r})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const r=t.numCols,{rows:i,numCols:o}=this;(t.rows||r)&&(this._firstRowOffset=i&&i.length&&i[0].length?o-i[0].length:0),(t.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(r||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){this._eventCleanups.forEach(t=>t())}_isActiveCell(t,r){let i=t*this.numCols+r;return t&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(t=!0){xu(()=>{setTimeout(()=>{const r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(t||(this._skipNextFocus=!0),r.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return PH(t,this.startValue,this.endValue)}_isRangeEnd(t){return kH(t,this.startValue,this.endValue)}_isInRange(t){return OH(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return PH(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,r,i){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let o=this.rows[r][i-1];if(!o){const a=this.rows[r-1];o=a&&a[a.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(t,r,i){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let o=this.rows[r][i+1];if(!o){const a=this.rows[r+1];o=a&&a[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(t){return kH(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return OH(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return PH(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return kH(t,this.previewStart,this.previewEnd)}_isInPreview(t){return OH(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){if(!this.isRange)return null;if(this.startValue===t&&this.endValue===t)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===t)return this._startDateLabelId;if(this.endValue===t)return this._endDateLabelId;if(null!==this.comparisonStart&&null!==this.comparisonEnd){if(t===this.comparisonStart&&t===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(t===this.comparisonStart)return this._comparisonStartDateLabelId;if(t===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=t=>{if(this._skipNextFocus&&"focus"===t.type)this._skipNextFocus=!1;else if(t.target&&this.isRange){const r=this._getCellFromElement(t.target);r&&this._ngZone.run(()=>this.previewChange.emit({value:r.enabled?r:null,event:t}))}};_touchmoveHandler=t=>{if(!this.isRange)return;const r=Due(t),i=r?this._getCellFromElement(r):null;r!==t.target&&(this._didDragSinceMouseDown=!0),RH(t.target)&&t.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:t}))};_leaveHandler=t=>{null!==this.previewEnd&&this.isRange&&("blur"!==t.type&&(this._didDragSinceMouseDown=!0),t.target&&this._getCellFromElement(t.target)&&(!t.relatedTarget||!this._getCellFromElement(t.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t})))};_mousedownHandler=t=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const r=t.target&&this._getCellFromElement(t.target);!r||!this._isInRange(r.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:r.rawValue,event:t})})};_mouseupHandler=t=>{if(!this.isRange)return;const r=RH(t.target);r?r.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const i=this._getCellFromElement(r);this.dragEnded.emit({value:i?.rawValue??null,event:t})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:t})})};_touchendHandler=t=>{const r=Due(t);r&&this._mouseupHandler({target:r})};_getCellFromElement(t){const r=RH(t);if(r){const i=r.getAttribute("data-mat-row"),o=r.getAttribute("data-mat-col");if(i&&o)return this.rows[parseInt(i)][parseInt(o)]}return null}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[vn],attrs:kYe,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(r,i){1&r&&(et(0,NYe,3,6,"tr",0),lC(1,VYe,4,1,"tr",1,OYe,!0),z(3,"span",2),xe(4),V(),z(5,"span",2),xe(6),V(),z(7,"span",2),xe(8),V(),z(9,"span",2),xe(10),V()),2&r&&(ov(i._firstRowOffset<i.labelMinRequiredCells?0:-1),H(),cC(i.rows),H(2),X("id",i._startDateLabelId),H(),ur(" ",i.startDateAccessibleName,"\n"),H(),X("id",i._endDateLabelId),H(),ur(" ",i.endDateAccessibleName,"\n"),H(),X("id",i._comparisonStartDateLabelId),H(),gC(" ",i.comparisonDateAccessibleName," ",i.startDateAccessibleName,"\n"),H(),X("id",i._comparisonEndDateLabelId),H(),gC(" ",i.comparisonDateAccessibleName," ",i.endDateAccessibleName,"\n"))},dependencies:[pP],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}\n'],encapsulation:2,changeDetection:0})}return n})();function MH(n){return"TD"===n?.nodeName}function RH(n){let e;return MH(n)?e=n:MH(n.parentNode)?e=n.parentNode:MH(n.parentNode?.parentNode)&&(e=n.parentNode.parentNode),null!=e?.getAttribute("data-mat-row")?e:null}function PH(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function kH(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function OH(n,e,t,r){return r&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}function Due(n){const e=n.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}class Mi{start;end;_disableStructuralEquivalency;constructor(e,t){this.start=e,this.end=t}}let nu=(()=>{class n{selection;_adapter;_selectionChanged=new ot;selectionChanged=this._selectionChanged;constructor(t,r){this.selection=t,this._adapter=r,this.selection=t}updateSelection(t,r){const i=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:r,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static \u0275fac=function(r){k1()};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),ZYe=(()=>{class n extends nu{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}static \u0275fac=function(r){return new(r||n)(_e(ei))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const Sue={provide:nu,deps:[[new Dr,new Fh,nu],ei],useFactory:function eKe(n,e){return n||new ZYe(e)}},ix=new W("MAT_DATE_RANGE_SELECTION_STRATEGY");let iKe=0,xue=(()=>{class n{_changeDetectorRef=O(uo);_dateFormats=O(Vm,{optional:!0});_dateAdapter=O(ei,{optional:!0});_dir=O(Wb,{optional:!0});_rangeStrategy=O(ix,{optional:!0});_rerenderSubscription=St.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){const r=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof Mi?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new fe;_userSelection=new fe;dragStarted=new fe;dragEnded=new fe;activeDateChange=new fe;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){O(Ts).load(zS),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xv(null)).subscribe(()=>this._init())}ngOnChanges(t){const r=t.comparisonStart||t.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const r=t.value,i=this._getDateFromDayOfMonth(r);let o,a;this._selected instanceof Mi?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==r||a!==r)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const r=this._activeDate,i=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!Hm(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:r}){if(this._rangeStrategy){const i=r?r.rawValue:null,o=this._rangeStrategy.createPreview(i,this.selected,t);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&i){const a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,t);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const r=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:r??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((a,s)=>({long:a,narrow:r[s],id:iKe++}));this._weekdays=o.slice(t).concat(o.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,o=this._firstWeekOffset;i<t;i++,o++){7==o&&(this._weeks.push([]),o=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),s=this._shouldEnableDate(a),l=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new AH(i+1,r[i],l,s,c,this._getCellCompareValue(a),a))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,r){return!(!t||!r||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(r)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(r))}_getCellCompareValue(t){if(t){const r=this._dateAdapter.getYear(t),i=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(r,i,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof Mi?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["mat-month-view"]],viewQuery:function(r,i){if(1&r&&Us($m,5),2&r){let o;pa(o=ma())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[vn],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(r,i){1&r&&(z(0,"table",0)(1,"thead",1)(2,"tr"),lC(3,BYe,5,2,"th",2,Tue),V(),z(5,"tr",3),Ne(6,"th",4),V()(),z(7,"tbody",5),ce("selectedValueChange",function(a){return i._dateSelected(a)})("activeDateChange",function(a){return i._updateActiveDate(a)})("previewChange",function(a){return i._previewChanged(a)})("dragStarted",function(a){return i.dragStarted.emit(a)})("dragEnded",function(a){return i._dragEnded(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),V()()),2&r&&(H(3),cC(i._weekdays),H(4),X("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[$m],encapsulation:2,changeDetection:0})}return n})(),Aue=(()=>{class n{_changeDetectorRef=O(uo);_dateAdapter=O(ei,{optional:!0});_dir=O(Wb,{optional:!0});_rerenderSubscription=St.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let r=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),Mue(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof Mi?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new fe;yearSelected=new fe;activeDateChange=new fe;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xv(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const r=this._dateAdapter.getYear(this._activeDate)-Xb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,o=[];i<24;i++)o.push(r+i),4==o.length&&(this._years.push(o.map(a=>this._createCellForYear(a))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const r=t.value,i=this._dateAdapter.createDate(r,0,1),o=this._getDateFromYear(r);this.yearSelected.emit(i),this.selectedChange.emit(o)}_updateActiveDate(t){const i=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const r=this._activeDate,i=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Xb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Xb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Xb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const r=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,r,1));return this._dateAdapter.createDate(t,r,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(t){const r=this._dateAdapter.createDate(t,0,1),i=this._dateAdapter.getYearName(r),o=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new AH(t,i,i,this._shouldEnableYear(t),o)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(i)==t;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Mi){const r=t.start||t.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(r,i){if(1&r&&Us($m,5),2&r){let o;pa(o=ma())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(r,i){1&r&&(z(0,"table",0)(1,"thead",1)(2,"tr"),Ne(3,"th",2),V()(),z(4,"tbody",3),ce("selectedValueChange",function(a){return i._yearSelected(a)})("activeDateChange",function(a){return i._updateActiveDate(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),V()()),2&r&&(H(4),X("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[$m],encapsulation:2,changeDetection:0})}return n})();function Mue(n,e,t,r,i){const o=n.getYear(e),a=n.getYear(t),s=Rue(n,r,i);return Math.floor((o-s)/24)===Math.floor((a-s)/24)}function Xb(n,e,t,r){return function oKe(n,e){return(n%e+e)%e}(n.getYear(e)-Rue(n,t,r),24)}function Rue(n,e,t){let r=0;return t?r=n.getYear(t)-24+1:e&&(r=n.getYear(e)),r}let Pue=(()=>{class n{_changeDetectorRef=O(uo);_dateFormats=O(Vm,{optional:!0});_dateAdapter=O(ei,{optional:!0});_dir=O(Wb,{optional:!0});_rerenderSubscription=St.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let r=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof Mi?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new fe;monthSelected=new fe;activeDateChange=new fe;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xv(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const r=t.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(i);const o=this._getDateFromMonth(r);this.selectedChange.emit(o)}_updateActiveDate(t){const i=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const r=this._activeDate,i=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(i=>this._createCellForMonth(i,t[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),i=this._dateAdapter.getNumDaysInMonth(r);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(t,r){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(i,"year"):void 0;return new AH(t,r.toLocaleUpperCase(),o,this._shouldEnableMonth(t),a)}_shouldEnableMonth(t){const r=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(r,t)||this._isYearAndMonthBeforeMinDate(r,t))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(r,t,1);this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(t,r){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>i||t===i&&r>o}return!1}_isYearAndMonthBeforeMinDate(t,r){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<i||t===i&&r<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof Mi?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["mat-year-view"]],viewQuery:function(r,i){if(1&r&&Us($m,5),2&r){let o;pa(o=ma())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(r,i){1&r&&(z(0,"table",0)(1,"thead",1)(2,"tr"),Ne(3,"th",2),V()(),z(4,"tbody",3),ce("selectedValueChange",function(a){return i._monthSelected(a)})("activeDateChange",function(a){return i._updateActiveDate(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),V()()),2&r&&(H(4),X("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[$m],encapsulation:2,changeDetection:0})}return n})(),kue=(()=>{class n{_intl=O(jm);calendar=O(LH);_dateAdapter=O(ei,{optional:!0});_dateFormats=O(Vm,{optional:!0});constructor(){O(Ts).load(zS);const t=O(uo);this.calendar.stateChanges.subscribe(()=>t.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,r){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(r):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(r):Mue(this._dateAdapter,t,r,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const r=this._dateAdapter.getYear(this.calendar.activeDate)-Xb(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=r+24-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1))]}_periodButtonLabelId=O(jb).getId("mat-calendar-period-label-");static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:UYe,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(r,i){1&r&&(fv(),z(0,"div",0)(1,"div",1)(2,"span",2),xe(3),V(),z(4,"button",3),ce("click",function(){return i.currentPeriodClicked()}),z(5,"span",4),xe(6),V(),cg(),z(7,"svg",5),Ne(8,"polygon",6),V()(),GA(),Ne(9,"div",7),Uu(10),z(11,"button",8),ce("click",function(){return i.previousClicked()}),cg(),z(12,"svg",9),Ne(13,"path",10),V()(),GA(),z(14,"button",11),ce("click",function(){return i.nextClicked()}),cg(),z(15,"svg",9),Ne(16,"path",12),V()()()()),2&r&&(H(2),X("id",i._periodButtonLabelId),H(),Zn(i.periodButtonDescription),H(),Kt("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),H(2),Zn(i.periodButtonText),H(),Qn("mat-calendar-invert","month"!==i.calendar.currentView),H(4),X("disabled",!i.previousEnabled()),Kt("aria-label",i.prevButtonLabel),H(3),X("disabled",!i.nextEnabled()),Kt("aria-label",i.nextButtonLabel))},dependencies:[Eue,wue],encapsulation:2,changeDetection:0})}return n})(),LH=(()=>{class n{_dateAdapter=O(ei,{optional:!0});_dateFormats=O(Vm,{optional:!0});_changeDetectorRef=O(uo);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_startAt;startView="month";get selected(){return this._selected}set selected(t){this._selected=t instanceof Mi?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new fe;yearSelected=new fe;monthSelected=new fe;viewChanged=new fe(!0);_userSelection=new fe;_userDragDrop=new fe;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(t){const r=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&this.viewChanged.emit(r)}_currentView;_activeDrag=null;stateChanges=new ot;constructor(){this._intlChanges=O(jm).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new IH(this.headerComponent||kue),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const r=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,i=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,o=r||i||t.dateFilter;if(o&&!o.firstChange){const a=this._getCurrentViewComponent();a&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const r=t.value;(this.selected instanceof Mi||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,r){this.activeDate=t,this.currentView=r}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["mat-calendar"]],viewQuery:function(r,i){if(1&r&&(Us(xue,5),Us(Pue,5),Us(Aue,5)),2&r){let o;pa(o=ma())&&(i.monthView=o.first),pa(o=ma())&&(i.yearView=o.first),pa(o=ma())&&(i.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[vt([Sue]),vn],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(r,i){if(1&r&&(et(0,zYe,0,0,"ng-template",0),z(1,"div",1),et(2,HYe,1,11,"mat-month-view",2)(3,jYe,1,6,"mat-year-view",3)(4,$Ye,1,6,"mat-multi-year-view",3),V()),2&r){let o;X("cdkPortalOutlet",i._calendarHeaderPortal),H(2),ov("month"===(o=i.currentView)?2:"year"===o?3:"multi-year"===o?4:-1)}},dependencies:[Zce,A7e,xue,Pue,Aue],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}\n'],encapsulation:2,changeDetection:0})}return n})();const Oue=new W("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const n=O(tu);return()=>n.scrollStrategies.reposition()}}),sKe={provide:Oue,deps:[tu],useFactory:function aKe(n){return()=>n.scrollStrategies.reposition()}};let Nue=(()=>{class n{_elementRef=O(cn);_animationsDisabled="NoopAnimations"===O(fw,{optional:!0});_changeDetectorRef=O(uo);_globalModel=O(nu);_dateAdapter=O(ei);_ngZone=O(De);_rangeSelectionStrategy=O(ix,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new ot;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(O(Ts).load(zS),this._closeButtonText=O(jm).closeCalendarLabel,!this._animationsDisabled){const t=this._elementRef.nativeElement,r=O(Oo);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(t,"animationstart",this._handleAnimationEvent),r.listen(t,"animationend",this._handleAnimationEvent),r.listen(t,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(t=>t()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const r=this._model.selection,i=t.value,o=r instanceof Mi;if(o&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(i,r,t.event);this._model.updateSelection(a,this)}else i&&(o||!this._dateAdapter.sameDate(i,r))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=t=>{const r=this._elementRef.nativeElement;t.target!==r||!t.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating="animationstart"===t.type,r.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,r){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,r&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(r,i){if(1&r&&Us(LH,5),2&r){let o;pa(o=ma())&&(i._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(r,i){2&r&&(rv(i.color?"mat-"+i.color:""),Qn("mat-datepicker-content-touch",i.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!i._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(r,i){if(1&r&&(z(0,"div",0)(1,"mat-calendar",1),ce("yearSelected",function(a){return i.datepicker._selectYear(a)})("monthSelected",function(a){return i.datepicker._selectMonth(a)})("viewChanged",function(a){return i.datepicker._viewChanged(a)})("_userSelection",function(a){return i._handleUserSelection(a)})("_userDragDrop",function(a){return i._handleUserDragDrop(a)}),V(),et(2,GYe,0,0,"ng-template",2),z(3,"button",3),ce("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),xe(4),V()()),2&r){let o;Qn("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),Kt("aria-modal",!0)("aria-labelledby",null!==(o=i._dialogLabelId)&&void 0!==o?o:void 0),H(),rv(i.datepicker.panelClass),X("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),H(),X("cdkPortalOutlet",i._actionsPortal),H(),Qn("cdk-visually-hidden",!i._closeButtonFocused),X("color",i.color||"primary"),H(),Zn(i._closeButtonText)}},dependencies:[Q9e,LH,Zce,Eue],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,changeDetection:0})}return n})(),Fue=(()=>{class n{_overlay=O(tu);_viewContainerRef=O(co);_dateAdapter=O(ei,{optional:!0});_dir=O(Wb,{optional:!0});_model=O(nu);_scrollStrategy=O(Oue);_inputStateChanges=St.EMPTY;_document=O(Zt);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}_color;touchUi=!1;get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new fe;monthSelected=new fe;viewChanged=new fe(!0);dateClass;openedStream=new fe;closedStream=new fe;get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function O7e(n,e=/\s+/){const t=[];if(null!=n){const r=Array.isArray(n)?n:`${n}`.split(e);for(const i of r){const o=`${i}`.trim();o&&t.push(o)}}return t}(t)}_panelClass;get opened(){return this._opened}set opened(t){t?this.open():this.close()}_opened=!1;id=O(jb).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new ot;_injector=O(pt);_changeDetectorRef=O(uo);constructor(){this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(t){const r=t.xPosition||t.yPosition;if(r&&!r.firstChange&&this._overlayRef){const i=this._overlayRef.getConfig().positionStrategy;i instanceof cue&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Sce(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,r=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:i,location:o}=this._componentRef;i._animationDone.pipe(Kl(1)).subscribe(()=>{const a=this._document.activeElement;t&&(!a||a===this._document.activeElement||o.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),i._startExitAnimation()}t?setTimeout(r):r()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,r=new IH(Nue,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new rue({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(i).subscribe(o=>{o&&o.preventDefault(),this.close()}),i.keydownEvents().subscribe(o=>{const a=o.keyCode;(38===a||40===a||37===a||39===a||33===a||34===a)&&o.preventDefault()}),this._componentRef=i.attach(r),this._forwardContentValues(this._componentRef.instance),t||xu(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const r="end"===this.xPosition?"end":"start",i="start"===r?"end":"start",o="above"===this.yPosition?"bottom":"top",a="top"===o?"bottom":"top";return t.withPositions([{originX:r,originY:a,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:a},{originX:i,originY:a,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:a}])}_getCloseStream(t){const r=["ctrlKey","shiftKey","metaKey"];return jS(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(Gi(i=>27===i.keyCode&&!Hm(i)||this.datepickerInput&&Hm(i,"altKey")&&38===i.keyCode&&r.every(o=>!Hm(i,o)))))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",dr],disabled:[2,"disabled","disabled",dr],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",dr],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",dr]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[vn]})}return n})(),lKe=(()=>{class n extends Fue{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})();static \u0275cmp=st({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[vt([Sue,{provide:Fue,useExisting:n}]),mt],decls:0,vars:0,template:function(r,i){},encapsulation:2,changeDetection:0})}return n})();class ox{target;targetElement;value;constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let cKe=(()=>{class n{_elementRef=O(cn);_dateAdapter=O(ei,{optional:!0});_dateFormats=O(Vm,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const r=t,i=this._elementRef.nativeElement;this._disabled!==r&&(this._disabled=r,this.stateChanges.next(void 0)),r&&this._isInitialized&&i.blur&&i.blur()}_disabled;dateChange=new fe;dateInput=new fe;stateChanges=new ot;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=St.EMPTY;_localeSubscription=St.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=t=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!r||this._matchesFilter(r)?null:{matDatepickerFilter:!0}};_minValidator=t=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),i=this._getMinDate();return!i||!r||this._dateAdapter.compareDate(i,r)<=0?null:{matDatepickerMin:{min:i,actual:r}}};_maxValidator=t=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),i=this._getMaxDate();return!i||!r||this._dateAdapter.compareDate(i,r)>=0?null:{matDatepickerMax:{max:i,actual:r}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(r=>{if(this._shouldHandleChangeEvent(r)){const i=this._getValueFromModel(r.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new ox(this,this._elementRef.nativeElement)),this.dateChange.emit(new ox(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function uKe(n,e){const t=Object.keys(n);for(let r of t){const{previousValue:i,currentValue:o}=n[r];if(!e.isDateInstance(i)||!e.isDateInstance(o))return!0;if(!e.sameDate(i,o))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){Hm(t,"altKey")&&40===t.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!Hm(t,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const r=this._lastValueValid;let i=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);const o=!this._dateAdapter.sameDate(i,this.value);!i||o?this._cvaOnChange(i):(t&&!this.value&&this._cvaOnChange(i),r!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(i),this.dateInput.emit(new ox(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new ox(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const r=this._getDateFilter();return!r||r(t)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",dr]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[vn]})}return n})();const dKe={provide:Si,useExisting:_t(()=>VH),multi:!0},hKe={provide:Fr,useExisting:_t(()=>VH),multi:!0};let VH=(()=>{class n extends cKe{_formField=O(Bce,{optional:!0});_closedSubscription=St.EMPTY;_openedSubscription=St.EMPTY;set matDatepicker(t){t&&(this._datepicker=t,this._ariaOwns.set(t.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(t.registerInput(this)))}_datepicker;_ariaOwns=Po(null);get min(){return this._min}set min(t){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._validatorOnChange())}_min;get max(){return this._max}set max(t){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(t){const r=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==r&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=Qc.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(r,i){1&r&&ce("input",function(a){return i._onInput(a.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(a){return i._onKeydown(a)}),2&r&&(dC("disabled",i.disabled),Kt("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[vt([dKe,hKe,{provide:Vce,useExisting:n}]),mt]})}return n})(),fKe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=be({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),pKe=(()=>{class n{_intl=O(jm);_changeDetectorRef=O(uo);_stateChanges=St.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}_disabled;disableRipple;_customIcon;_button;constructor(){const t=O(new kpe("tabindex"),{optional:!0}),r=Number(t);this.tabIndex=r||0===r?r:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:Se(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Se(),i=this.datepicker?jS(this.datepicker.openedStream,this.datepicker.closedStream):Se();this._stateChanges.unsubscribe(),this._stateChanges=jS(this._intl.changes,t,r,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(r,i,o){if(1&r&&CR(o,fKe,5),2&r){let a;pa(a=ma())&&(i._customIcon=a.first)}},viewQuery:function(r,i){if(1&r&&Us(qYe,5),2&r){let o;pa(o=ma())&&(i._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(r,i){1&r&&ce("click",function(a){return i._open(a)}),2&r&&(Kt("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),Qn("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",dr],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[vn],ngContentSelectors:YYe,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(r,i){1&r&&(fv(WYe),z(0,"button",1,0),et(2,KYe,2,0,":svg:svg",2),Uu(3),V()),2&r&&(X("disabled",i.disabled)("disableRipple",i.disableRipple),Kt("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex)("aria-expanded",i.datepicker?i.datepicker.opened:null),H(2),ov(i._customIcon?-1:2))},dependencies:[wue],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}\n"],encapsulation:2,changeDetection:0})}return n})(),Vue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({providers:[jm,sKe],imports:[PYe,fue,J9e,Jce,Do,Nue,pKe,kue,ZS]})}return n})(),vKe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[Do]})}return n})(),Bue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[Cue,Do,vKe]})}return n})();const bKe=new W("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=O(tu);return()=>n.scrollStrategies.reposition()}}),CKe={provide:bKe,deps:[tu],useFactory:function wKe(n){return()=>n.scrollStrategies.reposition()}};let Uue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({providers:[CKe],imports:[fue,Bue,Do,ZS,Hb,Bue,Do]})}return n})(),zue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yt({type:n});static \u0275inj=Ut({imports:[ju,Om,Jc,Hb,Uce,Vue,Tce,Uue,uH,Jc,Hb,Uce,Vue,Uue,Tce,Om]})}return n})();function EKe(n,e){if(1&n&&(z(0,"div",7),xe(1),V()),2&n){const t=ie();H(),ur(" ",t.errorMessage," ")}}let ax=(()=>{class n{injector;label="";value=void 0;errorMessage="Campo obrigat\xf3rio";required=!1;isFocused=!1;disabled=!1;valueChange=new fe;onChange=t=>{};onTouched=()=>{};onKeydown(t){"Delete"===t.key&&(this.value=null)}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onDateChange(t){this.value=t.value,this.valueChange.emit(this.value??void 0),this.onChange(this.value),this.onTouched()}ngControl=null;constructor(t){this.injector=t}ngOnInit(){try{this.ngControl=this.injector.get(Io),this.ngControl&&(this.ngControl.valueAccessor=this)}catch{}}hasError(){return!!this.ngControl?.control?.invalid&&!!this.ngControl?.control?.touched}static \u0275fac=function(r){return new(r||n)(Y(pt))};static \u0275cmp=st({type:n,selectors:[["ale-data-ale"]],inputs:{label:"label",value:"value",errorMessage:"errorMessage",required:"required",isFocused:"isFocused",disabled:"disabled"},outputs:{valueChange:"valueChange"},features:[vt([Ice(),{provide:dH,useValue:"pt-BR"},{provide:Si,useExisting:_t(()=>n),multi:!0}])],decls:10,vars:7,consts:[["dateInput",""],["picker",""],[1,"form-field"],[1,"form-label"],["matInput","","readonly","",1,"form-input",3,"dateChange","focus","blur","keydown","click","matDatepicker","value","disabled"],["type","button",1,"calendar-button",3,"click"],["class","form-error",4,"ngIf"],[1,"form-error"]],template:function(r,i){if(1&r){const o=_n();z(0,"div",2)(1,"label",3),xe(2),V(),z(3,"input",4,0),ce("dateChange",function(s){return Te(o),Ie(i.onDateChange(s))})("focus",function(){return Te(o),Ie(i.isFocused=!0)})("blur",function(){return Te(o),Ie(i.isFocused=!1)})("keydown",function(s){return Te(o),Ie(i.onKeydown(s))})("click",function(){return Te(o),Ie(Nf(8).open())}),V(),z(5,"button",5),ce("click",function(){return Te(o),Ie(Nf(8).open())}),xe(6," \u{1f4c5} "),V(),Ne(7,"mat-datepicker",null,1),et(9,EKe,2,1,"div",6),V()}if(2&r){const o=Nf(8);Qn("focused",i.isFocused||i.value),H(2),Zn(i.label),H(),X("matDatepicker",o)("value",i.value)("disabled",i.disabled),H(6),X("ngIf",i.hasError()&&!i.isFocused)}},dependencies:[zue,g7e,lKe,VH,$i],styles:[".form-field[_ngcontent-%COMP%]{position:relative;width:100%}.form-input[_ngcontent-%COMP%]{width:100%;height:35px;padding:16px 12px 3px;border-radius:4px;font-size:12px;cursor:pointer;border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;text-align:left}.form-label[_ngcontent-%COMP%]{position:absolute;top:10px;left:12px;font-size:12px;color:#999;pointer-events:none;transition:all .2s}.focused[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .form-field.filled[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{top:4px;font-size:10px;color:#3f51b5}.calendar-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;background:transparent;border:none;font-size:13px;cursor:pointer}.form-error[_ngcontent-%COMP%]{color:red;font-size:10px;margin-top:2px;margin-left:5px}"]})}return n})();function TKe(n,e){if(1&n){const t=_n();z(0,"div",6),ce("click",function(){return Te(t),Ie(ie().copiarValor())}),V()}}function IKe(n,e){if(1&n&&(z(0,"div",7),xe(1),V()),2&n){const t=ie();H(),ur(" ",t.errorMessage," ")}}let Hue=(()=>{class n{injector;label="";type="text";required=!1;placeholder="";errorMessage="Este campo \xe9 obrigat\xf3rio";numerico=!1;value;isFocused=!1;disabled=!1;copiaConteudo=!1;valueChange=new fe;onChange=t=>{};onTouched=()=>{};ngControl=null;constructor(t){this.injector=t}ngOnInit(){try{this.ngControl=this.injector.get(Io),this.ngControl&&(this.ngControl.valueAccessor=this)}catch{}}handleClick(){this.disabled&&this.copiarValor()}copiarValor(){this.value&&navigator.clipboard.writeText(this.value).then(()=>{alert("Copiado para a \xe1rea de transfer\xeancia!")},t=>{console.error("Erro ao copiar:",t)})}hasError(){return!!this.ngControl?.control?.invalid&&!!this.ngControl?.control?.touched}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onInput(t){let i=t.target.value;if(this.numerico){i=i.replace(/[^0-9,]/g,"");const o=i.split(",");o.length>2&&(i=o[0]+","+o.slice(1).join(""))}this.value=i,this.valueChange.emit(i),this.onChange(i),this.onTouched()}onKeyDown(t){if(this.numerico){const r=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"],i=/^[0-9]$/.test(t.key),o=","===t.key,a=r.includes(t.key),s=(this.value||"").toString().includes(",");!i&&!a&&(!o||s)&&t.preventDefault()}}static \u0275fac=function(r){return new(r||n)(Y(pt))};static \u0275cmp=st({type:n,selectors:[["ale-input-ale"]],inputs:{label:"label",type:"type",required:"required",placeholder:"placeholder",errorMessage:"errorMessage",numerico:"numerico",value:"value",isFocused:"isFocused",disabled:"disabled",copiaConteudo:"copiaConteudo"},outputs:{valueChange:"valueChange"},features:[vt([{provide:Si,useExisting:_t(()=>n),multi:!0}])],decls:7,vars:11,consts:[[1,"form-field"],[2,"position","relative"],[1,"form-label"],[1,"form-input",3,"input","keydown","focus","blur","type","placeholder","value","disabled"],["style","position: absolute; inset: 0; cursor: pointer; background: transparent;","title","Clique para copiar",3,"click",4,"ngIf"],["class","form-error",4,"ngIf"],["title","Clique para copiar",2,"position","absolute","inset","0","cursor","pointer","background","transparent",3,"click"],[1,"form-error"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"label",2),xe(3),V(),z(4,"input",3),ce("input",function(a){return i.onInput(a)})("keydown",function(a){return i.onKeyDown(a)})("focus",function(){return i.isFocused=!0})("blur",function(){return i.isFocused=!1}),V(),et(5,TKe,1,0,"div",4),V(),et(6,IKe,2,1,"div",5),V()),2&r&&(Qn("focused",i.isFocused||i.value),H(3),Zn(i.label),H(),X("type",i.numerico?"text":i.type)("placeholder",i.placeholder)("value",i.value)("disabled",i.disabled),Kt("inputmode",i.numerico?"decimal":null)("pattern",i.numerico?"[0-9]*":null),H(),X("ngIf",i.disabled),H(),X("ngIf",i.hasError()&&!i.isFocused))},dependencies:[zue,$i],styles:[".form-field[_ngcontent-%COMP%]{position:relative;width:100%}.form-input[_ngcontent-%COMP%]{width:100%;height:35px;padding:16px 12px 3px;border-radius:4px;font-size:12px;transition:border-color .3s;outline:none;border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999}.form-input[_ngcontent-%COMP%]:focus{border-color:#3f51b5}.form-label[_ngcontent-%COMP%]{position:absolute;top:10px;left:12px;color:#999;font-size:12px;pointer-events:none;transition:.2s ease all}.focused[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{top:4px;font-size:10px;color:#3f51b5}.form-error[_ngcontent-%COMP%]{color:red;font-size:10px;margin-top:2px;margin-left:5px}.input-wrapper.clickable[_ngcontent-%COMP%]{width:100%;height:100%;cursor:pointer}"]})}return n})();function DKe(n,e){if(1&n){const t=_n();z(0,"div",1)(1,"div",2),ce("click",function(){return Te(t),Ie(ie().onBackdropClick())}),V(),z(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h3"),xe(7),V()(),z(8,"div",7)(9,"button",8),ce("click",function(){return Te(t),Ie(ie().cancelar())}),xe(10,"X"),V()()(),z(11,"form",9),ce("ngSubmit",function(){return Te(t),Ie(ie().salvar())}),z(12,"div",10)(13,"div",11),Ne(14,"ale-data-ale",12),V(),z(15,"div",13),Ne(16,"ale-select-ale",14),V(),z(17,"div",15),Ne(18,"ale-select-ale",16),V(),z(19,"div",17),Ne(20,"ale-input-ale",18),V()(),z(21,"div",19)(22,"div",20),Ne(23,"ale-select-ale",16),V()(),z(24,"div",21)(25,"div",22),Ne(26,"ale-input-ale",23),V(),z(27,"div",24),Ne(28,"ale-select-ale",25),V()(),z(29,"div",26)(30,"div",11),Ne(31,"ale-data-ale",27),V(),z(32,"div",28),Ne(33,"ale-select-ale",29),V(),z(34,"div",30)(35,"ale-input-decimal-ale",31),ce("rawValueChange",function(i){return Te(t),Ie(ie().onRawValueChange(i))}),V()()(),z(36,"div",32)(37,"div",33),Ne(38,"ale-button",34),V(),z(39,"div",33)(40,"ale-button",35),ce("click",function(){return Te(t),Ie(ie().cancelar())}),V()()()()()()()}if(2&n){const t=ie();H(7),Zn(t.title),H(4),X("formGroup",t.cadastroTarefas),H(3),X("required",!1),H(2),X("label","Servi\xe7o")("placeholder","")("niveis",t.servicos)("formControl",t.getControl("servico")),H(2),X("label","Alerta")("placeholder","")("niveis",t.lista1)("formControl",t.getControl("prioridadeSelecionada"))("allowTyping",!1)("required",!1),H(2),X("required",!1),H(3),X("label","Atividade")("placeholder","")("niveis",t.atividades)("formControl",t.getControl("atividade"))("allowTyping",!0)("required",!1),H(3),X("required",!1),H(2),X("label","Quem")("placeholder","")("niveis",t.lista4)("formControl",t.getControl("quem"))("required",!1),H(3),X("required",!1),H(2),X("label","Financeiro")("placeholder","")("niveis",t.lista3)("formControl",t.getControl("financeiroSelecionada"))("required",!1),H(2),X("maskType","money")("required",!1)}}let jue=(()=>{class n{fb;firestoreService;linkService;tarefaParaEditar=null;title="T\xedtulo";message="Mensagem da modal";closeOnBackdrop=!0;visible=!1;servicos=[{value:"Mensal",label:"Mensal"}];links=[];lista1=[{value:"Alta",label:"Alta"},{value:"Moderado",label:"Moderado"},{value:"Baixa",label:"Baixa"}];lista2=[{value:"",label:""},{value:"FEITO",label:"FEITO"}];lista3=[{value:"",label:""},{value:"PAGO",label:"PAGO"}];lista4=[{value:"MECIO",label:"MECIO"},{value:"DOUGLAS",label:"DOUGLAS"},{value:"ALEXANDRE",label:"ALEXANDRE"}];atividades=[];onClose=new fe;onSave=new fe;cadastroTarefas;valorNumerico=0;constructor(t,r,i){this.fb=t,this.firestoreService=r,this.linkService=i,this.atividades=this.linkService.links.map(o=>({value:o.value,label:o.value})),this.cadastroTarefas=this.fb.group({data:["",Qc.required],servico:[""],prioridadeSelecionada:["",Qc.required],cliente:[""],atividade:["",Qc.required],obs:[""],quem:[""],dataConclusao:[""],statusSelecionada:[""],financeiroSelecionada:[""],valor:["0"],valorNumerico:[""]})}getControl(t){const r=this.cadastroTarefas.get(t);if(!r)throw new Error(`FormControl '${t}' n\xe3o existe no FormGroup`);return r}ngOnChanges(t){if(t.tarefaParaEditar&&this.tarefaParaEditar){const r={...this.tarefaParaEditar};if("string"==typeof r.data){const[i,o,a]=r.data.split("-").map(Number);r.data=new Date(i,o-1,a)}if("string"==typeof r.dataConclusao&&r.dataConclusao){const[i,o,a]=r.dataConclusao.split("-").map(Number);r.dataConclusao=new Date(i,o-1,a)}this.cadastroTarefas.patchValue(r)}}salvar(){if(!this.cadastroTarefas.valid)return console.log("Formul\xe1rio inv\xe1lido. Preencha os campos obrigat\xf3rios."),void this.cadastroTarefas.markAllAsTouched();const t={...this.cadastroTarefas.value,data:this.formatarDataString(new Date(this.cadastroTarefas.value.data)),dataConclusao:this.cadastroTarefas.value.dataConclusao?this.formatarDataString(this.cadastroTarefas.value.dataConclusao):""};this.onSave.emit(t),this.cancelar()}formatarDataString(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}cancelar(){this.cadastroTarefas.reset({data:new Date,servico:"",prioridadeSelecionada:"",cliente:"",atividade:"",obs:"",quem:"",dataConclusao:"",statusSelecionada:"",financeiroSelecionada:"",valor:"0",valorNumerico:0}),this.valorNumerico=0,this.cancel()}onRawValueChange(t){this.valorNumerico=t,this.cadastroTarefas.get("valorNumerico")?.setValue(t)}onBackdropClick(){this.closeOnBackdrop&&this.cancel()}cancel(){this.onClose.emit(!1)}formatarData(t){t instanceof Date||(t=new Date(t));const r=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return`${t.getFullYear()}-${i}-${r}`}static \u0275fac=function(r){return new(r||n)(Y(wce),Y(Rm),Y(jz))};static \u0275cmp=st({type:n,selectors:[["ale-modal-tarefas"]],inputs:{tarefaParaEditar:"tarefaParaEditar",title:"title",message:"message",closeOnBackdrop:"closeOnBackdrop",visible:"visible",lista1:"lista1",lista2:"lista2",lista3:"lista3",lista4:"lista4"},outputs:{onClose:"onClose",onSave:"onSave"},features:[vn],decls:1,vars:1,consts:[["class","modal-container","aria-modal","true",4,"ngIf"],["aria-modal","true",1,"modal-container"],[1,"modal-backdrop",3,"click"],[1,"container__cadastro-tarefas"],[1,"container__cadastro-form"],[1,"title_container"],[1,"title1"],[1,"title2"],["type","button",3,"click"],[3,"ngSubmit","formGroup"],[1,"form__container-linha1"],[1,"form__container-data"],["label","Data","type","data","formControlName","data","errorMessage","Campo obrigat\xf3rio!",3,"required"],["id","servico",1,"form__container-select"],["errorMessage"," ",3,"label","placeholder","niveis","formControl"],[1,"form__container-select"],["errorMessage","Campo obrigat\xf3rio",3,"label","placeholder","niveis","formControl","allowTyping","required"],["id","cliente",1,"form__container-input"],["label","Cliente","formControlName","cliente","errorMessage","Campo obrigat\xf3rio",3,"required"],[1,"form__container-linha2"],["id","atividades",1,"form__container-select"],[1,"form__container-linha3"],["id","obs",1,"form__container-input"],["label","Obs","formControlName","obs","errorMessage"," ",3,"required"],["id","quem",1,"form__container-select"],["errorMessage","Teste ",3,"label","placeholder","niveis","formControl","required"],[1,"form__container-linha4"],["label","Data Conclus\xe3o","type","data","formControlName","dataConclusao","errorMessage","Campo obrigat\xf3rio!",3,"required"],["id","financeiro",1,"form__container-select"],["formControlName","financeiroSelecionada","errorMessage","Teste ",3,"label","placeholder","niveis","formControl","required"],["id","valor",1,"form__container-input"],["label","Valor","formControlName","valor","errorMessage"," ",3,"rawValueChange","maskType","required"],[1,"form__container-linha5"],[1,"form__button"],["label","Salvar","type","submit"],["label","Cancelar",1,"button-cancelar",3,"click"]],template:function(r,i){1&r&&et(0,DKe,41,34,"div",0),2&r&&X("ngIf",i.visible)},dependencies:[$i,Om,Vb,Il,Mb,yh,LS,vh,BS,uH,Ece,Nm,ax,Hue],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:998}.container__cadastro-tarefas[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:fixed;top:45%;left:50%;transform:translate(-50%,-50%);z-index:999}.container__cadastro-form[_ngcontent-%COMP%]{display:block;flex-direction:column;align-items:center;width:70vw;min-width:500px;max-width:600px;height:400px;gap:20px;border:3px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;background-color:#e0e0e0;border-radius:10px}.title_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;background:linear-gradient(to bottom,#2d89ef,#1b4f9c);padding:6px 10px;border-bottom:1px solid #666;text-shadow:1px 1px 1px #000;border-top-left-radius:10px;border-top-right-radius:10px}.title_container[_ngcontent-%COMP%] > .title1[_ngcontent-%COMP%]{width:95%;font-weight:700;color:#fff}.title_container[_ngcontent-%COMP%] > .title2[_ngcontent-%COMP%]{width:5%;color:#fff;display:flex;align-items:center;justify-content:center}.title_container[_ngcontent-%COMP%] > .title2[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:transparent;border:none;font-weight:700;font-size:16px;transition:transform .6s}.title_container[_ngcontent-%COMP%] > .title2[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:#ff0;transform:scale(1.4)}.form__container-linha1[_ngcontent-%COMP%], .form__container-linha2[_ngcontent-%COMP%], .form__container-linha3[_ngcontent-%COMP%], .form__container-linha4[_ngcontent-%COMP%], .form__container-linha5[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:50px;gap:5px;margin-bottom:25px;padding:15px;justify-content:center}.form__container-data[_ngcontent-%COMP%]{width:25%}.form__container-input[_ngcontent-%COMP%]{width:50%}.form__container-select[_ngcontent-%COMP%]{width:20%}.form__button[_ngcontent-%COMP%]{width:100px;height:25px}#servico[_ngcontent-%COMP%]{width:20%}#cliente[_ngcontent-%COMP%]{width:35%}#atividades[_ngcontent-%COMP%]{width:100%}#obs[_ngcontent-%COMP%]{width:65%}#quem[_ngcontent-%COMP%]{width:35%}#status[_ngcontent-%COMP%], #financeiro[_ngcontent-%COMP%]{width:20%}#valor[_ngcontent-%COMP%]{width:25%}"]})}return n})();function SKe(n,e){if(1&n){const t=_n();z(0,"label")(1,"input",17),ce("change",function(){return Te(t),Ie(ie().verificarCheckbox())}),V(),xe(2," Mostrar todos "),V()}}function xKe(n,e){if(1&n){const t=_n();z(0,"div",18)(1,"div",19)(2,"ale-data-ale",20),ce("valueChange",function(i){return Te(t),Ie(ie().dataInicio=i)}),V()(),z(3,"div",19)(4,"ale-data-ale",21),ce("valueChange",function(i){return Te(t),Ie(ie().dataFim=i)}),V()(),z(5,"div",22)(6,"ale-button",23),ce("click",function(){return Te(t),Ie(ie().buttonBuscar())}),V()()()}2&n&&(H(2),X("required",!1),H(2),X("required",!1))}let AKe=(()=>{class n{platformId;firestoreService;linkService;mostrarModal=!1;mostrarModalEditar=!1;filtros=!1;mostrarTodos=!1;mostrarTodosAtivo=!1;tarefaEmEdicao=null;dadosProdutos=[];termoPesquisa="";dataInicio=null;dataFim=null;links=[];prioridades=[{value:"Alta",label:"Alta"},{value:"Moderado",label:"Moderado"},{value:"Baixa",label:"Baixa"}];destacarAlta=t=>"Alta"===t.prioridadeSelecionada;destacarMedio=t=>"Moderado"===t.prioridadeSelecionada;status=[{value:"Feito",label:"Feito"}];financeiro=[{value:"Pago",label:"Pago"}];tamanhosColunas={cliente:{width:"150px"},atividade:{width:"auto"},obs:{width:"auto"},valorNumerico:{width:"150px"},mostrarAcoes:{width:"100px"}};colunasLabels={data:"Data",servico:"Servi\xe7o",prioridadeSelecionada:"Prioridade",cliente:"Cliente",atividade:"Atividade",obs:"Observa\xe7\xf5es",quem:"Respons\xe1vel",dataConclusao:"Conclus\xe3o"};colunasProdutos=["data","servico","prioridadeSelecionada","cliente","atividade","obs","quem","dataConclusao"];formatoProdutos={valorNumerico:"moeda",data:"data",dataConclusao:"data"};constructor(t,r,i){this.platformId=t,this.firestoreService=r,this.linkService=i,this.links=this.linkService.links}ngOnInit(){if(l8(this.platformId)){const t=localStorage.getItem("prioridadeSelecionada");t&&(console.log("Prioridade recebida do localStorage:",t),this.termoPesquisa=t,localStorage.removeItem("prioridadeSelecionada")),this.carregarTarefas()}else console.warn("Ignorando carregarTarefas() pois n\xe3o est\xe1 no browser.")}filtrosCheckbox(){this.filtros=!!this.filtros}verificarCheckbox(){this.mostrarTodosAtivo?(this.mostrarTodos=!1,this.mostrarTodosAtivo=!1):(this.mostrarTodos=!0,this.mostrarTodosAtivo=!0)}buttonBuscar(){this.carregarTarefas(),console.log("verificando filtro "+this.mostrarTodos+" "+this.mostrarTodosAtivo)}carregarTarefas(){this.firestoreService.getTarefas().subscribe(t=>{let r=t.map(i=>({...i,data:i.data,dataConclusao:i.dataConclusao||""}));r.sort((i,o)=>{const a=(i.prioridadeSelecionada||"").toLowerCase(),s=(o.prioridadeSelecionada||"").toLowerCase();if(a<s)return-1;if(a>s)return 1;const l=i.data instanceof Date?this.formatarDataString(i.data):i.data,c=o.data instanceof Date?this.formatarDataString(o.data):o.data;return l.localeCompare(c)}),this.dataInicio&&this.dataFim&&(r=this.filtrarPorPeriodo(r,this.dataInicio,this.dataFim)),r=this.filtrarPorPesquisa(r,this.termoPesquisa),this.dadosProdutos=this.mostrarTodos?r:r.filter(i=>!i.dataConclusao)})}filtrarPorPeriodo(t,r,i){const o=this.formatarDataString(new Date(r)),a=this.formatarDataString(new Date(i));return console.log("Filtro de per\xedodo:"),console.log("In\xedcio:",o),console.log("Fim:",a),t.filter(s=>{const l=s.data instanceof Date?this.formatarDataString(s.data):s.data;return l>=o&&l<=a})}filtrarPorPesquisa(t,r){if(!r||""===r.trim())return t;const i=r.toLowerCase();return t.filter(o=>o.servico&&o.servico.toLowerCase().includes(i)||o.cliente&&o.cliente.toLowerCase().includes(i)||o.atividade&&o.atividade.toLowerCase().includes(i)||o.prioridadeSelecionada&&o.prioridadeSelecionada.toLowerCase().includes(i)||o.data&&o.data.toString().toLowerCase().includes(i)||o.obs&&o.obs.toString().toLowerCase().includes(i)||o.quem&&o.quem.toString().toLowerCase().includes(i)||o.financeiroSelecionada&&o.financeiroSelecionada.toString().toLowerCase().includes(i))}formatarDataString(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}fecharModal(){this.mostrarModal=!1,this.mostrarModalEditar=!1,this.tarefaEmEdicao=null}salvarTarefa(t){var r=this;return F(function*(){try{if(r.tarefaEmEdicao&&r.tarefaEmEdicao.id){if(r.dataConclusaoAtual!=t.dataConclusao&&"Mensal"===t.servico){const i=r.somarMesMaisUm(t.data);t.data=i,t.dataConclusao="",t.quem="",yield r.firestoreService.addTarefa(t),console.log("Tarefa subsequente cadastrada com sucesso:",t)}yield r.firestoreService.updateTarefa(r.tarefaEmEdicao.id,t),console.log("Tarefa editada com sucesso:",t)}else yield r.firestoreService.addTarefa(t),console.log("Tarefa cadastrada com sucesso:",t);r.fecharModal(),r.carregarTarefas()}catch(i){console.error("Erro ao salvar tarefa:",i)}})()}somarMesMaisUm(t){const r=new Date(t);r.setMonth(r.getMonth()+1);const i=r.toISOString().split("T")[0];return console.log(i),i}handleModalClose(t){console.log("Resultado da modal:",t),this.mostrarModal=!1,this.mostrarModalEditar=!1}dataConclusaoAtual;editarProduto(t){console.log("Editar:",t),this.tarefaEmEdicao={...t},this.mostrarModal=!0,this.mostrarModalEditar=!0,this.dataConclusaoAtual=t.dataConclusao,console.log("Data de Conclus\xe3o atual:",this.dataConclusaoAtual)}excluirProduto(t){var r=this;return F(function*(){if(confirm(`Tems certeza que deseja excluir a tarefa  "${t.atividade}"?`)&&t.id)try{yield r.firestoreService.deleteTarefa(t.id),console.log("Tarefa exclu\xedda:",t),r.carregarTarefas()}catch(o){console.error("Erro ao excluir tarefa:",o)}})()}static \u0275fac=function(r){return new(r||n)(Y(Su),Y(Rm),Y(jz))};static \u0275cmp=st({type:n,selectors:[["ale-controle-tarefas"]],decls:19,vars:26,consts:[[1,"container"],[1,"container__menu-tabela"],[1,"conatiner__menu-tabela-pesquisa"],["id","menu-tabela__pesquisa"],["id","pesquisa__todos"],["type","checkbox",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["id","pesquisa__periodo",4,"ngIf"],["id","menu-tabela__buttons"],[1,"container__buttons"],["label","Cadastro",3,"click"],[3,"onClose","onSave","visible","title","lista1","lista2","lista3"],[3,"onClose","onSave","visible","title","tarefaParaEditar","lista1","lista2","lista3"],[1,"conatiner__pesquisa-label"],["type","text","placeholder","Pesquisar...",3,"ngModelChange","keyup.enter","ngModel"],[1,"container__tabela"],[3,"editar","excluir","colunasLabels","colunas","dados","destacarLinha1","destacarLinha2","tamanhosColunas","formatoColunas","linksDinamicos","mostrarAcoes","mostrarEditar","mostrarExcluir"],["type","checkbox",3,"change"],["id","pesquisa__periodo"],[1,"periodo__datas"],["label","Data In\xedcio","type","data","errorMessage","Campo obrigat\xf3rio!",3,"valueChange","required"],["label","Data Fim","type","data","errorMessage","Campo obrigat\xf3rio!",3,"valueChange","required"],["id","pesquisa__buscaConfirma"],["label","\u{1f50d}",3,"click"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label")(6,"input",5),zr("ngModelChange",function(a){return hi(i.filtros,a)||(i.filtros=a),a}),ce("change",function(){return i.filtrosCheckbox()}),V(),xe(7," Filtros "),V(),et(8,SKe,3,0,"label",6),V(),et(9,xKe,7,2,"div",7),V(),z(10,"div",8)(11,"div",9)(12,"ale-button",10),ce("click",function(){return i.mostrarModal=!0}),V()(),z(13,"ale-modal-tarefas",11),ce("onClose",function(){return i.mostrarModal=!1})("onSave",function(a){return i.salvarTarefa(a)}),V(),z(14,"ale-modal-tarefas",12),ce("onClose",function(){return i.fecharModal()})("onSave",function(a){return i.salvarTarefa(a)}),V()()(),z(15,"div",13)(16,"input",14),zr("ngModelChange",function(a){return hi(i.termoPesquisa,a)||(i.termoPesquisa=a),a}),ce("keyup.enter",function(){return i.carregarTarefas()}),V()()(),z(17,"div",15)(18,"ale-table",16),ce("editar",function(a){return i.editarProduto(a)})("excluir",function(a){return i.excluirProduto(a)}),V()()()),2&r&&(H(6),Ur("ngModel",i.filtros),H(2),X("ngIf",i.filtros),H(),X("ngIf",i.filtros),H(4),X("visible",i.mostrarModal)("title","Cadastro de Tarefa")("lista1",i.prioridades)("lista2",i.status)("lista3",i.financeiro),H(),X("visible",i.mostrarModalEditar)("title","Editar Tarefa")("tarefaParaEditar",i.tarefaEmEdicao)("lista1",i.prioridades)("lista2",i.status)("lista3",i.financeiro),H(2),Ur("ngModel",i.termoPesquisa),H(2),X("colunasLabels",i.colunasLabels)("colunas",i.colunasProdutos)("dados",i.dadosProdutos)("destacarLinha1",i.destacarAlta)("destacarLinha2",i.destacarMedio)("tamanhosColunas",i.tamanhosColunas)("formatoColunas",i.formatoProdutos)("linksDinamicos",i.links)("mostrarAcoes",!0)("mostrarEditar",!0)("mostrarExcluir",!0))},dependencies:[ju,$i,Jc,Kc,ES,Il,Zc,Nm,cH,jue,ax,Om],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;width:100%;height:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 40px 15px;height:auto;background-color:#e9e9e6}.container__menu-tabela[_ngcontent-%COMP%]{display:block;flex-direction:column;width:100%;margin-top:20px;padding:8px 5px;box-shadow:inset -1px -1px #fff,inset 1px 1px #999}.conatiner__menu-tabela-pesquisa[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;margin-bottom:10px}.conatiner__pesquisa-label[_ngcontent-%COMP%]{height:40px;align-items:center;margin-left:15%}.conatiner__pesquisa-label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:60%;height:35px;border-radius:25px;padding-left:35px;border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;outline:none}.container__tabela[_ngcontent-%COMP%]{width:100%;height:80vh;margin-top:10px;overflow:auto}.container__buttons[_ngcontent-%COMP%]{width:100px;height:25px;margin-left:0}#menu-tabela__buttons[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;min-width:200px;justify-content:center}#menu-tabela__pesquisa[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:80%;min-width:500px}#pesquisa__todos[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:15%;gap:8px;min-width:150px;margin-left:20px}#pesquisa__periodo[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:75%;gap:10px;margin-top:10px;margin-bottom:10px}#periodo__datas[_ngcontent-%COMP%]{width:75%}#pesquisa__buscaConfirma[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:70px;min-width:30px}"]})}return n})();function MKe(n,e){if(1&n){const t=_n();z(0,"label")(1,"input",13),ce("change",function(){return Te(t),Ie(ie().verificarCheckbox())}),V(),xe(2," Mostrar todos "),V()}}function RKe(n,e){if(1&n){const t=_n();z(0,"div",14)(1,"div",15)(2,"ale-data-ale",16),ce("valueChange",function(i){return Te(t),Ie(ie().dataInicio=i)}),V()(),z(3,"div",15)(4,"ale-data-ale",17),ce("valueChange",function(i){return Te(t),Ie(ie().dataFim=i)}),V()(),z(5,"div",18)(6,"ale-button",19),ce("click",function(){return Te(t),Ie(ie().buttonBuscar())}),V()()()}2&n&&(H(2),X("required",!1),H(2),X("required",!1))}let PKe=(()=>{class n{firestoreService;mostrarModalEditar=!1;mostrarModal=!1;prioridades=[{value:"Alta",label:"Alta"},{value:"Moderado",label:"Moderado"},{value:"Baixa",label:"Baixa"}];status=[{value:"Feito",label:"Feito"}];financeiro=[{value:"Pago",label:"Pago"}];constructor(t){this.firestoreService=t}ngOnInit(){this.carregarTarefas()}filtros=!1;mostrarTodos=!1;mostrarTodosAtivo=!1;tarefaEmEdicao=null;dadosProdutos=[];dataInicio=null;dataFim=null;termoPesquisa="";tamanhosColunas={cliente:{width:"150px"},atividade:{width:"auto"},valorNumerico:{width:"150px"},mostrarAcoes:{width:"60px"}};colunasLabels={data:"Data",cliente:"Cliente",atividade:"Atividade",obs:"Observa\xe7\xf5es",quem:"Respons\xe1vel",dataConclusao:"Conclus\xe3o",financeiroSelecionada:"Financeiro",valorNumerico:"Valor"};colunasProdutos=["data","cliente","atividade","dataConclusao","financeiroSelecionada","valorNumerico"];formatoProdutos={valorNumerico:"moeda",data:"data",dataConclusao:"data"};filtrosCheckbox(){this.filtros=!!this.filtros}verificarCheckbox(){this.mostrarTodosAtivo?(this.mostrarTodos=!1,this.mostrarTodosAtivo=!1):(this.mostrarTodos=!0,this.mostrarTodosAtivo=!0)}buttonBuscar(){this.carregarTarefas(),console.log("verificando filtro "+this.mostrarTodos+" "+this.mostrarTodosAtivo)}salvarTarefa(t){var r=this;return F(function*(){try{r.tarefaEmEdicao&&r.tarefaEmEdicao.id?(yield r.firestoreService.updateTarefa(r.tarefaEmEdicao.id,t),console.log("Tarefa editada com sucesso:",t)):(yield r.firestoreService.addTarefa(t),console.log("Tarefa cadastrada com sucesso:",t)),r.fecharModal(),r.carregarTarefas()}catch(i){console.error("Erro ao salvar tarefa:",i)}})()}gerarId(){return Math.random().toString(36).substr(2,9)}abrirModal(){this.mostrarModal=!0,this.mostrarModalEditar=!0,this.tarefaEmEdicao=null}fecharModal(){this.mostrarModal=!1,this.mostrarModalEditar=!1,this.tarefaEmEdicao=null}carregarTarefas(){this.firestoreService.getTarefas().subscribe(t=>{let r=t.map(i=>({...i,data:i.data,dataConclusao:i.dataConclusao||""}));r=r.filter(i=>i.valorNumerico>0),r.sort((i,o)=>{const a=i.data instanceof Date?this.formatarDataString(i.data):i.data,s=o.data instanceof Date?this.formatarDataString(o.data):o.data;return a.localeCompare(s)}),this.dataInicio&&this.dataFim&&(r=this.filtrarPorPeriodo(r,this.dataInicio,this.dataFim)),r=this.filtrarPorPesquisa(r,this.termoPesquisa),this.dadosProdutos=this.mostrarTodos?r:r.filter(i=>{const a=!i.financeiroSelecionada||""===i.financeiroSelecionada,s=i.valorNumerico>0;return i.dataConclusao?!!s&&a:!s||a})})}filtrarPorPesquisa(t,r){if(!r||""===r.trim())return t;const i=r.toLowerCase();return t.filter(o=>o.cliente&&o.cliente.toLowerCase().includes(i)||o.atividade&&o.atividade.toLowerCase().includes(i)||o.data&&o.data.toString().toLowerCase().includes(i)||o.financeiroSelecionada&&o.financeiroSelecionada.toString().toLowerCase().includes(i))}filtrarPorPeriodo(t,r,i){const o=this.formatarDataString(new Date(r)),a=this.formatarDataString(new Date(i));return console.log("Filtro de per\xedodo:"),console.log("In\xedcio:",o),console.log("Fim:",a),t.filter(s=>{const l=s.data instanceof Date?this.formatarDataString(s.data):s.data;return l>=o&&l<=a})}formatarDataString(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}editarProduto(t){console.log("Editar:",t),this.tarefaEmEdicao={...t},this.mostrarModal=!0,this.mostrarModalEditar=!0}excluirProduto(t){var r=this;return F(function*(){if(confirm(`Tems certeza que deseja excluir a tarefa  "${t.atividade}"?`)&&t.id)try{yield r.firestoreService.deleteTarefa(t.id),console.log("Tarefa exclu\xedda:",t),r.carregarTarefas()}catch(o){console.error("Erro ao excluir tarefa:",o)}})()}static \u0275fac=function(r){return new(r||n)(Y(Rm))};static \u0275cmp=st({type:n,selectors:[["ale-controle-financeiro"]],decls:15,vars:17,consts:[[1,"container"],[1,"container__menu-tabela"],[1,"conatiner__menu-tabela-pesquisa"],["id","menu-tabela__pesquisa"],["id","pesquisa__todos"],["type","checkbox",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["id","pesquisa__periodo",4,"ngIf"],[3,"onClose","onSave","visible","title","tarefaParaEditar","lista1","lista2","lista3"],[1,"conatiner__pesquisa-label"],["type","text","placeholder","Pesquisar...",3,"ngModelChange","keyup.enter","ngModel"],[1,"container__tabela"],[3,"editar","colunasLabels","colunas","dados","tamanhosColunas","formatoColunas","mostrarAcoes","mostrarEditar"],["type","checkbox",3,"change"],["id","pesquisa__periodo"],[1,"periodo__datas"],["label","Data In\xedcio","type","data","errorMessage","Campo obrigat\xf3rio!",3,"valueChange","required"],["label","Data Fim","type","data","errorMessage","Campo obrigat\xf3rio!",3,"valueChange","required"],["id","pesquisa__buscaConfirma"],["label","\u{1f50d}",3,"click"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label")(6,"input",5),zr("ngModelChange",function(a){return hi(i.filtros,a)||(i.filtros=a),a}),ce("change",function(){return i.filtrosCheckbox()}),V(),xe(7," Filtros "),V(),et(8,MKe,3,0,"label",6),V(),et(9,RKe,7,2,"div",7),V(),z(10,"ale-modal-tarefas",8),ce("onClose",function(){return i.fecharModal()})("onSave",function(a){return i.salvarTarefa(a)}),V()(),z(11,"div",9)(12,"input",10),zr("ngModelChange",function(a){return hi(i.termoPesquisa,a)||(i.termoPesquisa=a),a}),ce("keyup.enter",function(){return i.carregarTarefas()}),V()()(),z(13,"div",11)(14,"ale-table",12),ce("editar",function(a){return i.editarProduto(a)}),V()()()),2&r&&(H(6),Ur("ngModel",i.filtros),H(2),X("ngIf",i.filtros),H(),X("ngIf",i.filtros),H(),X("visible",i.mostrarModalEditar)("title","Editar Tarefa")("tarefaParaEditar",i.tarefaEmEdicao)("lista1",i.prioridades)("lista2",i.status)("lista3",i.financeiro),H(2),Ur("ngModel",i.termoPesquisa),H(2),X("colunasLabels",i.colunasLabels)("colunas",i.colunasProdutos)("dados",i.dadosProdutos)("tamanhosColunas",i.tamanhosColunas)("formatoColunas",i.formatoProdutos)("mostrarAcoes",!0)("mostrarEditar",!0))},dependencies:[Nm,jue,cH,ju,$i,Jc,Kc,ES,Il,Zc,ax,Om],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;width:100%;height:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 40px 15px;height:auto;background-color:#e9e9e6}.container__menu-tabela[_ngcontent-%COMP%]{display:block;flex-direction:column;width:100%;margin-top:20px;padding:8px 5px;box-shadow:inset -1px -1px #fff,inset 1px 1px #999}.conatiner__menu-tabela-pesquisa[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-bottom:10px}.conatiner__pesquisa-label[_ngcontent-%COMP%]{height:40px;align-items:center;margin-left:15%}.conatiner__pesquisa-label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:60%;height:35px;border-radius:25px;padding-left:35px;border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;outline:none}.container__tabela[_ngcontent-%COMP%]{width:100%;height:80vh;margin-top:10px;overflow:auto}.container__buttons[_ngcontent-%COMP%]{width:100px;height:25px;margin-left:0}#menu-tabela__buttons[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;min-width:200px;justify-content:center}#menu-tabela__pesquisa[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:80%;min-width:500px}#pesquisa__todos[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:15%;gap:8px;min-width:150px;margin-left:20px}#pesquisa__periodo[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:75%;gap:10px;margin-top:10px;margin-bottom:10px}#periodo__datas[_ngcontent-%COMP%]{width:75%}#pesquisa__buscaConfirma[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:70px;min-width:30px}"]})}return n})();function kKe(n,e){if(1&n&&(z(0,"div",8),xe(1),V()),2&n){const t=ie();H(),Zn(t.erro)}}let OKe=(()=>{class n{authService;router;email="";senha="";erro="";constructor(t,r){this.authService=t,this.router=r}login(){this.erro="",this.authService.login(this.email,this.senha).then(()=>this.router.navigate(["/"])).catch(t=>{console.error(t),this.erro="auth/user-not-found"===t.code?"Usu\xe1rio n\xe3o encontrado.":"auth/wrong-password"===t.code?"Senha incorreta.":"Erro ao fazer login. Tente novamente."})}static \u0275fac=function(r){return new(r||n)(Y(Fm),Y(mi))};static \u0275cmp=st({type:n,selectors:[["ale-login"]],decls:9,vars:3,consts:[["form","ngForm"],[1,"container__login"],[1,"login-container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","senha","placeholder","Senha","required","",3,"ngModelChange","ngModel"],["type","submit"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(r,i){if(1&r){const o=_n();z(0,"div",1)(1,"div",2)(2,"form",3,0),ce("ngSubmit",function(){return Te(o),Ie(i.login())}),z(4,"input",4),zr("ngModelChange",function(s){return Te(o),hi(i.email,s)||(i.email=s),Ie(s)}),V(),z(5,"input",5),zr("ngModelChange",function(s){return Te(o),hi(i.senha,s)||(i.senha=s),Ie(s)}),V(),z(6,"button",6),xe(7,"Entrar"),V(),et(8,kKe,2,1,"div",7),V()()()}2&r&&(H(4),Ur("ngModel",i.email),H(),Ur("ngModel",i.senha),H(3),X("ngIf",i.erro))},dependencies:[Jc,Vb,Kc,Il,Mb,yh,Zc,gh,$i],styles:['.container__login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:60vh}.login-container[_ngcontent-%COMP%]{width:400px;padding:2rem;border-radius:12px;background-color:#fff;box-shadow:0 4px 20px #0000001a;font-family:Arial,sans-serif}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.75rem;border:1px solid #ccc;border-radius:8px;font-size:1rem;transition:border .3s}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem;background-color:#007bff;color:#fff;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-container[_ngcontent-%COMP%]   div[style*="color: red"][_ngcontent-%COMP%]{margin-top:.5rem;font-size:.9rem;color:#e63946;text-align:center}']})}return n})(),$ue=(()=>{class n{auth;router;constructor(t,r){this.auth=t,this.router=r}canActivate(){return new Promise(t=>{xre(this.auth,r=>{r?t(!0):(this.router.navigate(["/login"]),t(!1))})})}static \u0275fac=function(r){return new(r||n)(_e(Fy),_e(mi))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NKe=(()=>{class n{auth;nome="";email="";senha="";perfil="usuario";carregando=!1;constructor(t){this.auth=t}cadastrar(){var t=this;return F(function*(){if(t.nome&&t.email&&t.senha){t.carregando=!0;try{yield t.auth.cadastrar(t.email,t.senha,{nome:t.nome,perfil:t.perfil}),alert("Usu\xe1rio cadastrado com sucesso!"),t.nome="",t.email="",t.senha="",t.perfil="usuario"}catch(r){console.error(r),alert("Erro ao cadastrar: "+r.message)}finally{t.carregando=!1}}else alert("Preencha todos os campos.")})()}static \u0275fac=function(r){return new(r||n)(Y(Fm))};static \u0275cmp=st({type:n,selectors:[["ale-cadastrou"]],decls:14,vars:6,consts:[[1,"cadastro-container"],[1,"cadastro-form",3,"ngSubmit"],["type","text","name","nome","placeholder","Nome completo","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","senha","placeholder","Senha","required","",3,"ngModelChange","ngModel"],["name","perfil","required","",3,"ngModelChange","ngModel"],["value","usuario"],["value","admin"],["type","submit",3,"disabled"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"h2"),xe(2,"Cadastro de Usu\xe1rio"),V(),z(3,"form",1),ce("ngSubmit",function(){return i.cadastrar()}),z(4,"input",2),zr("ngModelChange",function(a){return hi(i.nome,a)||(i.nome=a),a}),V(),z(5,"input",3),zr("ngModelChange",function(a){return hi(i.email,a)||(i.email=a),a}),V(),z(6,"input",4),zr("ngModelChange",function(a){return hi(i.senha,a)||(i.senha=a),a}),V(),z(7,"select",5),zr("ngModelChange",function(a){return hi(i.perfil,a)||(i.perfil=a),a}),z(8,"option",6),xe(9,"Usu\xe1rio"),V(),z(10,"option",7),xe(11,"Administrador"),V()(),z(12,"button",8),xe(13),V()()()),2&r&&(H(4),Ur("ngModel",i.nome),H(),Ur("ngModel",i.email),H(),Ur("ngModel",i.senha),H(),Ur("ngModel",i.perfil),H(5),X("disabled",i.carregando),H(),ur(" ",i.carregando?"Cadastrando...":"Cadastrar"," "))},dependencies:[Jc,Vb,aH,lH,Kc,Ub,Il,Mb,yh,Zc,gh],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;width:100%;box-sizing:border-box}.cadastro-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:80px 0;padding:20px;background-color:#f5f5f5;border-radius:12px;box-shadow:0 0 10px #0000001a}.cadastro-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.cadastro-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.cadastro-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .cadastro-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px;border-radius:6px;border:1px solid #ccc;font-size:16px}.cadastro-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#007bff;color:#fff;font-weight:700;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s}.cadastro-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#999;cursor:not-allowed}.cadastro-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}"]})}return n})(),UH=(()=>{class n{auth;router;constructor(t,r){this.auth=t,this.router=r}canActivate(){return this.auth.getUsuarioAtual().pipe(Ye(t=>"admin"===t?.perfil||this.router.createUrlTree(["/"])))}static \u0275fac=function(r){return new(r||n)(_e(Fm),_e(mi))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FKe(n,e){1&n&&(z(0,"div",49)(1,"div",50),Ne(2,"ale-button",51),V()())}function LKe(n,e){if(1&n){const t=_n();z(0,"div",1)(1,"div",2),ce("click",function(){return Te(t),Ie(ie().onBackdropClick())}),V(),z(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h3"),xe(7),V()(),z(8,"div",7)(9,"button",8),ce("click",function(){return Te(t),Ie(ie().close())}),xe(10,"X"),V()()(),z(11,"div",9)(12,"form",10),ce("ngSubmit",function(){return Te(t),Ie(ie().salvar())}),z(13,"div",11)(14,"div",12),Ne(15,"ale-input-ale",13),V(),z(16,"div",14),Ne(17,"ale-input-ale",15),V()(),z(18,"div",16)(19,"div",17),Ne(20,"ale-input-decimal-ale",18),V(),z(21,"div",19),Ne(22,"ale-input-ale",20),V(),z(23,"div",21),Ne(24,"ale-select-ale",22),V(),z(25,"div",23),Ne(26,"ale-select-ale",22),V()(),z(27,"div",24)(28,"div",25),Ne(29,"ale-select-ale",22),V(),z(30,"div",26),Ne(31,"ale-data-ale",27),V(),z(32,"div",28),Ne(33,"ale-data-ale",29),V(),z(34,"div",30),Ne(35,"ale-input-ale",31),V()(),z(36,"div",32)(37,"div",33),Ne(38,"ale-input-decimal-ale",34),V(),z(39,"div",35),Ne(40,"ale-input-decimal-ale",36),V(),z(41,"div",37),Ne(42,"ale-input-ale",38),V(),z(43,"div",39),Ne(44,"ale-input-ale",40),V()(),z(45,"div",41)(46,"div",42),Ne(47,"ale-input-ale",43),V(),z(48,"div",44),Ne(49,"ale-input-ale",45),V(),z(50,"div",46),Ne(51,"ale-input-ale",47),V()(),et(52,FKe,3,0,"div",48),V()()()()()}if(2&n){const t=ie();H(7),Zn(t.title),H(5),X("formGroup",t.cadastroCliente),H(5),X("required",!0),H(3),X("maskType","cnpj")("required",!0),H(2),X("numerico",!0),H(2),X("label","Natureza Juridica")("placeholder","")("niveis",t.listNaturezaJuridica)("formControl",t.getControl("naturezaJuridica"))("allowTyping",!0)("required",!1),H(2),X("label","Atividade")("placeholder","")("niveis",t.listAtividade)("formControl",t.getControl("atividade"))("allowTyping",!1)("required",!1),H(3),X("label","Tributacao")("placeholder","")("niveis",t.listTributacao)("formControl",t.getControl("tributacao"))("allowTyping",!1)("required",!1),H(2),X("required",!1),H(2),X("required",!1),H(2),X("required",!1),H(3),X("maskType","cpf")("required",!1),H(2),X("maskType","phone")("required",!1),H(2),X("required",!1),H(2),X("required",!1),H(3),X("required",!1),H(2),X("required",!1),H(2),X("required",!1),H(),X("ngIf",!t.somenteVisualizacao)}}let VKe=(()=>{class n{fb;firestoreService;visible=!1;closeOnBackdrop=!0;title="T\xedtulo";somenteVisualizacao=!1;onClose=new fe;onSave=new fe;clienteParaEditar=null;listNaturezaJuridica=[{value:"LTDA",label:"LTDA"},{value:"EMPRES\xc1RIO INDIVIDUAL",label:"EMPRES\xc1RIO INDIVIDUAL"}];listAtividade=[{value:"COM\xc9RCIO",label:"COM\xc9RCIO"},{value:"IND\xdaSTRIA",label:"IND\xdaSTRIA"},{value:"SERVI\xc7O",label:"SERVI\xc7O"},{value:"COM\xc9RCIO E SERVI\xc7O",label:"COM\xc9RCIO E SERVI\xc7O"},{value:"COM\xc9RCIO E IND\xdaSTRIA",label:"COM\xc9RCIO E IND\xdaSTRIA"},{value:"COM\xc9RCIO, SERVI\xc7O E IND\xdaSTRIA",label:"COM\xc9RCIO, SERVI\xc7O E IND\xdaSTRIA"}];listTributacao=[{value:"LUCRO PREZUMIDO",label:"LUCRO PREZUMIDO"},{value:"LUCRO REAL",label:"LUCRO REAL"},{value:"MEI",label:"MEI"},{value:"SIMPLES",label:"SIMPLES"}];cadastroCliente;constructor(t,r){this.fb=t,this.firestoreService=r,this.cadastroCliente=this.fb.group({razaoSocial:["",Qc.required],nomeFantasia:["",Qc.required],cnpj:["",Qc.required],inscricaoEstadual:[""],naturezaJuridica:[""],atividade:[""],tributacao:[""],inicioAtividade:[""],clienteDesde:[""],nomeResponsavel:[""],cpf:[""],fone:[""],email:[""],senhaGov:[""],usuarioSiare:[""],senhaSiare:[""],caminhoPasta:[""]})}getControl(t){return this.cadastroCliente.get(t)}ngOnChanges(t){(t.clienteParaEditar||t.somenteVisualizacao)&&(this.clienteParaEditar?(this.cadastroCliente.patchValue({...this.clienteParaEditar,inicioAtividade:this.converterParaInputDate(this.clienteParaEditar.inicioAtividade),clienteDesde:this.converterParaInputDate(this.clienteParaEditar.clienteDesde)}),this.somenteVisualizacao?this.cadastroCliente.disable():this.cadastroCliente.enable()):(this.cadastroCliente.reset(),this.cadastroCliente.enable()))}onBackdropClick(){this.closeOnBackdrop&&this.cancel()}salvar(){if(!this.cadastroCliente.valid)return this.cadastroCliente.markAllAsTouched(),void console.log("Formul\xe1rio inv\xe1lido. Preencha os campos obrigat\xf3rios.");const t={...this.cadastroCliente.value,inicioAtividade:this.formatarDataString(new Date(this.cadastroCliente.value.inicioAtividade)),clienteDesde:this.cadastroCliente.value.clienteDesde?this.formatarDataString(new Date(this.cadastroCliente.value.clienteDesde)):""};if(this.clienteParaEditar){const r={...t,id:this.clienteParaEditar.id};this.firestoreService.updateClientepj(r.id,r).then(()=>{this.onSave.emit(r),this.close()})}else{const r=t;this.firestoreService.addCadastroClientepj(r).then(()=>{this.onSave.emit(r),this.close()})}}converterParaInputDate(t){return t?new Date(t).toISOString().substring(0,10):""}formatarDataString(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}close(){this.cadastroCliente.reset(),this.cancel()}cancel(){this.onClose.emit(!1)}static \u0275fac=function(r){return new(r||n)(Y(wce),Y(Rm))};static \u0275cmp=st({type:n,selectors:[["ale-modal-clientepj"]],inputs:{visible:"visible",closeOnBackdrop:"closeOnBackdrop",title:"title",somenteVisualizacao:"somenteVisualizacao",clienteParaEditar:"clienteParaEditar"},outputs:{onClose:"onClose",onSave:"onSave"},features:[vn],decls:1,vars:1,consts:[["class","modal-container","aria-modal","true",4,"ngIf"],["aria-modal","true",1,"modal-container"],[1,"modal-backdrop",3,"click"],[1,"container__cadastro-tarefas"],[1,"container__cadastro-form"],[1,"title_container"],[1,"title1"],[1,"title2"],["type","button",3,"click"],[1,"cadastro-form__container"],[3,"ngSubmit","formGroup"],[1,"linha1"],["id","razaoSocial",1,"form__container-input"],["label","Razao Social","type","text","formControlName","razaoSocial","errorMessage","Campo obrigat\xf3rio"],["id","nomeFantasia",1,"form__container-input"],["label","Nome Fantasia","type","text","formControlName","nomeFantasia","errorMessage","Campo obrigat\xf3rio",3,"required"],[1,"linha2"],["id","cnpj",1,"form__container-input"],["label","CNPJ","formControlName","cnpj","errorMessage","Campo obrigat\xf3rio",3,"maskType","required"],["id","inscricaoEstadual",1,"form__container-input"],["label","Inscricao Estadual","formControlName","inscricaoEstadual","errorMessage","Campo obrigat\xf3rio",3,"numerico"],["id","naturezaJuridica",1,"form__container-select"],["errorMessage","Campo obrigat\xf3rio",3,"label","placeholder","niveis","formControl","allowTyping","required"],["id","atividade",1,"form__container-select"],[1,"linha3"],["id","tributacao",1,"form__container-select"],["id","inicioAtividade",1,"form__container-data"],["label","In\xedcio Atividade","type","data","formControlName","inicioAtividade","errorMessage","Campo obrigat\xf3rio!",3,"required"],["id","clienteDesde",1,"form__container-data"],["label","Cliente Desde","type","data","formControlName","clienteDesde","errorMessage","Campo obrigat\xf3rio!",3,"required"],["id","nomeResponsavel",1,"form__container-input"],["label","Nome Responsavel","type","name","formControlName","nomeResponsavel","errorMessage","Campo obrigat\xf3rio",3,"required"],[1,"linha4"],["id","cpf",1,"form__container-input"],["label","CPF","formControlName","cpf","errorMessage","Campo obrigat\xf3rio",3,"maskType","required"],["id","fone",1,"form__container-input"],["label","Fone","type","tel","formControlName","fone","errorMessage","Campo obrigat\xf3rio",3,"maskType","required"],["id","email",1,"form__container-input"],["label","e-mail","type","email","formControlName","email","errorMessage","Campo obrigat\xf3rio",3,"required"],["id","senhaGov",1,"form__container-input"],["label","Senha Gov","formControlName","senhaGov","errorMessage","Campo obrigat\xf3rio",3,"required"],[1,"linha5"],["id","usuarioSiare",1,"form__container-input"],["label","Usu\xe1rio Siare","formControlName","usuarioSiare","errorMessage","Campo obrigat\xf3rio",3,"required"],["id","senhaSiare",1,"form__container-input"],["label","Senha Siare","formControlName","senhaSiare","errorMessage","Campo obrigat\xf3rio",3,"required"],["id","caminhoPasta",1,"form__container-input"],["label","Caminho Pasta","formControlName","caminhoPasta","errorMessage","Campo obrigat\xf3rio",3,"required"],["class","linha6",4,"ngIf"],[1,"linha6"],[1,"form__button"],["label","Salvar","type","submit"]],template:function(r,i){1&r&&et(0,LKe,53,37,"div",0),2&r&&X("ngIf",i.visible)},dependencies:[$i,Om,Vb,Il,Mb,yh,LS,vh,BS,Hue,Ece,Nm,uH,ax],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:998}.container__cadastro-tarefas[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:fixed;top:45%;left:50%;transform:translate(-50%,-50%);z-index:999;overflow:auto}.container__cadastro-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:70vw;min-width:600px;max-width:800px;gap:5px;box-sizing:border-box;border:3px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;background-color:#e0e0e0;border-radius:10px}.title_container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;background:linear-gradient(to bottom,#2d89ef,#1b4f9c);padding:6px 10px;border-bottom:1px solid #666;text-shadow:1px 1px 1px #000;border-top-left-radius:10px;border-top-right-radius:10px}.title_container[_ngcontent-%COMP%] > .title1[_ngcontent-%COMP%]{width:95%;font-weight:700;color:#fff}.title_container[_ngcontent-%COMP%] > .title2[_ngcontent-%COMP%]{width:5%;color:#fff;display:flex;align-items:center;justify-content:center}.title_container[_ngcontent-%COMP%] > .title2[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:transparent;border:none;font-weight:700;font-size:16px;transition:transform .6s}.title_container[_ngcontent-%COMP%] > .title2[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:#ff0;transform:scale(1.4)}.cadastro-form__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;flex-grow:1;padding:6px 10px}form[_ngcontent-%COMP%]{height:100%}.linha1[_ngcontent-%COMP%], .linha2[_ngcontent-%COMP%], .linha3[_ngcontent-%COMP%], .linha4[_ngcontent-%COMP%], .linha5[_ngcontent-%COMP%], .linha6[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:5px;width:100%;height:58px}.linha6[_ngcontent-%COMP%]{align-items:center}#razaoSocial[_ngcontent-%COMP%], #nomeFantasia[_ngcontent-%COMP%]{flex:1}#cnpj[_ngcontent-%COMP%]{width:155px}#inscricaoEstadual[_ngcontent-%COMP%]{width:125px}#naturezaJuridica[_ngcontent-%COMP%]{width:190px}#atividade[_ngcontent-%COMP%]{flex:1}#tributacao[_ngcontent-%COMP%]{width:155px}#inicioAtividade[_ngcontent-%COMP%], #clienteDesde[_ngcontent-%COMP%]{width:125px}#nomeResponsavel[_ngcontent-%COMP%]{flex:1}#cpf[_ngcontent-%COMP%]{width:130px}#fone[_ngcontent-%COMP%]{width:115px}#email[_ngcontent-%COMP%]{flex:1}#senhaGov[_ngcontent-%COMP%]{width:115px}#usuarioSiare[_ngcontent-%COMP%]{width:130px}#senhaSiare[_ngcontent-%COMP%]{width:115px}#caminhoPasta[_ngcontent-%COMP%]{flex:1}.form__button[_ngcontent-%COMP%]{width:100px;height:25px}"]})}return n})();const BKe=[{path:"login",component:OKe},{path:"",component:c8e,canActivate:[$ue]},{path:"tarefas",component:AKe,canActivate:[$ue]},{path:"financeiro",component:PKe,canActivate:[UH]},{path:"cadastro",component:NKe,canActivate:[UH]},{path:"clientepj",component:(()=>{class n{firestoreService;termoPesquisa="";mostrarModal=!1;modoVisualizacao=!1;mostrarModalEditar=!1;title="Cadastro";colunasLabels={razaoSocial:"Raz\xe3o Social",cnpj:"CNPJ",nomeResponsavel:"Nome Respons\xe1vel"};colunasProdutos=["razaoSocial","cnpj","nomeResponsavel"];tamanhosColunas={razaoSocial:{width:"250px"},cnpj:{width:"150px"},nomeResponsavel:{width:"auto",minWidth:"200px"}};formatoProdutos={cnpj:"cnpj"};listaClientespj=[];clientepjEmEdicao=null;constructor(t){this.firestoreService=t}ngOnInit(){this.carregarClientes()}fecharModal(){this.mostrarModal=!1,this.modoVisualizacao=!1,this.mostrarModalEditar=!1,console.log("FECHAR mostrarModal: "+this.mostrarModal+" modoVisualizacao: "+this.modoVisualizacao)}carregarClientes(){const t=this.firestoreService;t&&t.firestore&&t.firestore?this.firestoreService.getClientepj().subscribe(i=>{this.listaClientespj=i}):console.error("Firestore n\xe3o est\xe1 inicializado.")}abrirVisualizacao(t){this.title="Visualiza\xe7\xe3o de Cliente",this.clientepjEmEdicao={...t},this.modoVisualizacao=!0,this.mostrarModal=!0,console.log("VISUALIZAR mostrarModal: "+this.mostrarModal+" modoVisualizacao: "+this.modoVisualizacao)}editarCliente(t){this.title="Editar Cadastro Cliente",this.clientepjEmEdicao={...t},this.mostrarModal=!0,this.modoVisualizacao=!1,console.log("EDITAR mostrarModal: "+this.mostrarModal+" modoVisualizacao: "+this.modoVisualizacao)}excluirCliente(t){var r=this;return F(function*(){if(confirm(`Tems certeza que deseja excluir O Cliente  "${t.razaoSocial}"?`)&&t.id)try{yield r.firestoreService.deleteClientepj(t.id),console.log("Cliente exclu\xeddo:",t),r.carregarClientes()}catch(o){console.error("Erro ao excluir Cliente:",o)}})()}buttonClick(){this.title="Cadastro de Cliente",this.clientepjEmEdicao=null,this.mostrarModal=!0}static \u0275fac=function(r){return new(r||n)(Y(Rm))};static \u0275cmp=st({type:n,selectors:[["ale-clientepj"]],decls:11,vars:13,consts:[[1,"container__clientepj"],["id","clientepj__barra-menu"],[1,"clientepj__pesquisa-label"],["type","text","placeholder","Pesquisar...",3,"ngModelChange","keyup.enter","ngModel"],[1,"clientepj__buttons"],[1,"clientepj__buttons-button"],["label","Cadastro",3,"click"],["id","clientepj__container-tabela"],[1,"container-tabela"],[3,"editar","excluir","linhaClicada","colunasLabels","colunas","dados","tamanhosColunas","formatoColunas","mostrarAcoes","mostrarEditar","mostrarExcluir"],[3,"onClose","title","visible","clienteParaEditar","somenteVisualizacao"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),zr("ngModelChange",function(a){return hi(i.termoPesquisa,a)||(i.termoPesquisa=a),a}),ce("keyup.enter",function(){return i.carregarClientes()}),V()(),z(4,"div",4)(5,"div",5)(6,"ale-button",6),ce("click",function(){return i.buttonClick()}),V()()()(),z(7,"div",7)(8,"div",8)(9,"ale-table",9),ce("editar",function(a){return i.editarCliente(a)})("excluir",function(a){return i.excluirCliente(a)})("linhaClicada",function(a){return i.abrirVisualizacao(a)}),V()()()(),z(10,"ale-modal-clientepj",10),ce("onClose",function(){return i.fecharModal()}),V()),2&r&&(H(3),Ur("ngModel",i.termoPesquisa),H(6),X("colunasLabels",i.colunasLabels)("colunas",i.colunasProdutos)("dados",i.listaClientespj)("tamanhosColunas",i.tamanhosColunas)("formatoColunas",i.formatoProdutos)("mostrarAcoes",!0)("mostrarEditar",!0)("mostrarExcluir",!0),H(),X("title",i.title)("visible",i.mostrarModal)("clienteParaEditar",i.clientepjEmEdicao)("somenteVisualizacao",i.modoVisualizacao))},dependencies:[Jc,Kc,Il,Zc,Nm,cH,VKe],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;width:100%;height:100%;box-sizing:border-box}.container__clientepj[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 40px 15px;height:auto;width:100%;min-width:810px;max-width:1000px;background-color:#e9e9e6;box-sizing:border-box}#clientepj__barra-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:60px;margin-top:20px;padding:8px 5px;box-sizing:border-box;box-shadow:inset -1px -1px #fff,inset 1px 1px #999}#clientepj__container-tabela[_ngcontent-%COMP%]{width:100%;flex-grow:1;margin-top:10px;margin-bottom:10px;overflow:auto;min-height:0;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;background-color:#fff}.clientepj__pesquisa-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:70%}.clientepj__pesquisa-label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:60%;max-width:550px;height:35px;border-radius:25px;padding-left:35px;border:1px solid #ccc;box-shadow:inset -1px -1px #fff,inset 1px 1px #999;outline:none}.clientepj__buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:30%}.clientepj__buttons-button[_ngcontent-%COMP%]{width:100px;height:25px;margin-left:0}.container-tabela[_ngcontent-%COMP%]{padding:2px}"]})}return n})(),canActivate:[UH]},{path:"**",redirectTo:""}],UKe={apiKey:"AIzaSyCPdsyGy-lOE3H-KMj9BqP5pZSfg_XPi0g",authDomain:"dados-contabilidade-rezende.firebaseapp.com",projectId:"dados-contabilidade-rezende",storageBucket:"dados-contabilidade-rezende.firebasestorage.app",messagingSenderId:"874946945176",appId:"1:874946945176:web:837c590c617f6461a030ed"},zKe={providers:[function eje(n,...e){return Ao([Q3e,Z3e,{provide:vL,useFactory:J3e(n),multi:!0,deps:[De,pt,HI,...e]}])}(()=>tje(UKe)),function j$e(n,...e){return Di("angularfire",zI.full,"auth"),Ao([H$e,z$e,{provide:J2,useFactory:U$e(n),multi:!0,deps:[De,pt,HI,gL,[new Dr,BL],...e]}])}(()=>$$e()),function r8e(n,...e){return Di("angularfire",zI.full,"fst"),Ao([n8e,t8e,{provide:zz,useFactory:e8e(n),multi:!0,deps:[De,pt,HI,gL,[new Dr,Jre],[new Dr,BL],...e]}])}(()=>i8e()),function OEe(n){const e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=OR({ngZoneFactory:()=>{const i=NR(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ci("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ao([{provide:kEe,useValue:!0},{provide:Kh,useValue:!1},r])}({eventCoalescing:!0}),function _1e(n,...e){return Ao([{provide:qv,multi:!0,useValue:n},[],{provide:qf,useFactory:P7,deps:[mi]},{provide:Fu,multi:!0,useFactory:k7},e.map(t=>t.\u0275providers)])}(BKe),function hAe(...n){const e=[],t=new Set;for(const{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);const r=t.has(Zl.HttpTransferCacheOptions);return Ao([[],xTe(),t.has(Zl.NoHttpTransferCache)||r?[]:aAe({}),e])}(function dAe(){return function Pv(n,e=[],t={}){return{\u0275kind:n,\u0275providers:e}}(Zl.EventReplay,VW())}())]};function HKe(n,e){if(1&n){const t=_n();z(0,"a",7),ce("click",function(){return Te(t),Ie(ie(2).fechar())}),xe(1),V()}if(2&n){const t=ie().$implicit;X("routerLink",t.rota),H(),Zn(t.label)}}function jKe(n,e){if(1&n&&(z(0,"a",8),xe(1),V()),2&n){const t=ie().$implicit;H(),Zn(t.label)}}function $Ke(n,e){if(1&n&&(z(0,"li",4),et(1,HKe,2,2,"a",5)(2,jKe,2,1,"a",6),V()),2&n){const t=e.$implicit;H(),X("ngIf",t.rota),H(),X("ngIf",!t.rota)}}let GKe=(()=>{class n{titulo="";itens=[];submenuAberto=!1;abrir(){this.submenuAberto=!0}fechar(){this.submenuAberto=!1}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=st({type:n,selectors:[["ale-submenu-item"]],inputs:{titulo:"titulo",itens:"itens"},decls:5,vars:4,consts:[[1,"submenu-wrapper",3,"mouseenter","mouseleave"],[1,"menu-bar__principal"],[1,"submenu"],["class","menu-bar__submenu-item",4,"ngFor","ngForOf"],[1,"menu-bar__submenu-item"],[3,"routerLink","click",4,"ngIf"],["href","#",4,"ngIf"],[3,"click","routerLink"],["href","#"]],template:function(r,i){1&r&&(z(0,"div",0),ce("mouseenter",function(){return i.abrir()})("mouseleave",function(){return i.fechar()}),z(1,"a",1),xe(2),V(),z(3,"ul",2),et(4,$Ke,3,2,"li",3),V()()),2&r&&(H(2),Zn(i.titulo),H(),Qn("open",i.submenuAberto),H(),X("ngForOf",i.itens))},dependencies:[ju,Dv,$i,ok,Wv],styles:[".submenu-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.menu-bar__principal[_ngcontent-%COMP%]{display:block;padding:10px 20px;cursor:pointer}.menu-bar__principal[_ngcontent-%COMP%]:hover{font-weight:700}.submenu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;display:none;background-color:#fff;border:1px solid #ccc;border-radius:6px;padding:8px 0;min-width:180px;box-shadow:0 4px 8px #0000001a;z-index:1000}.submenu.open[_ngcontent-%COMP%]{display:block}.menu-bar__submenu-item[_ngcontent-%COMP%]{list-style:none;padding:10px 16px;white-space:nowrap;transition:background-color .3s}.menu-bar__submenu-item[_ngcontent-%COMP%]:hover{font-weight:700}"]})}return n})();function qKe(n,e){if(1&n){const t=_n();z(0,"li",7)(1,"a",11),ce("click",function(){return Te(t),Ie(ie(2).acessoRapido())}),xe(2,"Acesso R\xe1pido"),V()()}}function WKe(n,e){if(1&n&&Ne(0,"ale-submenu-item",12),2&n){const t=ie(2);X("titulo","Financeiro")("itens",t.financeiro)}}function YKe(n,e){if(1&n&&Ne(0,"ale-submenu-item",12),2&n){const t=ie(2);X("titulo","Controle")("itens",t.getItensVisiveis(t.controle))}}function KKe(n,e){1&n&&(z(0,"li",7)(1,"a"),xe(2,"DRE"),V()())}function XKe(n,e){if(1&n){const t=_n();z(0,"div",1)(1,"div",2)(2,"a",3),Ne(3,"img",4),V()(),z(4,"div",5)(5,"ul"),et(6,qKe,3,0,"li",6),z(7,"li",7)(8,"a",3),xe(9,"Tarefas"),V()(),z(10,"li"),et(11,WKe,1,2,"ale-submenu-item",8),V(),z(12,"li"),et(13,YKe,1,2,"ale-submenu-item",8),V(),et(14,KKe,3,0,"li",6),V()(),z(15,"div",9)(16,"nav")(17,"button",10),ce("click",function(){return Te(t),Ie(ie().onSair())}),xe(18,"Sair"),V()()()()}if(2&n){const t=ie();H(2),X("routerLink",""),H(4),X("ngIf",t.estaNaHome),H(2),X("routerLink",t.linkUrlTarefas),H(3),X("ngIf",t.isAdmin),H(2),X("ngIf",t.isAdmin),H(),X("ngIf",t.isAdmin)}}let QKe=(()=>{class n{auth;router;cadastro;linkUrlTarefas="/tarefas";linkUrlFinanceiro="/financeiro";usuario;estaNaHome=!1;submenuAberto=!1;submenuAberto2=!1;sair=new fe;financeiro=[{label:"Contas a Receber",rota:this.linkUrlFinanceiro,somenteAdmin:!0},{label:"Contas a Pagar"}];controle=[{label:"Usu\xe1rios",rota:"/cadastro",somenteAdmin:!0},{label:"Clientes",rota:"/clientepj"},{label:"Atividades"},{label:"Receitas"},{label:"Despesas"},{label:"Links"}];constructor(t,r){this.auth=t,this.router=r}get isAdmin(){return"admin"===this.usuario?.perfil}ngOnInit(){this.auth.getUsuarioAtual().subscribe(t=>{this.usuario=t}),this.verificarRota(this.router.url),this.router.events.pipe(Gi(t=>t instanceof Za)).subscribe(t=>{this.verificarRota(t.urlAfterRedirects)})}getItensVisiveis(t){return t.filter(r=>!r.somenteAdmin||this.isAdmin)}verificarRota(t){this.estaNaHome="/"===t}onSair(){this.auth.logout()}isHome(){return"/"===this.router.url}acessoRapido(){this.estaNaHome?window.dispatchEvent(new CustomEvent("toggleAcessoRapido")):this.router.navigate(["/"],{state:{mostrarAcessoRapido:!0}})}static \u0275fac=function(r){return new(r||n)(Y(Fm),Y(mi))};static \u0275cmp=st({type:n,selectors:[["ale-menus"]],outputs:{sair:"sair"},decls:1,vars:1,consts:[["class","container__menu-bar",4,"ngIf"],[1,"container__menu-bar"],[1,"container__menu-bar-logo"],[3,"routerLink"],["src","assets/images/logo_rezende_contabilidade.jpg","alt",""],[1,"container__menu-bar-menus"],["class","menu-bar__principal",4,"ngIf"],[1,"menu-bar__principal"],[3,"titulo","itens",4,"ngIf"],[1,"container__menu-bar-sair"],[1,"btn",3,"click"],[3,"click"],[3,"titulo","itens"]],template:function(r,i){1&r&&et(0,XKe,19,6,"div",0),2&r&&X("ngIf",i.auth.estaLogado())},dependencies:[ok,Wv,$i,GKe],styles:["[_nghost-%COMP%]{display:block;height:100%}.container__menu-bar[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;background-color:#d8d6d7}.container__menu-bar-logo[_ngcontent-%COMP%]{width:20%;overflow:hidden;display:flex;align-items:center;justify-content:center}.container__menu-bar-logo[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40px;object-fit:cover;border-radius:50%}.container__menu-bar-menus[_ngcontent-%COMP%]{width:75%}.container__menu-bar-menus[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{display:flex;flex-direction:row}.container__menu-bar-menus[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none}.container__menu-bar-menus[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000}.menu-bar__principal[_ngcontent-%COMP%]{display:block;padding:10px 20px;cursor:pointer;width:max-content;white-space:nowrap}.menu-bar__principal[_ngcontent-%COMP%]:hover{font-weight:700}.container__menu-bar-sair[_ngcontent-%COMP%]{width:15%;display:flex;justify-content:center;align-items:center;gap:5px}.btn[_ngcontent-%COMP%]{padding:2px 30px;font-size:1.1rem;border-radius:25px;background-color:#b9b8b9;border:none;cursor:pointer;transition:background-color .3s}.btn[_ngcontent-%COMP%]:hover{background-color:#9c9b9b}"]})}return n})();(function TIe(n,e){return sTe({rootComponent:n,...w8(e)})})((()=>{class n{auth;title="angular_Multi-Tarefa";constructor(t){this.auth=t}logout(){this.auth.logout()}static \u0275fac=function(r){return new(r||n)(Y(Fm))};static \u0275cmp=st({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container__menu"],[3,"sair"],[1,"container__tela"]],template:function(r,i){1&r&&(z(0,"header",0)(1,"ale-menus",1),ce("sair",function(){return i.logout()}),V()(),z(2,"div",2),Ne(3,"router-outlet"),V())},dependencies:[WP,QKe],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.container__menu[_ngcontent-%COMP%]{position:fixed;z-index:1000;width:100%;height:60px;border:1px solid #ccc;background-color:#f8f8f8;top:0}.container__tela[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;height:100vh;padding-top:50px;padding-bottom:15px}"]})}return n})(),zKe).catch(n=>console.error(n))}},Tx=>{Tx(Tx.s=916)}]);